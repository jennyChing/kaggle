<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta author="Alberto Miranda, b3rt.js@gmail.com"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta content="309437425817038" property="fb:app_id"/>
  <meta content="http://www.expedia.ca/city-comparison" property="og:url"/>
  <meta content="City Showdown" property="og:title"/>
  <meta content="http://www.expedia.ca/daily/enc4105/city-throwdown/img/header.gif" property="og:image"/>
  <meta content="website" property="og:type"/>
  <meta content="Expedia" property="og:site_name"/>
  <meta content="Ready to dust off your suitcase but can't decide between two places? Choose what elements are important to you and see how the top North American cities stack up against each other!" property="og:description"/>
  <title>
   City Showdown
  </title>
  <link href="http://fonts.googleapis.com/css?family=Neuton:200,400,400italic,800,700|Open+Sans:700,800,300|Roboto+Condensed:400,300italic,300,700" rel="stylesheet" type="text/css"/>
  <link href="css/build.css" rel="stylesheet" type="text/css"/>
 </head>
 <body>
  <div id="wrap-infographics">
   <div id="fb-root">
   </div>
   <div class="main-container">
    <div class="social-buttons">
     <div class="facebook button">
      <div class="fb-like" data-action="like" data-layout="box_count" data-share="true" data-show-faces="false" data-width="57">
      </div>
     </div>
     <div class="twitter button">
      <a class="twitter-share-button" data-count="vertical" data-hashtags="citycomparison, expedia, cityshowdown, canada, usa" data-text="North American Cities: An Interactive Comparison" data-via="" href="http://www.expedia.ca/city-comparison">
       Tweet
      </a>
     </div>
     <div class="google-plus button">
      <div class="g-plusone" data-action="share" data-annotation="bubble" data-height="60" data-size="tall" data-width="57">
      </div>
     </div>
     <div class="pinterest button">
      <a data-pin-config="above" data-pin-do="buttonPin" data-pin-height="28" href="http://www.pinterest.com/pin/create/button/?url=http://www.expedia.ca/city-comparison&amp;media=http://www.expedia.ca/daily/enc4105/city-throwdown/img/header.gif&amp;description=Ready to dust off your suitcase but can't decide between two places. Choose what elements are important to you and see how the top North American cities stack up against each other!">
       <img src="//assets.pinterest.com/images/pidgets/pin_it_button.png"/>
      </a>
     </div>
     <script type="text/javascript">
      (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();
     </script>
     <!--button.png(data-share="pdf") PNG Export-->
    </div>
    <div class="header-container">
     <img class="header" src="img/header.gif"/>
     <div class="header-content">
      <div class="title">
       North American Cities
      </div>
      <div class="subtitle">
       An Interactive Comparison
      </div>
      <div class="text">
       <p>
        Ready to dust off your suitcase but can't decide between two places?
       </p>
       <p>
        Choose what elements are important to you and see how the top cities
       </p>
       <p>
        stack up against each other!
       </p>
      </div>
     </div>
    </div>
    <div class="step s1 text-center">
     <div class="text-step">
      step
     </div>
     <div class="text-step-number">
      1
     </div>
     <div class="text-title text-middle">
      First, tell us what matters the most to you about a city
     </div>
     <div class="menu-categories">
      <div class="culture nav" data-description="Whether its coffee shops that get you buzzing or museums that spark your imagination, culture is king in a city." data-name="culture">
       <img class="culture-button unselected" src="img/categories/culture.png"/>
       <img class="culture-button selected hidden" src="img/categories/culture-selected.png"/>
      </div>
      <div class="transport nav" data-description="Planes, trains, and automobiles. Tenacious transportation and alluring accommodations give any city an edge." data-name="transport">
       <img class="transport-button unselected" src="img/categories/transport.png"/>
       <img class="transport-button selected hidden" src="img/categories/transport-selected.png"/>
      </div>
      <div class="visit nav" data-description="Mittens or swimsuits? Here are the best times to visit and top things to do once youre here." data-name="visit">
       <img class="visit-button unselected" src="img/categories/visit.png"/>
       <img class="visit-button selected hidden" src="img/categories/visit-selected.png"/>
      </div>
      <div class="happiness nav" data-description="Quality of life factors are important not only for cities you want to live in, but also visit." data-name="happiness">
       <img class="happiness-button unselected" src="img/categories/happiness.png"/>
       <img class="happiness-button selected hidden" src="img/categories/happiness-selected.png"/>
      </div>
      <div class="category-description smooth">
      </div>
     </div>
    </div>
    <div class="step s2 text-center">
     <div class="text-step">
      step
     </div>
     <div class="text-step-number">
      2
     </div>
     <div class="text-title text-middle">
      Now, pick two cities to compare
     </div>
     <div class="city-selectors">
      <span class="city1">
      </span>
      <span class="versus">
       VS
      </span>
      <span class="city2">
      </span>
     </div>
     <div class="unit-selector">
      <div class="title small">
       Measurement unit
      </div>
      <div class="metric inline selector selected" data-unit="metric">
       <div class="unit">
        Metric (C)
       </div>
      </div>
      <div class="imperial inline selector" data-unit="imperial">
       <div class="unit">
        Imperial (F)
       </div>
      </div>
     </div>
    </div>
    <div class="attributes">
    </div>
   </div>
   <footer>
    <div class="box-container smooth">
     <div class="box">
      <div class="item-box">
       <div class="text-title">
        City Comparison Data
       </div>
       <p>
        Due to the dynamic nature of certain data points, their values are subject to change. Data presented is NOT to be used to inform purchasing decisions, used for in-depth market analysis, or to negotiate salary/terms. Please refer to individual data sources for more information.
       </p>
       <br/>
       <p>
        All product and company names are trademarks or registered trademarks of their respective owners. Any mention within this infographic does not imply any affiliation with, endorsement by, or endorsement for them.
       </p>
      </div>
      <div class="item">
       <div class="text-title">
        Data Sources
       </div>
       <div class="column">
        <a href="http://24saltlake.com" rel="nofollow" target="_blank">
         24saltlake.com
        </a>
        <a href="http://50states.com" rel="nofollow" target="_blank">
         50states.com
        </a>
        <a href="http://accesswinnipeg.com" rel="nofollow" target="_blank">
         accesswinnipeg.com
        </a>
        <a href="http://aci.aero" rel="nofollow" target="_blank">
         aci.aero
        </a>
        <a href="http://admtl.com" rel="nofollow" target="_blank">
         admtl.com
        </a>
        <a href="http://airtravel.about.com" rel="nofollow" target="_blank">
         airtravel.about.com
        </a>
        <a href="http://alltrails.com" rel="nofollow" target="_blank">
         alltrails.com
        </a>
        <a href="http://atlasobscura.com" rel="nofollow" target="_blank">
         atlasobscura.com
        </a>
        <a href="http://austin-aus.airports-guides.com" rel="nofollow" target="_blank">
         austin-aus.airports-guides.com
        </a>
        <a href="http://austineventsandfestivals.com" rel="nofollow" target="_blank">
         austineventsandfestivals.com
        </a>
       </div>
       <div class="column">
        <a href="http://autoshare.com" rel="nofollow" target="_blank">
         autoshare.com
        </a>
        <a href="http://avenueedmonton.com" rel="nofollow" target="_blank">
         avenueedmonton.com
        </a>
        <a href="http://besttimetogo.com" rel="nofollow" target="_blank">
         besttimetogo.com
        </a>
        <a href="http://bizbash.com" rel="nofollow" target="_blank">
         bizbash.com
        </a>
        <a href="http://blog.holidaysresources.com" rel="nofollow" target="_blank">
         blog.holidaysresources.com
        </a>
        <a href="http://blogs.houstonpress.com" rel="nofollow" target="_blank">
         blogs.houstonpress.com
        </a>
        <a href="http://bls.gov" rel="nofollow" target="_blank">
         bls.gov
        </a>
        <a href="http://bonjourquebec.com" rel="nofollow" target="_blank">
         bonjourquebec.com
        </a>
        <a href="http://boston.about.com" rel="nofollow" target="_blank">
         boston.about.com
        </a>
        <a href="http://bostonusa.com" rel="nofollow" target="_blank">
         bostonusa.com
        </a>
       </div>
       <div class="column">
        <a href="http://btr.michaelkwan.com" rel="nofollow" target="_blank">
         btr.michaelkwan.com
        </a>
        <a href="http://calgary.ca" rel="nofollow" target="_blank">
         calgary.ca
        </a>
        <a href="http://calgarydowntown.com" rel="nofollow" target="_blank">
         calgarydowntown.com
        </a>
        <a href="http://calgaryeconomicdevelopment.com" rel="nofollow" target="_blank">
         calgaryeconomicdevelopment.com
        </a>
        <a href="http://calgarymlc.ca" rel="nofollow" target="_blank">
         calgarymlc.ca
        </a>
        <a href="http://calgarytower.com" rel="nofollow" target="_blank">
         calgarytower.com
        </a>
        <a href="http://calgarytransit.com" rel="nofollow" target="_blank">
         calgarytransit.com
        </a>
        <a href="http://californiathroughmylens.com" rel="nofollow" target="_blank">
         californiathroughmylens.com
        </a>
        <a href="http://canada-photos.com" rel="nofollow" target="_blank">
         canada-photos.com
        </a>
        <a href="http://capmetro.org" rel="nofollow" target="_blank">
         capmetro.org
        </a>
       </div>
       <div class="column">
        <a href="http://caps-i.ca" rel="nofollow" target="_blank">
         caps-i.ca
        </a>
        <a href="http://cardonline.ca" rel="nofollow" target="_blank">
         cardonline.ca
        </a>
        <a href="http://cbc.ca" rel="nofollow" target="_blank">
         cbc.ca
        </a>
        <a href="http://centexghost.org" rel="nofollow" target="_blank">
         centexghost.org
        </a>
        <a href="http://chicago.cbslocal.com" rel="nofollow" target="_blank">
         chicago.cbslocal.com
        </a>
        <a href="http://chitownfestivals.com" rel="nofollow" target="_blank">
         chitownfestivals.com
        </a>
        <a href="http://city-data.comcrime" rel="nofollow" target="_blank">
         city-data.comcrime
        </a>
        <a href="http://communitycarshare.ca " rel="nofollow" target="_blank">
         communitycarshare.ca
        </a>
        <a href="http://coralcastle.com" rel="nofollow" target="_blank">
         coralcastle.com
        </a>
        <a href="http://crea.ca" rel="nofollow" target="_blank">
         crea.ca
        </a>
       </div>
       <div class="column">
        <a href="http://creastats.crea.ca" rel="nofollow" target="_blank">
         creastats.crea.ca
        </a>
        <a href="http://currentresults.com" rel="nofollow" target="_blank">
         currentresults.com
        </a>
        <a href="http://destinationhalifax.com" rel="nofollow" target="_blank">
         destinationhalifax.com
        </a>
        <a href="http://destinationhotels.com" rel="nofollow" target="_blank">
         destinationhotels.com
        </a>
        <a href="http://economicdevelopmentwinnipeg.com" rel="nofollow" target="_blank">
         economicdevelopmentwinnipeg.com
        </a>
        <a href="http://edmonton.catransportation" rel="nofollow" target="_blank">
         edmonton.catransportation
        </a>
        <a href="http://edmontonattractions.com" rel="nofollow" target="_blank">
         edmontonattractions.com
        </a>
        <a href="http://eldoradocountyweather.com" rel="nofollow" target="_blank">
         eldoradocountyweather.com
        </a>
        <a href="http://en.wikipedia.org" rel="nofollow" target="_blank">
         en.wikipedia.org
        </a>
        <a href="http://events12.com" rel="nofollow" target="_blank">
         events12.com
        </a>
       </div>
      </div>
      <div class="item">
       <div class="column">
        <a href="http://examiner.com" rel="nofollow" target="_blank">
         examiner.com
        </a>
        <a href="http://expedia.ca" rel="nofollow" target="_blank">
         expedia.ca
        </a>
        <a href="http://faa.gov" rel="nofollow" target="_blank">
         faa.gov
        </a>
        <a href="http://fairmont.com" rel="nofollow" target="_blank">
         fairmont.com
        </a>
        <a href="http://fly2houston.com" rel="nofollow" target="_blank">
         fly2houston.com
        </a>
        <a href="http://fodors.com" rel="nofollow" target="_blank">
         fodors.com
        </a>
        <a href="http://galerieleroyer.com" rel="nofollow" target="_blank">
         galerieleroyer.com
        </a>
        <a href="http://gladstonehotel.com" rel="nofollow" target="_blank">
         gladstonehotel.com
        </a>
        <a href="http://globalcomputing.com" rel="nofollow" target="_blank">
         globalcomputing.com
        </a>
        <a href="http://gocanada.about.com" rel="nofollow" target="_blank">
         gocanada.about.com
        </a>
       </div>
       <div class="column">
        <a href="http://golosangeles.about.com " rel="nofollow" target="_blank">
         golosangeles.about.com
        </a>
        <a href="http://governing.com" rel="nofollow" target="_blank">
         governing.com
        </a>
        <a href="http://greatschools.org" rel="nofollow" target="_blank">
         greatschools.org
        </a>
        <a href="http://halifax.ca" rel="nofollow" target="_blank">
         halifax.ca
        </a>
        <a href="http://hellobc.com" rel="nofollow" target="_blank">
         hellobc.com
        </a>
        <a href="http://hiaa.ca" rel="nofollow" target="_blank">
         hiaa.ca
        </a>
        <a href="http://hikebiketravel.com" rel="nofollow" target="_blank">
         hikebiketravel.com
        </a>
        <a href="http://historichotels.org" rel="nofollow" target="_blank">
         historichotels.org
        </a>
        <a href="http://hotelclarendon.com" rel="nofollow" target="_blank">
         hotelclarendon.com
        </a>
        <a href="http://hotels.com" rel="nofollow" target="_blank">
         hotels.com
        </a>
       </div>
       <div class="column">
        <a href="http://houston.baps.org" rel="nofollow" target="_blank">
         houston.baps.org
        </a>
        <a href="http://houstonchronicle.com" rel="nofollow" target="_blank">
         houstonchronicle.com
        </a>
        <a href="http://houstontx.gov" rel="nofollow" target="_blank">
         houstontx.gov
        </a>
        <a href="http://hswmuseum.ednet.ns.ca" rel="nofollow" target="_blank">
         hswmuseum.ednet.ns.ca
        </a>
        <a href="http://htns.ca" rel="nofollow" target="_blank">
         htns.ca
        </a>
        <a href="http://huffingtonpost.ca" rel="nofollow" target="_blank">
         huffingtonpost.ca
        </a>
        <a href="http://huffingtonpost.com" rel="nofollow" target="_blank">
         huffingtonpost.com
        </a>
        <a href="http://idlewyldinn.com" rel="nofollow" target="_blank">
         idlewyldinn.com
        </a>
        <a href="http://imdb.com" rel="nofollow" target="_blank">
         imdb.com
        </a>
        <a href="http://immigration.london.ca" rel="nofollow" target="_blank">
         immigration.london.ca
        </a>
       </div>
       <div class="column">
        <a href="http://investtoronto.ca" rel="nofollow" target="_blank">
         investtoronto.ca
        </a>
        <a href="http://jaunted.com" rel="nofollow" target="_blank">
         jaunted.com
        </a>
        <a href="http://korrigane.ca" rel="nofollow" target="_blank">
         korrigane.ca
        </a>
        <a href="http://laconservancy.org" rel="nofollow" target="_blank">
         laconservancy.org
        </a>
        <a href="http://lasvegas.cbslocal.com" rel="nofollow" target="_blank">
         lasvegas.cbslocal.com
        </a>
        <a href="http://lasvegasnevada.gov" rel="nofollow" target="_blank">
         lasvegasnevada.gov
        </a>
        <a href="http://liveincalgary.com" rel="nofollow" target="_blank">
         liveincalgary.com
        </a>
        <a href="http://livestrong.com" rel="nofollow" target="_blank">
         livestrong.com
        </a>
        <a href="http://london.ca" rel="nofollow" target="_blank">
         london.ca
        </a>
        <a href="http://londonairport.on.ca" rel="nofollow" target="_blank">
         londonairport.on.ca
        </a>
       </div>
       <div class="column">
        <a href="http://londontourism.ca" rel="nofollow" target="_blank">
         londontourism.ca
        </a>
        <a href="http://ltconline.ca" rel="nofollow" target="_blank">
         ltconline.ca
        </a>
        <a href="http://maps.edmontonheritage.ca" rel="nofollow" target="_blank">
         maps.edmontonheritage.ca
        </a>
        <a href="http://mbta.com" rel="nofollow" target="_blank">
         mbta.com
        </a>
        <a href="http://metro.kingcounty.gov" rel="nofollow" target="_blank">
         metro.kingcounty.gov
        </a>
        <a href="http://metro.net" rel="nofollow" target="_blank">
         metro.net
        </a>
        <a href="http://miami.about.com" rel="nofollow" target="_blank">
         miami.about.com
        </a>
        <a href="http://miamidade.gov" rel="nofollow" target="_blank">
         miamidade.gov
        </a>
        <a href="http://montreal.com" rel="nofollow" target="_blank">
         montreal.com
        </a>
        <a href="http://montreal.worldweb.com" rel="nofollow" target="_blank">
         montreal.worldweb.com
        </a>
       </div>
      </div>
      <div class="item">
       <div class="column">
        <a href="http://montrealfamilies.ca" rel="nofollow" target="_blank">
         montrealfamilies.ca
        </a>
        <a href="http://montrealpoutine.com" rel="nofollow" target="_blank">
         montrealpoutine.com
        </a>
        <a href="http://mythforum.com" rel="nofollow" target="_blank">
         mythforum.com
        </a>
        <a href="http://nature.nps.gov" rel="nofollow" target="_blank">
         nature.nps.gov
        </a>
        <a href="http://nileguide.com" rel="nofollow" target="_blank">
         nileguide.com
        </a>
        <a href="http://nsbeaches.com" rel="nofollow" target="_blank">
         nsbeaches.com
        </a>
        <a href="http://ns-schools.ednet.ns.ca" rel="nofollow" target="_blank">
         ns-schools.ednet.ns.ca
        </a>
        <a href="http://numbeo.com" rel="nofollow" target="_blank">
         numbeo.com
        </a>
        <a href="http://nycgo.com" rel="nofollow" target="_blank">
         nycgo.com
        </a>
        <a href="http://octranspo1.com" rel="nofollow" target="_blank">
         octranspo1.com
        </a>
       </div>
       <div class="column">
        <a href="http://ols-chicago.org" rel="nofollow" target="_blank">
         ols-chicago.org
        </a>
        <a href="http://ontariotrails.on.ca" rel="nofollow" target="_blank">
         ontariotrails.on.ca
        </a>
        <a href="http://ottawa.ca" rel="nofollow" target="_blank">
         ottawa.ca
        </a>
        <a href="http://ottawa-information-guide.com" rel="nofollow" target="_blank">
         ottawa-information-guide.com
        </a>
        <a href="http://ottawarickshaws.ca" rel="nofollow" target="_blank">
         ottawarickshaws.ca
        </a>
        <a href="http://ottawatourism.ca" rel="nofollow" target="_blank">
         ottawatourism.ca
        </a>
        <a href="http://ourkids.net" rel="nofollow" target="_blank">
         ourkids.net
        </a>
        <a href="http://palmerhousehiltonhotel.com" rel="nofollow" target="_blank">
         palmerhousehiltonhotel.com
        </a>
        <a href="http://pbdba.lfpress.com" rel="nofollow" target="_blank">
         pbdba.lfpress.com
        </a>
        <a href="http://people.com" rel="nofollow" target="_blank">
         people.com
        </a>
       </div>
       <div class="column">
        <a href="http://pierreducalvet.ca" rel="nofollow" target="_blank">
         pierreducalvet.ca
        </a>
        <a href="http://prosperityfountain.com" rel="nofollow" target="_blank">
         prosperityfountain.com
        </a>
        <a href="http://psican.org" rel="nofollow" target="_blank">
         psican.org
        </a>
        <a href="http://quebeccity.worldweb.com" rel="nofollow" target="_blank">
         quebeccity.worldweb.com
        </a>
        <a href="http://quebec-guidetouristique.travel" rel="nofollow" target="_blank">
         quebec-guidetouristique.travel
        </a>
        <a href="http://quickfacts.census.gov" rel="nofollow" target="_blank">
         quickfacts.census.gov
        </a>
        <a href="http://reddit.com" rel="nofollow" target="_blank">
         reddit.com
        </a>
        <a href="http://ridemetro.org" rel="nofollow" target="_blank">
         ridemetro.org
        </a>
        <a href="http://roeddehouse.org" rel="nofollow" target="_blank">
         roeddehouse.org
        </a>
        <a href="http://rtcsnv.com" rel="nofollow" target="_blank">
         rtcsnv.com
        </a>
       </div>
       <div class="column">
        <a href="http://rvwest.com" rel="nofollow" target="_blank">
         rvwest.com
        </a>
        <a href="http://sandiego.org" rel="nofollow" target="_blank">
         sandiego.org
        </a>
        <a href="http://sandyhines.com" rel="nofollow" target="_blank">
         sandyhines.com
        </a>
        <a href="http://schallerconsult.com" rel="nofollow" target="_blank">
         schallerconsult.com
        </a>
        <a href="http://sdmts.com" rel="nofollow" target="_blank">
         sdmts.com
        </a>
        <a href="http://seattlemet.com" rel="nofollow" target="_blank">
         seattlemet.com
        </a>
        <a href="http://ski-resorts.findthebest.com" rel="nofollow" target="_blank">
         ski-resorts.findthebest.com
        </a>
        <a href="http://smithsonianmag.com" rel="nofollow" target="_blank">
         smithsonianmag.com
        </a>
        <a href="http://songplaces.com" rel="nofollow" target="_blank">
         songplaces.com
        </a>
        <a href="http://spaceneedle.comfun-facts" rel="nofollow" target="_blank">
         spaceneedle.comfun-facts
        </a>
       </div>
       <div class="column">
        <a href="http://statcan.gc.ca" rel="nofollow" target="_blank">
         statcan.gc.ca
        </a>
        <a href="http://stm.info" rel="nofollow" target="_blank">
         stm.info
        </a>
        <a href="http://telegraphe.com" rel="nofollow" target="_blank">
         telegraphe.com
        </a>
        <a href="http://thebesttimetovisit.com" rel="nofollow" target="_blank">
         thebesttimetovisit.com
        </a>
        <a href="http://thecanadaguide.com" rel="nofollow" target="_blank">
         thecanadaguide.com
        </a>
        <a href="http://thecoast.ca" rel="nofollow" target="_blank">
         thecoast.ca
        </a>
        <a href="http://theloop.ca" rel="nofollow" target="_blank">
         theloop.ca
        </a>
        <a href="http://thetyee.ca" rel="nofollow" target="_blank">
         thetyee.ca
        </a>
        <a href="http://thewestinnovascotian.com" rel="nofollow" target="_blank">
         thewestinnovascotian.com
        </a>
        <a href="http://thinkglobalschool.org" rel="nofollow" target="_blank">
         thinkglobalschool.org
        </a>
       </div>
      </div>
      <div class="item">
       <div class="column">
        <a href="http://thrillist.com" rel="nofollow" target="_blank">
         thrillist.com
        </a>
        <a href="http://timeout.com" rel="nofollow" target="_blank">
         timeout.com
        </a>
        <a href="http://topprivateschools.ca" rel="nofollow" target="_blank">
         topprivateschools.ca
        </a>
        <a href="http://toronto.ca" rel="nofollow" target="_blank">
         toronto.ca
        </a>
        <a href="http://toronto.worldweb.com" rel="nofollow" target="_blank">
         toronto.worldweb.com
        </a>
        <a href="http://tourismvancouver.com" rel="nofollow" target="_blank">
         tourismvancouver.com
        </a>
        <a href="http://tourismwinnipeg.com" rel="nofollow" target="_blank">
         tourismwinnipeg.com
        </a>
        <a href="http://tpsgc-pwgsc.gc.ca" rel="nofollow" target="_blank">
         tpsgc-pwgsc.gc.ca
        </a>
        <a href="http://transitchicago.com" rel="nofollow" target="_blank">
         transitchicago.com
        </a>
        <a href="http://translink.ca" rel="nofollow" target="_blank">
         translink.ca
        </a>
       </div>
       <div class="column">
        <a href="http://travel.usnews.com" rel="nofollow" target="_blank">
         travel.usnews.com
        </a>
        <a href="http://travelchannel.com" rel="nofollow" target="_blank">
         travelchannel.com
        </a>
        <a href="http://travelinsidermagazine.com" rel="nofollow" target="_blank">
         travelinsidermagazine.com
        </a>
        <a href="http://ttc.ca" rel="nofollow" target="_blank">
         ttc.ca
        </a>
        <a href="http://txfgm.org" rel="nofollow" target="_blank">
         txfgm.org
        </a>
        <a href="http://ufocasebook.com" rel="nofollow" target="_blank">
         ufocasebook.com
        </a>
        <a href="http://urbanlegends.about.com" rel="nofollow" target="_blank">
         urbanlegends.about.com
        </a>
        <a href="http://usa.com" rel="nofollow" target="_blank">
         usa.com
        </a>
        <a href="http://usatoday.com" rel="nofollow" target="_blank">
         usatoday.com
        </a>
        <a href="http://vagabondish.com" rel="nofollow" target="_blank">
         vagabondish.com
        </a>
       </div>
       <div class="column">
        <a href="http://vancouver.ca" rel="nofollow" target="_blank">
         vancouver.ca
        </a>
        <a href="http://vancouver.worldweb.com" rel="nofollow" target="_blank">
         vancouver.worldweb.com
        </a>
        <a href="http://victorianhotel.ca" rel="nofollow" target="_blank">
         victorianhotel.ca
        </a>
        <a href="http://ville.montreal.qc.ca" rel="nofollow" target="_blank">
         ville.montreal.qc.ca
        </a>
        <a href="http://virtual.heritagewinnipeg.com" rel="nofollow" target="_blank">
         virtual.heritagewinnipeg.com
        </a>
        <a href="http://virtualtourist.com" rel="nofollow" target="_blank">
         virtualtourist.com
        </a>
        <a href="http://voices.yahoo.com" rel="nofollow" target="_blank">
         voices.yahoo.com
        </a>
        <a href="http://walkscore.com" rel="nofollow" target="_blank">
         walkscore.com
        </a>
        <a href="http://weather.com" rel="nofollow" target="_blank">
         weather.com
        </a>
        <a href="http://weather.gc.ca" rel="nofollow" target="_blank">
         weather.gc.ca
        </a>
       </div>
       <div class="column">
        <a href="http://weather.sg.msn.com" rel="nofollow" target="_blank">
         weather.sg.msn.com
        </a>
        <a href="http://web.mta.info" rel="nofollow" target="_blank">
         web.mta.info
        </a>
        <a href="http://westendbiz.ca" rel="nofollow" target="_blank">
         westendbiz.ca
        </a>
        <a href="http://westislandkids.com" rel="nofollow" target="_blank">
         westislandkids.com
        </a>
        <a href="http://westjet.com" rel="nofollow" target="_blank">
         westjet.com
        </a>
        <a href="http://winesofcanada.com" rel="nofollow" target="_blank">
         winesofcanada.com
        </a>
        <a href="http://winnipeg.ca" rel="nofollow" target="_blank">
         winnipeg.ca
        </a>
        <a href="http://winnipeg.worldweb.com" rel="nofollow" target="_blank">
         winnipeg.worldweb.com
        </a>
        <a href="http://winnipegtransit.com" rel="nofollow" target="_blank">
         winnipegtransit.com
        </a>
        <a href="http://worldpopulationreview.com" rel="nofollow" target="_blank">
         worldpopulationreview.com
        </a>
       </div>
       <div class="column">
        <a href="http://worldpopulationstatistics.com" rel="nofollow" target="_blank">
         worldpopulationstatistics.com
        </a>
        <a href="http://yellowpages.com" rel="nofollow" target="_blank">
         yellowpages.com
        </a>
        <a href="http://yelp.ca" rel="nofollow" target="_blank">
         yelp.ca
        </a>
        <a href="http://yelp.com" rel="nofollow" target="_blank">
         yelp.com
        </a>
        <a href="http://yvr.ca" rel="nofollow" target="_blank">
         yvr.ca
        </a>
       </div>
      </div>
     </div>
    </div>
    <a class="left carousel-control">
     <span class="glyphicon glyphicon-chevron-left">
     </span>
    </a>
    <a class="right carousel-control">
     <span class="glyphicon glyphicon-chevron-right">
     </span>
    </a>
    <div class="logo">
     <a href="http://expedia.ca" target="_blank">
      <img src="img/expedia-logo.png"/>
     </a>
    </div>
   </footer>
  </div>
  <script id="template-city-selector" type="text/x-template">
   &lt;div class="btn-group dropup"&gt;&lt;button type="button" data-toggle="dropdown" class="btn btn-&lt;%= properties.style %&gt; dropdown-toggle btn-lg city-selector unselected"&gt;&lt;span class="selected-city"&gt;&lt;%= properties.title %&gt;&lt;/span&gt;&lt;span class="caret"&gt;&lt;/span&gt;&lt;/button&gt;&lt;ul role="menu" class="dropdown-menu"&gt;&lt;% _.each(items, function(city){ %&gt;&lt;li data-name="&lt;%= city.name %&gt;" data-nickname="&lt;%= city.nickname %&gt;" data-id="&lt;%= city.id %&gt;" data-country="&lt;%= city.country %&gt;" class="city-selector-item city-&lt;%= city.id %&gt;"&gt;&lt;a href="javascript:void(0)"&gt;&lt;%= city.name %&gt;&lt;/a&gt;&lt;/li&gt;&lt;% }); %&gt;&lt;/ul&gt;&lt;div class="nickname-container"&gt;&lt;div class="nickname smooth"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
  </script>
  <script id="template-attributes" type="text/x-template">
   &lt;div class="line-middle"&gt;&lt;/div&gt;&lt;div class="category-attributes culture &lt;% if (!categories.culture){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div class="attributes-title"&gt;Culture&lt;/div&gt;&lt;div class="attribute-row medium-extra"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/culture/sights.gif"&gt;&lt;div class="text"&gt;The Sights&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row art"&gt;&lt;% var maxWidth = 185; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Art &amp; landmarks&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left small align-right no-side-space"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.museumsAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.museumsAmount.max.value/maxWidth) ); %&gt;&lt;div class="value museumsAmount inline small space-normal"&gt;&lt;%= value %&gt; Museums&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.artGalleriesAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.artGalleriesAmount.max.value/maxWidth) ); %&gt;&lt;div class="value artGalleriesAmount inline small space-normal"&gt;&lt;%= value %&gt; Art galleries&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.liveTheatresAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.liveTheatresAmount.max.value/maxWidth) ); %&gt;&lt;div class="value liveTheatresAmount inline small space-normal"&gt;&lt;%= value %&gt; Live theatres&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.golfCoursesAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.golfCoursesAmount.max.value/maxWidth) ); %&gt;&lt;div class="value golfCoursesAmount inline small space-normal"&gt;&lt;%= value %&gt; Golf courses&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right small align-left no-side-space"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.museumsAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.museumsAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value museumsAmount inline small space-normal"&gt;&lt;%= value %&gt; Museums&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.artGalleriesAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.artGalleriesAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value artGalleriesAmount inline small space-normal"&gt;&lt;%= value %&gt; Art galleries&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.liveTheatresAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.liveTheatresAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value liveTheatresAmount inline small space-normal"&gt;&lt;%= value %&gt; Live theatres&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.culture.golfCoursesAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.golfCoursesAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value golfCoursesAmount inline small space-normal"&gt;&lt;%= value %&gt; Golf courses&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row wineries"&gt;&lt;% var maxHeight = 60; %&gt;
&lt;% var divider = minMaxValues.wineriesAmount.max.value/maxHeight; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Wineries&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.wineriesAmount; %&gt;
&lt;% var height = value/divider; %&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large wineriesAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="bottle-container"&gt;&lt;img src="img/categories/culture/bottle-left.png" class="graphic bottle"&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;" class="wine smooth animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.wineriesAmount; %&gt;
&lt;% var height = value/divider; %&gt;&lt;div class="bottle-container"&gt;&lt;img src="img/categories/culture/bottle-right.png" class="graphic bottle"&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;" class="wine smooth animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large wineriesAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra2"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/culture/sports.gif"&gt;&lt;div class="text"&gt;Sports&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row sport"&gt;&lt;% var maxWidth = 219; %&gt;
&lt;% var half = maxWidth/2; %&gt;
&lt;% var value1 = parseInt(cities[0].attributes.culture.professionalSportsTeamsAmount, 10); %&gt;
&lt;% var value2 = parseInt(cities[1].attributes.culture.professionalSportsTeamsAmount, 10); %&gt;
&lt;% var total = value1 + value2; %&gt;
&lt;% var width1 = Math.round( (value1/total) * maxWidth ); %&gt;
&lt;% var width2 = Math.round( (value2/total) * maxWidth ); %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Sports teams&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left no-side-space align-right bottom"&gt;&lt;div style="width: &lt;%= maxWidth %&gt;px; height: 160px" class="inline overlap-side"&gt;&lt;img data-animation="style" data-property="left" data-value="&lt;%= width2 %&gt;px" style="left: &lt;%= half %&gt;px" src="img/categories/culture/rugby-ball-left.svg" class="graphic smoother absolute animate"&gt;&lt;/div&gt;&lt;div class="inline space-small"&gt;&lt;div class="name small"&gt;Pro Sports Teams&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value1 %&gt;" class="value large normalized professionalSportsTeamsAmount animate"&gt;&lt;%= value1 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-medium"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right no-side-space align-left bottom"&gt;&lt;div style="width: &lt;%= maxWidth %&gt;px; height: 160px" class="inline overlap-side"&gt;&lt;img data-animation="style" data-property="right" data-value="&lt;%= width1 %&gt;px" style="right: &lt;%= half %&gt;px" src="img/categories/culture/rugby-ball-right.svg" class="graphic smoother absolute animate"&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-medium"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value2 %&gt;" class="value large normalized professionalSportsTeamsAmount animate"&gt;&lt;%= value2 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline space-small"&gt;&lt;div class="name small"&gt;Pro Sports Teams&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row arenas large"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Arenas&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left bottom"&gt;&lt;% var city = cities[0]; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% for(var i=0; i &lt; city.attributes.culture.sportsArenasAmount; ++i) { %&gt;&lt;img src="img/categories/culture/basket-ball-left.svg" style="opacity:0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value large sportsArenasAmount"&gt;&lt;%= city.attributes.culture.sportsArenasAmount %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name small"&gt;Sports arenas&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left bottom"&gt;&lt;% var city = cities[1]; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% for(var i=0; i &lt; city.attributes.culture.sportsArenasAmount; ++i) { %&gt;&lt;img src="img/categories/culture/basket-ball-right.svg" style="opacity:0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value large sportsArenasAmount"&gt;&lt;%= city.attributes.culture.sportsArenasAmount %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name small"&gt;Sports arenas&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row championships"&gt;&lt;% var divider = 52/(170-42); // [maxValue] / ([maxHeight]-[margin]) %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Championships&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.totalChampionshipsWon; %&gt;
&lt;% var height = Math.round(170 - (value/divider)); %&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large totalChampionshipsWon animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;Championships won&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="overlap"&gt;&lt;img src="img/categories/culture/cup-full-left.png" class="graphic"&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;px" style="height:170px" class="overlap smoother animate"&gt;&lt;img src="img/categories/culture/cup-empty-left.png" class="graphic"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.totalChampionshipsWon; %&gt;
&lt;% var height = Math.round(170 - (value/divider)); %&gt;&lt;div class="inline"&gt;&lt;div class="overlap"&gt;&lt;img src="img/categories/culture/cup-full-right.png" class="graphic"&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;px" style="height:170px" class="overlap smoother animate"&gt;&lt;img src="img/categories/culture/cup-empty-right.png" class="graphic"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large totalChampionshipsWon animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;Championships won&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/culture/special.gif"&gt;&lt;div class="text"&gt;Special Events&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row events large"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Events&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;div class="value specialEvents"&gt;&lt;% var data = cities[0].attributes.culture.specialEvents.split(';'); %&gt;&lt;ul class="list"&gt;&lt;% _.each(data, function(activity){ %&gt;&lt;li class="list-item"&gt;&lt;%= activity %&gt;&lt;/li&gt;&lt;% }); %&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;div class="value specialEvents"&gt;&lt;% var data = cities[1].attributes.culture.specialEvents.split(';'); %&gt;&lt;ul class="list"&gt;&lt;% _.each(data, function(activity){ %&gt;&lt;li class="list-item"&gt;&lt;%= activity %&gt;&lt;/li&gt;&lt;% }); %&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra2"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/culture/food.gif"&gt;&lt;div class="text"&gt;Food&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row bakeries large"&gt;&lt;% var max=46; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Number of Bakeries&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.bakeriesAmount; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/ (minMaxValues.bakeriesAmount.max.value/max) ) | 1; %&gt;
&lt;% for(var i=0; i &lt; total; ++i) { %&gt;&lt;img src="img/categories/culture/cupcake-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large bakeriesAmount animate"&gt;&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.bakeriesAmount %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/ (minMaxValues.bakeriesAmount.max.value/max) ) | 1; %&gt;
&lt;% for(var i=0; i &lt; total; ++i) { %&gt;&lt;img src="img/categories/culture/cupcake-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large bakeriesAmount animate"&gt;&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row coffee medium"&gt;&lt;% var maxWidth=160; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Number of Coffee Shops&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.coffeeShopsAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.coffeeShopsAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large coffeeShopsAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="value"&gt;&lt;img data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" src="img/categories/culture/cup-left.png" style="width: 40px" class="graphic inline smooth animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.coffeeShopsAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.coffeeShopsAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large coffeeShopsAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="value"&gt;&lt;img data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" src="img/categories/culture/cup-right.png" style="width: 40px" class="graphic inline smooth animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row restaurant-must normal"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Must-Eat-At Restaurant&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.mustEatAtRestaurant; %&gt;&lt;div class="value"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.mustEatAtRestaurant; %&gt;&lt;div class="value"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row yelp large"&gt;&lt;% var divider=1000; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Top YELP-rated restaurants&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.yelpRatedRestaurantsAmount; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for(var i=0; i &lt; total; ++i) { %&gt;&lt;img src="img/categories/culture/fork-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value large yelpRatedRestaurantsAmount"&gt;&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.yelpRatedRestaurantsAmount; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for(var i=0; i &lt; total; ++i) { %&gt;&lt;img src="img/categories/culture/fork-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value large yelpRatedRestaurantsAmount"&gt;&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra2"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/culture/nightlife.gif"&gt;&lt;div class="text"&gt;Nightlife&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row nightlife large"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Nightlife&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-right side-space-medium"&gt;&lt;div class="inline small move-bottom-medium"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="value barsAmount small"&gt;&lt;%= city.attributes.culture.barsAmount %&gt; Bars&lt;/div&gt;&lt;div class="value hookahLoungesAmount small"&gt;&lt;%= city.attributes.culture.hookahLoungesAmount %&gt; Hookah lounges&lt;/div&gt;&lt;div class="value comedyClubsAmount small"&gt;&lt;%= city.attributes.culture.comedyClubsAmount %&gt; Comedy clubs&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;img src="img/categories/culture/glass-left.png" style="width: 190px" class="graphic"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left side-space-medium"&gt;&lt;div class="inline"&gt;&lt;img src="img/categories/culture/glass-right.png" style="width: 190px" class="graphic"&gt;&lt;/div&gt;&lt;div class="inline small move-bottom-medium"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="value barsAmount small"&gt;&lt;%= city.attributes.culture.barsAmount %&gt; Bars&lt;/div&gt;&lt;div class="value hookahLoungesAmount small"&gt;&lt;%= city.attributes.culture.hookahLoungesAmount %&gt; Hookah lounges&lt;/div&gt;&lt;div class="value comedyClubsAmount small"&gt;&lt;%= city.attributes.culture.comedyClubsAmount %&gt; Comedy clubs&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra2"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/culture/entertainment.gif"&gt;&lt;div class="text"&gt;Entertainment&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row tv large"&gt;&lt;% var maxWidth=170; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;TV&lt;div data-toggle="tooltip" data-placement="top" title="TV series &amp; films have multiple set locations" class="annotation"&gt;(1)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left side-space-medium"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.topRatedTvShow; %&gt;&lt;div class="name small expand"&gt;Most Popular TV Show Filmed in City&lt;/div&gt;&lt;div class="value topRatedTvShow normal normal-height"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="spacer-small"&gt;&lt;/div&gt;&lt;% var value = city.attributes.culture.tvShowsAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.tvShowsAmount.max.value/maxWidth) ); %&gt;&lt;div class="value inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value small tvShowsAmount large animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name smallest expand"&gt;TV shows filmed here&lt;/div&gt;&lt;/div&gt;&lt;div class="value"&gt;&lt;img data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" src="img/categories/culture/tv-left.svg" style="width: 40px" class="graphic smoother right-bottom animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left side-space-medium"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.topRatedTvShow; %&gt;&lt;div class="name small expand"&gt;Most Popular TV Show Filmed in City&lt;/div&gt;&lt;div class="value topRatedTvShow normal normal-height"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="spacer-small"&gt;&lt;/div&gt;&lt;% var value = city.attributes.culture.tvShowsAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.tvShowsAmount.max.value/maxWidth) ); %&gt;&lt;div class="value inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value small tvShowsAmount large animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name smallest expand"&gt;TV shows filmed here&lt;/div&gt;&lt;/div&gt;&lt;div class="value"&gt;&lt;img data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" src="img/categories/culture/tv-right.svg" style="width: 40px" class="graphic smoother right-bottom animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row movies larger"&gt;&lt;% var max=30; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Movies&lt;div data-toggle="tooltip" data-placement="top" title="TV seris &amp; films have multiple locations." class="annotation"&gt;(1)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.topRatedMovie; %&gt;&lt;div class="name small expand"&gt;Most Popular Movie Filmed in City&lt;/div&gt;&lt;div class="value topRatedMovie"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="spacer-smallest"&gt;&lt;/div&gt;&lt;% var value = city.attributes.culture.moviesFilmedAmount; %&gt;
&lt;% var total = Math.round(value/ (minMaxValues.moviesFilmedAmount.max.value/max) ) | 1; %&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value moviesFilmedAmount large animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name small expand"&gt;Movies filmed here&lt;/div&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% for(var i=0; i &lt; total; ++i) { %&gt;&lt;img src="img/categories/culture/movie-left.png" style="opacity: 0" class="graphic smooth inline"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.topRatedMovie; %&gt;&lt;div class="name small expand"&gt;Most Popular Movie Filmed in City&lt;/div&gt;&lt;div class="value topRatedMovie"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="spacer-smallest"&gt;&lt;/div&gt;&lt;% var value = city.attributes.culture.moviesFilmedAmount; %&gt;
&lt;% var total = Math.round(value/ (minMaxValues.moviesFilmedAmount.max.value/max) ) | 1; %&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value moviesFilmedAmount large animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name small expand"&gt;Movies filmed here&lt;/div&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% for(var i=0; i &lt; total; ++i) { %&gt;&lt;img src="img/categories/culture/movie-right.png" style="opacity: 0" class="graphic smooth inline"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row celebrities large"&gt;&lt;% var maxWidth=180; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Number of Celebrities&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.culture.celebritiesAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.celebritiesAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value celebritiesAmount large animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;img data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" src="img/categories/culture/star-left.svg" class="graphic smoother animate"&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.culture.celebritiesAmount; %&gt;
&lt;% var width = Math.round( value / (minMaxValues.celebritiesAmount.max.value/maxWidth) ); %&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value celebritiesAmount large animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;img data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" src="img/categories/culture/star-right.svg" class="graphic smoother animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="category-attributes transport &lt;% if (!categories.transport){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div class="attributes-title"&gt;Transport &amp; Hospitality&lt;/div&gt;&lt;div class="attribute-row medium-extra2"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/transport/getting-arround.gif"&gt;&lt;div class="text"&gt;Getting Around&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row cost"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Transportation costs&lt;div data-toggle="tooltip" data-placement="top" title="Taxi fares are estimated based on average trip which is 5 miles. Bus &amp; trolley based on single ticket, adult, one way ticket. Rates subject to change." class="annotation"&gt;(2)&lt;/div&gt;&lt;div data-toggle="tooltip" data-placement="top" title="Amounts are in Canadian dollars. Subject to change per currency exchange rates." class="annotation"&gt;(6)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left side-space-medium"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value1 = city.attributes.transport.busCost.replace('-', 'n/a'); %&gt;
&lt;% if ( !isNaN(value1) ) value1 = '$' + parseFloat(value1).toFixed(2); %&gt;
&lt;% var value2 = city.attributes.transport.trainCost.replace('-', 'n/a'); %&gt;
&lt;% if ( !isNaN(value2) ) value2 = '$' + parseFloat(value2).toFixed(2); %&gt;
&lt;% var value3 = city.attributes.transport.taxiCost.replace('-', 'n/a'); %&gt;
&lt;% if ( !isNaN(value3) ) value3 = '$' + parseFloat(value3).toFixed(2); %&gt;&lt;div class="inline space-medium"&gt;&lt;div class="icon-bottom"&gt;&lt;img src="img/categories/transport/bus-left.png" class="center"&gt;&lt;/div&gt;&lt;div class="value busCost small autoheight"&gt;&lt;div class="inline"&gt;&lt;%= value1 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="name normal"&gt;Bus fare&lt;/div&gt;&lt;/div&gt;&lt;div class="inline space-medium"&gt;&lt;div class="icon-bottom"&gt;&lt;img src="img/categories/transport/trolley-left.png" class="center"&gt;&lt;/div&gt;&lt;div class="value trainCost small autoheight"&gt;&lt;div class="inline"&gt;&lt;%= value2 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="name normal"&gt;Trolley fare&lt;/div&gt;&lt;/div&gt;&lt;div class="inline space-medium"&gt;&lt;div class="icon-bottom"&gt;&lt;img src="img/categories/transport/car-rental-left.png" class="center"&gt;&lt;/div&gt;&lt;div class="value taxiCost small autoheight"&gt;&lt;div class="inline"&gt;&lt;%= value3 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="name normal"&gt;Cab fare&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right side-space-medium"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value1 = city.attributes.transport.busCost.replace('-', 'n/a'); %&gt;
&lt;% if ( !isNaN(value1) ) value1 = '$' + parseFloat(value1).toFixed(2); %&gt;
&lt;% var value2 = city.attributes.transport.trainCost.replace('-', 'n/a'); %&gt;
&lt;% if ( !isNaN(value2) ) value2 = '$' + parseFloat(value2).toFixed(2); %&gt;
&lt;% var value3 = city.attributes.transport.taxiCost.replace('-', 'n/a'); %&gt;
&lt;% if ( !isNaN(value3) ) value3 = '$' + parseFloat(value3).toFixed(2); %&gt;&lt;div class="inline space-medium"&gt;&lt;div class="icon-bottom"&gt;&lt;img src="img/categories/transport/bus-right.png" class="center"&gt;&lt;/div&gt;&lt;div class="value busCost small autoheight"&gt;&lt;div class="inline"&gt;&lt;%= value1 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="name normal"&gt;Bus fare&lt;/div&gt;&lt;/div&gt;&lt;div class="inline space-medium"&gt;&lt;div class="icon-bottom"&gt;&lt;img src="img/categories/transport/trolley-right.png" class="center"&gt;&lt;/div&gt;&lt;div class="value trainCost small autoheight"&gt;&lt;div class="inline"&gt;&lt;%= value2 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="name normal"&gt;Trolley fare&lt;/div&gt;&lt;/div&gt;&lt;div class="inline space-medium"&gt;&lt;div class="icon-bottom"&gt;&lt;img src="img/categories/transport/car-rental-right.png" class="center"&gt;&lt;/div&gt;&lt;div class="value taxiCost small autoheight"&gt;&lt;div class="inline"&gt;&lt;%= value3 %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="name normal"&gt;Cab fare&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row rentals large"&gt;&lt;% var divider=30; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Car rentals&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left bottom"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.transport.carRentalAgenciesAmount %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/transport/car-rental-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large carRentalAgenciesAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name"&gt;Car rental agencies&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left bottom"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.transport.carRentalAgenciesAmount %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/transport/car-rental-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large carRentalAgenciesAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name"&gt;Car rental agencies&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row walkscore"&gt;&lt;% var maxDistance = 150; %&gt;
&lt;% var topMargin = 30; %&gt;
&lt;% var sideMargin = 15; %&gt;
&lt;% var divider = minMaxValues.walkscore.max.value / maxDistance; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Walkscore&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-right"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.transport.walkscore; %&gt;
&lt;% var top = Math.round( maxDistance - (value / divider) ) + topMargin; %&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large walkscore animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="top" data-value="&lt;%= top %&gt;px" style="top: 150px; right: &lt;%= sideMargin %&gt;px" class="inline animate absolute smooth"&gt;&lt;img src="img/categories/transport/shoe-left.svg" class="graphic"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.transport.walkscore; %&gt;
&lt;% var top = Math.round( maxDistance - (value / divider) ) + topMargin; %&gt;&lt;div data-animation="style" data-property="top" data-value="&lt;%= top %&gt;px" style="top: 150px; left: &lt;%= sideMargin %&gt;px" class="inline animate absolute smooth"&gt;&lt;img src="img/categories/transport/shoe-right.svg" class="graphic"&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large walkscore animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row rideshare medium"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Rideshare availability&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var data = {image: "img/categories/transport/car-left.png"}; %&gt;
&lt;% data.items = cities[0].attributes.transport.rideshareServices.split(','); %&gt;&lt;% _.each(data.items, function(name){ %&gt;&lt;div class="image-list inline space-small"&gt;&lt;div class="value small"&gt;&lt;%= name%&gt;&lt;/div&gt;&lt;div class="image"&gt;&lt;img src="&lt;%= data.image %&gt;"&gt;&lt;/div&gt;&lt;/div&gt;&lt;% }); %&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var data = {image: "img/categories/transport/car-right.png"}; %&gt;
&lt;% data.items = cities[1].attributes.transport.rideshareServices.split(','); %&gt;&lt;% _.each(data.items, function(name){ %&gt;&lt;div class="image-list inline space-small"&gt;&lt;div class="value small"&gt;&lt;%= name%&gt;&lt;/div&gt;&lt;div class="image"&gt;&lt;img src="&lt;%= data.image %&gt;"&gt;&lt;/div&gt;&lt;/div&gt;&lt;% }); %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/transport/flights.gif"&gt;&lt;div class="text"&gt;Flights&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row airports"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Airports&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left bottom"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.transport.airportsAmount %&gt;
&lt;% var link = city.attributes.transport.flightLink; %&gt;
&lt;% var linkText = city.attributes.transport.flightAnchor; %&gt;&lt;div data-animation="appearChildren" data-delay="300" class="value animate"&gt;&lt;% for (var i=0; i&lt;value; ++i) { %&gt;&lt;img src="img/categories/transport/plane-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large airportsAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name"&gt;Commercial airports&lt;/div&gt;&lt;/div&gt;&lt;div class="value small"&gt;&lt;a href="&lt;%= link %&gt;" target="_blank" rel="nofollow" class="link"&gt;&lt;%= linkText %&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left bottom"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.transport.airportsAmount %&gt;
&lt;% var link = city.attributes.transport.flightLink; %&gt;
&lt;% var linkText = city.attributes.transport.flightAnchor; %&gt;&lt;div data-animation="appearChildren" data-delay="300" class="value animate"&gt;&lt;% for (var i=0; i&lt;value; ++i) { %&gt;&lt;img src="img/categories/transport/plane-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large airportsAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name"&gt;Commercial airports&lt;/div&gt;&lt;/div&gt;&lt;div class="value small"&gt;&lt;a href="&lt;%= link %&gt;" target="_blank" rel="nofollow" class="link"&gt;&lt;%= linkText %&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row visitors medium"&gt;&lt;% var divider = minMaxValues.averageHousingCost.max.value/132; //[maxValue]/[maxWidth] %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Number of visitors&lt;div data-toggle="tooltip" data-placement="top" title="# of visitors estimated by flight ticket count in 2013" class="annotation"&gt;(3)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = Math.round( parseInt(city.attributes.transport.visitorsAmount, 10) ) | 0; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="value"&gt;&lt;img src="img/categories/transport/visitors-left.png" data-animation="style" data-property="width" data-value="&lt;%= width %&gt;" style="width: 0" class="graphic min-width smoother animate"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value small visitorsAmount animation"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name smallest"&gt;Per year&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = Math.round( parseInt(city.attributes.transport.visitorsAmount, 10) ) | 0; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="value"&gt;&lt;img src="img/categories/transport/visitors-right.png" data-animation="style" data-property="width" data-value="&lt;%= width %&gt;" style="width: 0" class="graphic min-width smoother animate"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value small visitorsAmount animation"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name smallest"&gt;Per year&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row faq medium"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Did you know?&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="inline"&gt;&lt;%= city.attributes.transport.airportFaq %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="inline"&gt;&lt;%= city.attributes.transport.airportFaq %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra2"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/transport/hotels.gif"&gt;&lt;div class="text"&gt;Hotels&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row hotels"&gt;&lt;% var maxHeight = 141; %&gt;
&lt;% var divider = 630/maxHeight; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Hotels&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-right no-side-space bottom"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.transport.hotelsAmount; %&gt;
&lt;% var height = Math.round(value/divider); %&gt;
&lt;% var link = city.attributes.transport.hotelLink; %&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large hotelsAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;a href="&lt;%= link %&gt;" target="_blank" rel="nofollow" class="link"&gt;Find a place to stay in &lt;%= city.name %&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;" class="overlap bar smooth animate"&gt;&lt;img src="img/categories/transport/hotel-left.png" class="graphic"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left no-side-space bottom"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.transport.hotelsAmount; %&gt;
&lt;% var height = Math.round(value/divider); %&gt;
&lt;% var link = city.attributes.transport.hotelLink; %&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;" class="overlap bar smooth animate"&gt;&lt;img src="img/categories/transport/hotel-right.png" class="graphic"&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value large hotelsAmount animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;a href="&lt;%= link %&gt;" target="_blank" rel="nofollow" class="link"&gt;Find a place to stay in &lt;%= city.name %&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row hotel-breakdown"&gt;&lt;% var divider = 3; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Hotel breakdown&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left small align-right no-side-space"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.familyFriendlyHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="value familyFriendlyHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Family-friendly&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.petFriendlyHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="value petFriendlyHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Pet-friendly&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.greenHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="value greenHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Sustainable&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.luxuryHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="value luxuryHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Luxury&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.businessHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="value businessHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Business&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right small align-left no-side-space"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.familyFriendlyHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value familyFriendlyHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Family-friendly&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.petFriendlyHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value petFriendlyHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Pet-friendly&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.greenHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value greenHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Sustainable&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.luxuryHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value luxuryHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Luxury&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var value = city.attributes.transport.businessHotelsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value businessHotelsAmount inline small space-normal"&gt;&lt;%= value %&gt; Business&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row hotel-star-rating"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Average hotel star rating&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.transport.hotelsBookedStarRatingAverage; %&gt;
&lt;% var valueInt = parseInt(value, 10); %&gt;
&lt;% var valueFloat = parseFloat(value, 10); %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% for (var i=0; i&lt;valueInt; ++i) { %&gt;&lt;img src="img/categories/transport/star-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;
&lt;% if (valueFloat != valueInt) { %&gt;&lt;img src="img/categories/transport/star-half-left.png" style="opacity: 0" class="graphic move-left-min inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div data-animation="decimal" data-end="&lt;%= value %&gt;" data-step="0.5" class="value hotelsBookedStarRatingAverage animate"&gt;&lt;%= value %&gt; stars&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.transport.hotelsBookedStarRatingAverage; %&gt;
&lt;% var valueInt = parseInt(value, 10); %&gt;
&lt;% var valueFloat = parseFloat(value, 10); %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% for (var i=0; i&lt;valueInt; ++i) { %&gt;&lt;img src="img/categories/transport/star-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;
&lt;% if (valueFloat != valueInt) { %&gt;&lt;img src="img/categories/transport/star-half-right.png" style="opacity: 0" class="graphic move-left-min inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div data-animation="decimal" data-end="&lt;%= value %&gt;" data-step="0.5" class="value hotelsBookedStarRatingAverage animate"&gt;&lt;%= value %&gt; stars&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row hotels-of-note align-left medium"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Hotels of note&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left side-space-medium"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="name"&gt;Oldest&lt;/div&gt;&lt;div class="value oldestHotel normal"&gt;&lt;%= city.attributes.transport.oldestHotel %&gt;&lt;/div&gt;&lt;div class="spacer-smallest"&gt;&lt;/div&gt;&lt;div class="name"&gt;Highest-ranked&lt;/div&gt;&lt;div class="value bestHotel normal"&gt;&lt;%= city.attributes.transport.bestHotel %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right side-space-medium"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="name"&gt;Oldest&lt;/div&gt;&lt;div class="value oldestHotel normal"&gt;&lt;%= city.attributes.transport.oldestHotel %&gt;&lt;/div&gt;&lt;div class="spacer-smallest"&gt;&lt;/div&gt;&lt;div class="name"&gt;Highest-ranked&lt;/div&gt;&lt;div class="value bestHotel normal"&gt;&lt;%= city.attributes.transport.bestHotel %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="category-attributes visit &lt;% if (!categories.visit){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div class="attributes-title"&gt;When To Visit &amp; What To Do&lt;/div&gt;&lt;div class="attribute-row medium-extra2"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/visit/weather.gif"&gt;&lt;div class="text"&gt;Weather&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row rainfall medium"&gt;&lt;% var divider = 2; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Average annual rainfall&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var precipitationImperial = city.attributes.visit.precipitation.split('/')[0]; %&gt;
&lt;% var precipitationMetric = city.attributes.visit.precipitation.split('/')[1]; %&gt;&lt;div class="value imperial &lt;% if (unit!='imperial'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="decimal" data-end="&lt;%= precipitationImperial %&gt;" class="inline precipitation animate"&gt;0&lt;/div&gt;&lt;div class="inline"&gt;&nbsp; inches&lt;/div&gt;&lt;/div&gt;&lt;div class="value metric &lt;% if (unit!='metric'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= precipitationMetric %&gt;" class="inline precipitation animate"&gt;0&lt;/div&gt;&lt;div class="inline"&gt;&nbsp; mm&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;in total&lt;/div&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(precipitationImperial/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/visit/drop-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var precipitationImperial = city.attributes.visit.precipitation.split('/')[0]; %&gt;
&lt;% var precipitationMetric = city.attributes.visit.precipitation.split('/')[1]; %&gt;&lt;div class="value imperial &lt;% if (unit!='imperial'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="decimal" data-end="&lt;%= precipitationImperial %&gt;" class="inline precipitation animate"&gt;0&lt;/div&gt;&lt;div class="inline"&gt;&nbsp; inches&lt;/div&gt;&lt;/div&gt;&lt;div class="value metric &lt;% if (unit!='metric'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= precipitationMetric %&gt;" class="inline precipitation animate"&gt;0&lt;/div&gt;&lt;div class="inline"&gt;&nbsp; mm&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;in total&lt;/div&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(precipitationImperial/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/visit/drop-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row best-time-to-visit medium"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Best time of year to visit&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left side-space-medium"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.visit.bestTimeToVisit.replace(";", "&lt;br /&gt;"); %&gt;&lt;div class="value bestTimeToVisit"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right side-space-medium"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.visit.bestTimeToVisit.replace(";", "&lt;br /&gt;"); %&gt;&lt;div class="value bestTimeToVisit"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row recorded-temperatures"&gt;&lt;% var divider = 0.85; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Recorded temperatures&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left no-side-space"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var lowestTempImperial = city.attributes.visit.lowestTemp.split('/')[0]; %&gt;
&lt;% var lowestTempMetric = city.attributes.visit.lowestTemp.split('/')[1]; %&gt;
&lt;% var highestTempImperial = city.attributes.visit.highestTemp.split('/')[0]; %&gt;
&lt;% var highestTempMetric = city.attributes.visit.highestTemp.split('/')[1]; %&gt;
&lt;% var width = Math.round( (highestTempImperial - lowestTempImperial) / divider ); %&gt;&lt;div class="value no-min-height"&gt;&lt;img src="img/categories/visit/temperatures/temp-left-circle-left.png" class="graphic inline smooth"&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;" style="width: 0" class="inline side-overlap-smaller middle smooth animate"&gt;&lt;img src="img/categories/visit/temperatures/temp-bar-left.png" class="graphic inline"&gt;&lt;/div&gt;&lt;img src="img/categories/visit/temperatures/temp-right-circle-left.png" class="graphic inline smooth"&gt;&lt;/div&gt;&lt;div class="inline bottom"&gt;&lt;div class="inline imperial &lt;% if (unit!='imperial'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= lowestTempImperial %&gt;" class="value inline lowestTemp animate"&gt;&lt;%= lowestTempImperial %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;F&lt;/div&gt;&lt;/div&gt;&lt;div class="inline metric &lt;% if (unit!='metric'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= lowestTempMetric %&gt;" class="value inline lowestTemp animate"&gt;&lt;%= lowestTempMetric %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;C&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;lowest&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline bottom"&gt;&lt;div class="inline imperial &lt;% if (unit!='imperial'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= highestTempImperial %&gt;" class="value inline highestTemp animate"&gt;&lt;%= highestTempImperial %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;F&lt;/div&gt;&lt;/div&gt;&lt;div class="inline metric &lt;% if (unit!='metric'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= highestTempMetric %&gt;" class="value inline highestTemp animate"&gt;&lt;%= highestTempMetric %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;C&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;highest&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right no-side-space"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var lowestTempImperial = city.attributes.visit.lowestTemp.split('/')[0]; %&gt;
&lt;% var lowestTempMetric = city.attributes.visit.lowestTemp.split('/')[1]; %&gt;
&lt;% var highestTempImperial = city.attributes.visit.highestTemp.split('/')[0]; %&gt;
&lt;% var highestTempMetric = city.attributes.visit.highestTemp.split('/')[1]; %&gt;
&lt;% var width = Math.round( (highestTempImperial - lowestTempImperial) / divider ); %&gt;&lt;div class="value no-min-height"&gt;&lt;img src="img/categories/visit/temperatures/temp-left-circle-right.png" class="graphic inline smooth"&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;" style="width: 0" class="inline middle side-overlap-smaller smooth animate"&gt;&lt;img src="img/categories/visit/temperatures/temp-bar-right.png" class="graphic inline"&gt;&lt;/div&gt;&lt;img src="img/categories/visit/temperatures/temp-right-circle-right.png" class="graphic inline smooth"&gt;&lt;/div&gt;&lt;div class="inline bottom"&gt;&lt;div class="inline imperial &lt;% if (unit!='imperial'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= lowestTempImperial %&gt;" class="value inline lowestTemp animate"&gt;&lt;%= lowestTempImperial %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;F&lt;/div&gt;&lt;/div&gt;&lt;div class="inline metric &lt;% if (unit!='metric'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= lowestTempMetric %&gt;" class="value inline lowestTemp animate"&gt;&lt;%= lowestTempMetric %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;C&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;lowest&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline bottom"&gt;&lt;div class="inline imperial &lt;% if (unit!='imperial'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= highestTempImperial %&gt;" class="value inline highestTemp animate"&gt;&lt;%= highestTempImperial %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;F&lt;/div&gt;&lt;/div&gt;&lt;div class="inline metric &lt;% if (unit!='metric'){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div data-animation="integer" data-end="&lt;%= highestTempMetric %&gt;" class="value inline highestTemp animate"&gt;&lt;%= highestTempMetric %&gt;&lt;/div&gt;&lt;div class="inline normalized-ref"&gt;C&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;highest&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row pampering"&gt;&lt;% var maxDiameter = 75; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Pampering&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left no-side-space"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="inline"&gt;&lt;% var value = city.attributes.visit.daySpasAmount; %&gt;
&lt;% var diameter = Math.round(value / (minMaxValues.daySpasAmount.max.value/maxDiameter)); %&gt;&lt;div class="value height-medium middle"&gt;&lt;div data-animation="circle" data-diameter="&lt;%= diameter %&gt;px" class="smooth circle animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value medium space-normal daySpasAmount"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;day spas&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;% var value = city.attributes.visit.nailSalonsAmount; %&gt;
&lt;% var diameter = Math.round(value / (minMaxValues.nailSalonsAmount.max.value/maxDiameter)); %&gt;&lt;div class="value height-medium middle"&gt;&lt;div data-animation="circle" data-diameter="&lt;%= diameter %&gt;px" class="smooth circle animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value medium space-normal nailSalonsAmount"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;nail salons&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;% var value = city.attributes.visit.shoppingMallsAmount; %&gt;
&lt;% var diameter = Math.round(value / (minMaxValues.shoppingMallsAmount.max.value/maxDiameter)); %&gt;&lt;div class="value height-medium middle"&gt;&lt;div data-animation="circle" data-diameter="&lt;%= diameter %&gt;px" class="smooth circle animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value medium space-normal shoppingMallsAmount"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;shopping malls&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right no-side-space"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="inline"&gt;&lt;% var value = city.attributes.visit.daySpasAmount; %&gt;
&lt;% var diameter = Math.round(value / (minMaxValues.daySpasAmount.max.value/maxDiameter)); %&gt;&lt;div class="value height-medium middle"&gt;&lt;div data-animation="circle" data-diameter="&lt;%= diameter %&gt;px" class="smooth circle animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value medium space-normal daySpasAmount"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;day spas&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;% var value = city.attributes.visit.nailSalonsAmount; %&gt;
&lt;% var diameter = Math.round(value / (minMaxValues.nailSalonsAmount.max.value/maxDiameter)); %&gt;&lt;div class="value height-medium middle"&gt;&lt;div data-animation="circle" data-diameter="&lt;%= diameter %&gt;px" class="smooth circle animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value medium space-normal nailSalonsAmount"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;nail salons&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;% var value = city.attributes.visit.shoppingMallsAmount; %&gt;
&lt;% var diameter = Math.round(value / (minMaxValues.shoppingMallsAmount.max.value/maxDiameter)); %&gt;&lt;div class="value height-medium middle"&gt;&lt;div data-animation="circle" data-diameter="&lt;%= diameter %&gt;px" class="smooth circle animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value medium space-normal shoppingMallsAmount"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="name"&gt;shopping malls&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/visit/rest-relaxation-background.png" class="medium"&gt;&lt;div class="text"&gt;Rest &amp; Relaxation&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row romantic-activities medium"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Romantic activities&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="value"&gt;&lt;% var data = city.attributes.visit.romanticActivities.split(';'); %&gt;&lt;ul class="list"&gt;&lt;% _.each(data, function(activity){ %&gt;&lt;li class="list-item"&gt;&lt;%= activity %&gt;&lt;/li&gt;&lt;% }); %&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="value"&gt;&lt;% var data = city.attributes.visit.romanticActivities.split(';'); %&gt;&lt;ul class="list"&gt;&lt;% _.each(data, function(activity){ %&gt;&lt;li class="list-item"&gt;&lt;%= activity %&gt;&lt;/li&gt;&lt;% }); %&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/visit/outdoors.gif"&gt;&lt;div class="text"&gt;Outdoors&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row outdoors"&gt;&lt;% var maxWidth = 160; %&gt;&lt;div class="attribute left small align-right no-side-space"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="value small height-smaller"&gt;&lt;div class="value parksAmount inline small space-normal"&gt;&lt;% var divider = minMaxValues.parksAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.parksAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;
&lt;%= value %&gt; Parks&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;div class="value trailsAmount inline small space-normal"&gt;&lt;% var divider = minMaxValues.trailsAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.trailsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;
&lt;%= value %&gt; Trails&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;div class="value campingGroundsAmount inline small space-normal"&gt;&lt;% var divider = minMaxValues.campingGroundsAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.campingGroundsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;
&lt;%= value %&gt; Camping grounds&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;div class="value beachesAmount inline small space-normal"&gt;&lt;% var divider = minMaxValues.beachesAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.beachesAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;
&lt;%= value %&gt; Beaches&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;div class="value skiResortsAmount inline small space-normal"&gt;&lt;% var divider = minMaxValues.skiResortsAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.skiResortsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;
&lt;%= value %&gt; Ski resorts&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;div class="value naturalLandmarksAmount inline small space-normal"&gt;&lt;% var divider = minMaxValues.naturalLandmarksAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.naturalLandmarksAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;
&lt;%= value %&gt; Natural landmarks&lt;/div&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right small align-left no-side-space"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="value small height-smaller"&gt;&lt;% var divider = minMaxValues.parksAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.parksAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value parksAmount inline small space-normal"&gt;&lt;%= value %&gt; Parks&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var divider = minMaxValues.trailsAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.trailsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value trailsAmount inline small space-normal"&gt;&lt;%= value %&gt; Trails&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var divider = minMaxValues.campingGroundsAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.campingGroundsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value campingGroundsAmount inline small space-normal"&gt;&lt;%= value %&gt; Camping grounds&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var divider = minMaxValues.beachesAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.beachesAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value beachesAmount inline small space-normal"&gt;&lt;%= value %&gt; Beaches&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var divider = minMaxValues.skiResortsAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.skiResortsAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value skiResortsAmount inline small space-normal"&gt;&lt;%= value %&gt; Ski resorts&lt;/div&gt;&lt;/div&gt;&lt;div class="value small height-smaller"&gt;&lt;% var divider = minMaxValues.naturalLandmarksAmount.max.value / maxWidth; %&gt;
&lt;% var value = city.attributes.visit.naturalLandmarksAmount; %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div data-animation="style" data-property="width" data-value="&lt;%= width %&gt;px" style="width: 0" class="inline smooth horizontal-bar animate"&gt;&lt;/div&gt;&lt;div class="value naturalLandmarksAmount inline small space-normal"&gt;&lt;%= value %&gt; Natural landmarks&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="category-attributes happiness &lt;% if (!categories.happiness){ %&gt;hidden&lt;% } %&gt;"&gt;&lt;div class="attributes-title"&gt;The Happiness Factor&lt;/div&gt;&lt;div class="attribute-row medium-extra"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/happiness/quality.gif"&gt;&lt;div class="text"&gt;Quality of Life&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row air"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Air quality&lt;div data-toggle="tooltip" data-placement="top" title="U.S. ratings are based on U.S. Air Quality Index calculations with a range o 0-500. Canadian ratings are based on Air Quality Health Index calculations with a range of 0-11. The lower the better." class="annotation"&gt;(4)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var matches = city.attributes.happiness.airQuality.match(/(.*?)\s?\(\s?(.*)\)/); %&gt;
&lt;% var type = matches[1].toLowerCase(); %&gt;
&lt;% var value = matches[2]; %&gt;&lt;div class="value height-large"&gt;&lt;% if (type === 'good') { %&gt;&lt;img src="img/categories/happiness/air-quality-good.png" class="graphic"&gt;&lt;% } else { %&gt;&lt;img src="img/categories/happiness/air-quality-moderate.png" class="graphic"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="name"&gt;Air Quality Index&lt;/div&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value airQuality big animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="value small uppercase"&gt;&lt;%= type %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var matches = city.attributes.happiness.airQuality.match(/(.*?)\s?\(\s?(.*)\)/); %&gt;
&lt;% var type = matches[1].toLowerCase(); %&gt;
&lt;% var value = matches[2]; %&gt;&lt;div class="value height-large"&gt;&lt;% if (type === 'good') { %&gt;&lt;img src="img/categories/happiness/air-quality-good.png" class="graphic"&gt;&lt;% } else { %&gt;&lt;img src="img/categories/happiness/air-quality-moderate.png" class="graphic"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="name"&gt;Air Quality Index&lt;/div&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="value airQuality big animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="value small uppercase"&gt;&lt;%= type %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row crime"&gt;&lt;% var maxHeight = 70; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Crime &amp; unemployment&lt;div data-toggle="tooltip" data-placement="top" title="Violent &amp; property crime. U.S. cities from 2012 city-data.com data. Canadian cities from 2012 statcan.gc.ca data." class="annotation"&gt;(5)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-right no-side-space"&gt;&lt;% var city = cities[0]; %&gt;&lt;div class="value bottom"&gt;&lt;% var value = city.attributes.happiness.unemployment; %&gt;
&lt;% var height = value/ (minMaxValues.unemployment.max.value/maxHeight); %&gt;&lt;div class="inline side-space-medium"&gt;&lt;div class="name smallest expand no-space"&gt;Unemployment rate&lt;/div&gt;&lt;div class="value small unemployment"&gt;&lt;%= value %&gt;%&lt;/div&gt;&lt;/div&gt;&lt;div class="inline spacer-small"&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;px" style="height: 0" class="inline smooth vertical-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="spacer-smallest"&gt;&lt;/div&gt;&lt;div class="value bottom"&gt;&lt;% var value = city.attributes.happiness.crimeRate; %&gt;
&lt;% var height = value/ (minMaxValues.crimeRate.max.value/maxHeight); %&gt;&lt;div class="inline side-space-medium"&gt;&lt;div class="name smallest expand no-space"&gt;Crime rate&lt;/div&gt;&lt;div class="value small crimeRate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="value smallest"&gt;Per 100.000&lt;/div&gt;&lt;/div&gt;&lt;div class="inline spacer-small"&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;px" style="height: 0" class="inline smooth vertical-bar animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left no-side-space"&gt;&lt;% var city = cities[1]; %&gt;&lt;div class="value bottom"&gt;&lt;% var value = city.attributes.happiness.unemployment; %&gt;
&lt;% var height = value/ (minMaxValues.unemployment.max.value/maxHeight); %&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;px" style="height: 0" class="inline smooth vertical-bar animate"&gt;&lt;/div&gt;&lt;div class="inline spacer-small"&gt;&lt;/div&gt;&lt;div class="inline side-space-medium"&gt;&lt;div class="name smallest expand no-space"&gt;Unemployment rate&lt;/div&gt;&lt;div class="value small unemployment"&gt;&lt;%= value %&gt;%&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="spacer-smallest"&gt;&lt;/div&gt;&lt;div class="value bottom"&gt;&lt;% var value = city.attributes.happiness.crimeRate; %&gt;
&lt;% var height = value/ (minMaxValues.crimeRate.max.value/maxHeight); %&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height %&gt;px" style="height: 0" class="inline smooth vertical-bar animate"&gt;&lt;/div&gt;&lt;div class="inline spacer-small"&gt;&lt;/div&gt;&lt;div class="inline side-space-medium"&gt;&lt;div class="name smallest expand no-space"&gt;Crime rate&lt;/div&gt;&lt;div class="value small crimeRate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="value smallest"&gt;Per 100.000&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row housing medium"&gt;&lt;% var divider = minMaxValues.averageHousingCost.max.value/132; //[maxValue]/[maxWidth] %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Housing costs&lt;div data-toggle="tooltip" data-placement="top" title="Amounts are in Canadian dollars. Subject to change per currency exchange rates." class="annotation"&gt;(6)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-right side-space-small"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = Math.round(city.attributes.happiness.averageHousingCost); %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="inline middle"&gt;&lt;div class="value medium averageHousingCost"&gt;$&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;div class="name"&gt;Average cost to buy a house&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-small"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline middle"&gt;&lt;img src="img/categories/happiness/house-left.png" data-animation="style" data-property="width" data-value="&lt;%= width %&gt;" style="width: 0" class="graphic inline smoother animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left side-space-small"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = Math.round(city.attributes.happiness.averageHousingCost); %&gt;
&lt;% var width = Math.round( value/divider ); %&gt;&lt;div class="inline middle"&gt;&lt;img src="img/categories/happiness/house-right.png" data-animation="style" data-property="width" data-value="&lt;%= width %&gt;" style="width: 0" class="graphic inline smoother animate"&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="spacer-small"&gt;  &lt;/div&gt;&lt;/div&gt;&lt;div class="inline middle"&gt;&lt;div class="value medium averageHousingCost"&gt;$&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;div class="name"&gt;Average cost to buy a house&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row income medium"&gt;&lt;% var divider=1500; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Income&lt;div data-toggle="tooltip" data-placement="top" title="Amounts are in Canadian dollars. Subject to change per currency exchange rates." class="annotation"&gt;(6)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left bottom"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.happiness.personalIncomePerCapita; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/happiness/coin-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value medium personalIncomePerCapita"&gt;$&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name"&gt;Average income per capita&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left bottom"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.happiness.personalIncomePerCapita; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/happiness/coin-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value medium personalIncomePerCapita"&gt;$&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="name"&gt;Average income per capita&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row normal-extra"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/happiness/education.gif"&gt;&lt;div class="text"&gt;Education&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row education"&gt;&lt;% var minHeight = 60; %&gt;
&lt;% var totalHeight = 269 - (minHeight*3); %&gt;&lt;div class="attribute left align-right no-side-space"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value1 = parseInt(city.attributes.happiness.universitiesAmount, 10); %&gt;
&lt;% var value2 = parseInt(city.attributes.happiness.publicSchoolsAmount, 10); %&gt;
&lt;% var value3 = parseInt(city.attributes.happiness.privateSchoolsAmount, 10); %&gt;
&lt;% var total = value1 + value2 + value3; %&gt;
&lt;% var multiplier = totalHeight / total; %&gt;
&lt;% var height1 = Math.round(value1 * multiplier) + minHeight; %&gt;
&lt;% var height2 = Math.round(value2 * multiplier) + minHeight; %&gt;
&lt;% var height3 = Math.round(value3 * multiplier) + minHeight; %&gt;&lt;div class="inline"&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height1 %&gt;px" class="line-right animate"&gt;&lt;div class="line-content-top"&gt;&lt;div data-animation="integer" data-end="&lt;%= value1 %&gt;" class="value universitiesAmount animate"&gt;&lt;%= value1 %&gt;&lt;/div&gt;&lt;div class="name"&gt;Universities&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height2 %&gt;px" class="line-right animate"&gt;&lt;div class="line-content-top"&gt;&lt;div data-animation="integer" data-end="&lt;%= value2 %&gt;" class="value publicSchoolsAmount animate"&gt;&lt;%= value2 %&gt;&lt;/div&gt;&lt;div class="name"&gt;Public schools&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height3 %&gt;px" class="line-right animate"&gt;&lt;div class="line-content-top"&gt;&lt;div data-animation="integer" data-end="&lt;%= value3 %&gt;" class="value privateSchoolsAmount animate"&gt;&lt;%= value3 %&gt;&lt;/div&gt;&lt;div class="name"&gt;Private schools&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;img src="img/categories/happiness/education-left.svg" class="graphic"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left no-side-space"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value1 = parseInt(city.attributes.happiness.universitiesAmount, 10); %&gt;
&lt;% var value2 = parseInt(city.attributes.happiness.publicSchoolsAmount, 10); %&gt;
&lt;% var value3 = parseInt(city.attributes.happiness.privateSchoolsAmount, 10); %&gt;
&lt;% var total = value1 + value2 + value3; %&gt;
&lt;% var multiplier = totalHeight / total; %&gt;
&lt;% var height1 = Math.round(value1 * multiplier) + minHeight; %&gt;
&lt;% var height2 = Math.round(value2 * multiplier) + minHeight; %&gt;
&lt;% var height3 = Math.round(value3 * multiplier) + minHeight; %&gt;&lt;div class="inline"&gt;&lt;img src="img/categories/happiness/education-right.svg" class="graphic"&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height1 %&gt;px" class="line-left animate"&gt;&lt;div class="line-content-top"&gt;&lt;div data-animation="integer" data-end="&lt;%= value1 %&gt;" class="value universitiesAmount animate"&gt;&lt;%= value1 %&gt;&lt;/div&gt;&lt;div class="name"&gt;Universities&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height2 %&gt;px" class="line-left animate"&gt;&lt;div class="line-content-top"&gt;&lt;div data-animation="integer" data-end="&lt;%= value2 %&gt;" class="value publicSchoolsAmount animate"&gt;&lt;%= value2 %&gt;&lt;/div&gt;&lt;div class="name"&gt;Public schools&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div data-animation="style" data-property="height" data-value="&lt;%= height3 %&gt;px" class="line-left animate"&gt;&lt;div class="line-content-top"&gt;&lt;div data-animation="integer" data-end="&lt;%= value3 %&gt;" class="value privateSchoolsAmount animate"&gt;&lt;%= value3 %&gt;&lt;/div&gt;&lt;div class="name"&gt;Private schools&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/happiness/demogra.gif"&gt;&lt;div class="text"&gt;Demographics&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row population large"&gt;&lt;% var divider=200000; %&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Population&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left align-left bottom side-space-medium"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.happiness.population; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/happiness/couple-left.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value medium population"&gt;&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right align-left bottom side-space-medium"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.happiness.population; %&gt;&lt;div data-animation="appearChildren" class="value animate"&gt;&lt;% var total = Math.round(value/divider) | 1; %&gt;
&lt;% for (var i=0; i&lt;total; ++i) { %&gt;&lt;img src="img/categories/happiness/couple-right.png" style="opacity: 0" class="graphic inline smooth"&gt;&lt;% } %&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value medium population"&gt;&lt;%= parseInt(value).toLocaleString() %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row married"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Percent married&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.happiness.marriedPercentage; %&gt;&lt;div class="spacer-smaller"&gt;&lt;/div&gt;&lt;img src="img/categories/happiness/diamond-left.svg" class="graphic diamond"&gt;&lt;div data-animation="addVisualization" data-method="addVisualization" data-visualization="donut" data-text="&lt;%= value %&gt;%" data-percent="&lt;%= value %&gt;" data-fgcolor="#F05A28" data-bgcolor="#BBBDC0" data-fontsize="50" data-width="20" data-dimension="200" class="value fullwidth animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.happiness.marriedPercentage; %&gt;&lt;div class="spacer-smaller"&gt;&lt;/div&gt;&lt;img src="img/categories/happiness/diamond-right.svg" class="graphic diamond"&gt;&lt;div data-animation="addVisualization" data-method="addVisualization" data-visualization="donut" data-text="&lt;%= value %&gt;%" data-percent="&lt;%= value %&gt;" data-fgcolor="#38B449" data-bgcolor="#BBBDC0" data-fontsize="50" data-width="20" class="value fullwidth animate"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row age"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Age&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = Math.round(city.attributes.happiness.medianAge); %&gt;&lt;div class="value medianAge"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="inline value medium animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="inline value normalized small"&gt;&nbsp; yrs&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;Median age&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = Math.round(city.attributes.happiness.medianAge); %&gt;&lt;div class="value medianAge"&gt;&lt;div data-animation="integer" data-end="&lt;%= value %&gt;" class="inline value medium animate"&gt;&lt;%= value %&gt;&lt;/div&gt;&lt;div class="inline value normalized small"&gt;&nbsp; yrs&lt;/div&gt;&lt;/div&gt;&lt;div class="name"&gt;Median age&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row smallest hidden"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/happiness/social.gif"&gt;&lt;div class="text"&gt;Social Data&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row social large hidden"&gt;&lt;div class="attribute left no-side-space"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var tweets = parseInt(city.attributes.happiness.tweetsAmount | 15434).toLocaleString(); %&gt;
&lt;% var likes = parseInt(city.attributes.happiness.pinsAmount | 25223).toLocaleString(); %&gt;
&lt;% var pins = parseInt(city.attributes.happiness.pinsAmount | 2487).toLocaleString(); %&gt;
&lt;% var plusones = parseInt(city.attributes.happiness.googlePlusAmount | 1443).toLocaleString(); %&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/twitter-icon-left.svg" class="icon"&gt;&lt;/div&gt;&lt;div class="value tweetsAmount small"&gt;&lt;%= tweets %&gt;&lt;/div&gt;&lt;div class="name small"&gt;Tweets&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/facebook-icon-left.svg" class="icon"&gt;&lt;/div&gt;&lt;div class="value pinsAmount small"&gt;&lt;%= likes %&gt;&lt;/div&gt;&lt;div class="name small"&gt;Likes&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/pin-icon-left.png" class="icon"&gt;&lt;/div&gt;&lt;div class="value pinsAmount small"&gt;&lt;%= pins %&gt;&lt;/div&gt;&lt;div class="name small"&gt;Pins&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/gplus-icon-left.png" class="icon"&gt;&lt;/div&gt;&lt;div class="value pinsAmount small"&gt;&lt;%= plusones %&gt;&lt;/div&gt;&lt;div class="name small"&gt;+1&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute right no-side-space"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var tweets = parseInt(city.attributes.happiness.tweetsAmount | 17242).toLocaleString(); %&gt;
&lt;% var likes = parseInt(city.attributes.happiness.pinsAmount | 32889).toLocaleString(); %&gt;
&lt;% var pins = parseInt(city.attributes.happiness.pinsAmount | 3297).toLocaleString(); %&gt;
&lt;% var plusones = parseInt(city.attributes.happiness.googlePlusAmount | 382).toLocaleString(); %&gt;&lt;div class="spacer-normal"&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/twitter-icon-right.svg" class="icon"&gt;&lt;/div&gt;&lt;div class="value tweetsAmount small"&gt;&lt;%= tweets %&gt;&lt;/div&gt;&lt;div class="name small"&gt;Tweets&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/facebook-icon-right.svg" class="icon"&gt;&lt;/div&gt;&lt;div class="value pinsAmount small"&gt;&lt;%= likes %&gt;&lt;/div&gt;&lt;div class="name small"&gt;Likes&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/pin-icon-right.png" class="icon"&gt;&lt;/div&gt;&lt;div class="value pinsAmount small"&gt;&lt;%= pins %&gt;&lt;/div&gt;&lt;div class="name small"&gt;Pins&lt;/div&gt;&lt;/div&gt;&lt;div class="inline"&gt;&lt;div class="value"&gt;&lt;img src="img/categories/happiness/gplus-icon-right.png" class="icon"&gt;&lt;/div&gt;&lt;div class="value pinsAmount small"&gt;&lt;%= plusones %&gt;&lt;/div&gt;&lt;div class="name small"&gt;+1&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row medium-extra"&gt;&lt;div class="background"&gt;&lt;img src="img/categories/happiness/know.gif"&gt;&lt;div class="text"&gt;Did You Know?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row gems large"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Hidden gems&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[0]; %&gt;
&lt;% var value = city.attributes.happiness.hiddenGems; %&gt;
&lt;% var link = city.attributes.happiness.hiddenGemLink %&gt;
&lt;% var linkText = city.attributes.happiness.hiddenGemAnchor %&gt;&lt;a href="&lt;%= link %&gt;" target="_blank" rel="nofollow" class="value unknownVenues"&gt;&lt;%= value %&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class="attribute left"&gt;&lt;% var city = cities[1]; %&gt;
&lt;% var value = city.attributes.happiness.hiddenGems; %&gt;
&lt;% var link = city.attributes.happiness.hiddenGemLink %&gt;
&lt;% var linkText = city.attributes.happiness.hiddenGemAnchor %&gt;&lt;a href="&lt;%= link %&gt;" target="_blank" rel="nofollow" class="value unknownVenues"&gt;&lt;%= value %&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute-row myths medium"&gt;&lt;div class="line"&gt;&lt;/div&gt;&lt;div class="title"&gt;&lt;div class="text"&gt;Urban myths&lt;/div&gt;&lt;/div&gt;&lt;div class="attribute left urbanLegend"&gt;&lt;% var city = cities[0]; %&gt;
&lt;%= city.attributes.happiness.urbanLegend %&gt;&lt;/div&gt;&lt;div class="attribute left urbanLegend"&gt;&lt;% var city = cities[1]; %&gt;
&lt;%= city.attributes.happiness.urbanLegend %&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
  </script>
  <script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-28994793-3', 'auto');
ga('send', 'pageview');
  </script>
  <script type="text/javascript">
   (function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-28994793-3']);
_gaq.push(['_setDomainName', 'expedia.ca']);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_trackPageview']);
  </script>
  <script src="/daily/common/SiteAnalytics.js">
  </script>
  <script>
   var oSiteAn = new SiteAn();
oSiteAn.SetPageName("city-comparison");
oSiteAn.SetHierarchy("daily,enc4105,city-comparison");
oSiteAn.SetChannel("seo");
oSiteAn.SetLanguage("4105");
oSiteAn.SetVar32("/city-comparison");
  </script>
  <script src="/pubspec/scripts/include/siteanalytics_include.js">
  </script>
  <script src="js/build.js">
  </script>
  <!--VERSION: 1.8.2-->
 </body>
</html>