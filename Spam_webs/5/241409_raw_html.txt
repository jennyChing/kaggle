<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   My FreeBSD installation and configuration guide - by Sebastiaan Giebels
  </title>
  <meta content="DokuWiki" name="generator"/>
  <meta content="2010-12-18T00:31:41+0100" name="date"/>
  <meta keywords="freebsd,installation guide,installation,6.2,guide,manual,setup"/>
  <meta description="A detailed step-by-step guide for configuring and using FreeBSD 6.2"/>
  <meta robots="index,follow"/>
  <link href="/my_freebsd_installation_and_configuration_guide/lib/exe/opensearch.php" rel="search" title="My FreeBSD installation and configuration guide - by Sebastiaan Giebels" type="application/opensearchdescription+xml"/>
  <link href="/my_freebsd_installation_and_configuration_guide/" rel="start"/>
  <link href="/my_freebsd_installation_and_configuration_guide/start?do=index" rel="contents" title="Sitemap"/>
  <link href="/my_freebsd_installation_and_configuration_guide/feed.php" rel="alternate" title="Recent Changes" type="application/rss+xml"/>
  <link href="/my_freebsd_installation_and_configuration_guide/feed.php?mode=list&amp;ns=" rel="alternate" title="Current Namespace" type="application/rss+xml"/>
  <link href="/my_freebsd_installation_and_configuration_guide/_export/xhtml/start" rel="alternate" title="Plain HTML" type="text/html"/>
  <link href="http://wiki.pcprobleemloos.nl/my_freebsd_installation_and_configuration_guide/start" rel="canonical"/>
  <link href="/my_freebsd_installation_and_configuration_guide/lib/exe/css.php?t=default&amp;tseed=1385596728" media="screen" rel="stylesheet" type="text/css"/>
  <link href="/my_freebsd_installation_and_configuration_guide/lib/exe/css.php?s=all&amp;t=default&amp;tseed=1385596728" media="all" rel="stylesheet" type="text/css"/>
  <link href="/my_freebsd_installation_and_configuration_guide/lib/exe/css.php?s=print&amp;t=default&amp;tseed=1385596728" media="print" rel="stylesheet" type="text/css"/>
  <script type="text/javascript">
   &lt;!--//--&gt;&lt;![CDATA[//&gt;&lt;!--
var NS='';var JSINFO = {"id":"start","namespace":""};
//--&gt;&lt;!]]&gt;
  </script>
  <script charset="utf-8" src="/my_freebsd_installation_and_configuration_guide/lib/exe/js.php?tseed=1385596728" type="text/javascript">
  </script>
  <link href="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/favicon.ico" rel="shortcut icon"/>
  <style type="text/css">
   #corner { position: fixed; bottom: 5px; right: 10px; z-index: 1;}
#cornertop {  position:relative;top:41px; }
#cornerbottom { border: 2px solid #005cb9;-moz-border-radius:10px;
-webkit-border-radius:10px; background:#ebebeb; margin-top:5px;margin-bottom:5px; }
#cornertext { width: 230px; margin: 5px; }
  </style>
 </head>
 <body>
  <div id="corner">
   <div id="cornertop">
    <img src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/beasty-edit.png"/>
   </div>
   <div id="cornerbottom">
    <div align="center" id="cornertext">
     <p align="left">
      <span style="float:left;width:50px;margin-left: 5px">
       <img height="45" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/needhelp.png" width="45"/>
      </span>
      <font size="3">
       <b>
        Need more help?
       </b>
      </font>
      <br/>
      <br/>
      We provide affordable commercial support on this topic!
      <br/>
     </p>
     <center>
      <b>
       Save time
      </b>
      and
      <b>
       <a href="support">
        contact us now!
       </a>
      </b>
     </center>
     Languages spoken:
     <img height="12" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/nl.png" width="20"/>
     <img height="12" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/en.png" width="20"/>
     <img height="12" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/de.png" width="20"/>
    </div>
   </div>
  </div>
  <div class="dokuwiki">
   <div class="stylehead">
    <div class="header">
     <div class="pagename">
      [[
      <a href="/my_freebsd_installation_and_configuration_guide/">
       Introduction
      </a>
      ]]
     </div>
     <div class="logo">
      <a accesskey="h" href="/my_freebsd_installation_and_configuration_guide/" id="dokuwiki__top" name="dokuwiki__top" title="[H]">
       My FreeBSD installation and configuration guide - by Sebastiaan Giebels
      </a>
     </div>
     <div class="clearer">
     </div>
    </div>
    <div class="bar" id="bar__top">
     <div class="bar-left" id="bar__topleft">
     </div>
     <div class="bar-right" id="bar__topright">
      <form accept-charset="utf-8" action="/my_freebsd_installation_and_configuration_guide/" class="search" id="dw__search" method="get">
       <div class="no">
        <input name="do" type="hidden" value="search"/>
        <input accesskey="f" class="edit" id="qsearch__in" name="id" title="[F]" type="text"/>
        <input class="button" title="Search" type="submit" value="Search"/>
        <div class="ajax_qsearch JSpopup" id="qsearch__out">
        </div>
       </div>
      </form>
     </div>
     <div class="clearer">
     </div>
    </div>
    <div class="breadcrumbs">
     <span class="bchead">
      You are here:
     </span>
     <a href="/my_freebsd_installation_and_configuration_guide/start" title="start">
      Introduction
     </a>
    </div>
   </div>
   <div class="page">
    <!-- wikipage start -->
    <!-- TOC START -->
    <div class="toc">
     <div class="tocheader toctoggle" id="toc__header">
      Table of Contents
     </div>
     <div id="toc__inside">
      <ul class="toc">
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#introduction">
           Introduction
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#why_not_linux">
             Why not Linux?
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#document_conventions">
             Document conventions
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#security">
             Security
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#backup">
             Backup
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#who_am_i">
             Who am I?
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#more_good_advice">
             More good advice
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#linking_to_this_site">
             Linking to this site
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#installing_freebsd_62">
           Installing FreeBSD 6.2
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#thoughts_for_partitioning_in_freebsd">
             Thoughts for partitioning in FreeBSD
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#network_configuration">
             Network configuration
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#other_settings">
             Other settings
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#about_ports_and_packages">
           About ports and packages
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#portsnap">
             portsnap
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#portaudit">
             portaudit
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#portupgrade">
             portupgrade
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#additional_software_installation">
           Additional software installation
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#nano">
             nano
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#vi">
             Vi
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#bash">
             bash
            </a>
           </span>
          </div>
          <ul class="toc">
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#bash_prompt">
               bash prompt
              </a>
             </span>
            </div>
           </li>
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#changing_the_default_blocksize">
               changing the default blocksize
              </a>
             </span>
            </div>
           </li>
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#changing_the_motd">
               changing the 'motd'
              </a>
             </span>
            </div>
           </li>
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#changing_the_hostname">
               changing the hostname
              </a>
             </span>
            </div>
           </li>
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#changing_the_dns_servers">
               changing the dns servers
              </a>
             </span>
            </div>
           </li>
          </ul>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#ntpd">
             ntpd
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#screen">
             screen
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#de-_compression_tools_rar_zip_arj_zoo">
             (De-)compression tools (RAR,ZIP,ARJ,ZOO)
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#perl">
             perl
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#mc_the_midnight_commander">
             mc, the Midnight Commander
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#wget">
             wget
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#curl">
             curl
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#network_connectivity">
           Network / connectivity
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#proftpd">
             ProFTPD
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#natd_internet_sharing">
             natd (internet sharing)
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#samba">
             Samba
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#openssl">
             OpenSSL
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#apache_22_webserver">
             Apache 2.2 Webserver
            </a>
           </span>
          </div>
          <ul class="toc">
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#mod_jail_optional">
               mod_jail (optional)
              </a>
             </span>
            </div>
           </li>
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#custom_404-errorhandler">
               Custom 404-Errorhandler
              </a>
             </span>
            </div>
           </li>
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#apachemp3">
               Apache::MP3
              </a>
             </span>
            </div>
           </li>
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#kplaylist">
               kplaylist
              </a>
             </span>
            </div>
           </li>
          </ul>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#isc_dhcp-server_dhcpd">
             ISC DHCP-server (dhcpd)
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#bind_named_dns_server">
             BIND / named / DNS server
            </a>
           </span>
          </div>
          <ul class="toc">
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#ad_blocking_with_your_own_dns_server">
               Ad Blocking with your own DNS Server
              </a>
             </span>
            </div>
           </li>
          </ul>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#trafshow">
             TrafShow
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#netcat">
             NetCat
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#nmap">
             nmap
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#databases">
           Databases
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#mysql">
             MySQL
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#webserver">
           Webserver
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#php">
             PHP
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#phpmyadmin">
             phpMyAdmin
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#joomla">
             Joomla
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#coppermine_gallery">
             Coppermine Gallery
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#dokuwiki">
             DokuWiki
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#tinyproxy">
             TinyProxy
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#serial_console">
             Serial Console
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#compiling_the_freebsd_kernel">
           Compiling the FreeBSD Kernel
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#sudo">
             Sudo
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#syslogd">
             Syslogd
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#bash_30_with_syslog-command_logging">
             Bash 3.0 with Syslog-command logging
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#mrtg_multi_router_traffic_grapher">
             mrtg (Multi Router Traffic Grapher)
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#mail_server_configuration">
           Mail server configuration
          </a>
         </span>
        </div>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#x-windows_xorg">
           X-Windows (xorg)
          </a>
         </span>
        </div>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#system_health">
           System health
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#smartmontools">
             SmartMonTools
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#network_connectivity1">
           Network connectivity
          </a>
         </span>
        </div>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#hardware_configuration">
           Hardware configuration
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#soundcard_on_freebsd">
             Soundcard on FreeBSD
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#dvd_cd_burning_with_freebsd">
             DVD/CD Burning with FreeBSD
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#dacal_dc-300">
             DACAL DC-300
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#sis-pm_ctl">
             SIS-PM CTL
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#external_usb_20_harddisk_drive">
             External USB 2.0 harddisk drive
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#some_possibly_useful_scripts">
           Some (possibly useful) scripts
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#reboot_safety_protection_against_accidental_use">
             reboot safety protection against accidental use
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#ff_find-file">
             ff (find-file)
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#forall">
             forall
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#beep">
             beep
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#enhancing_security">
           Enhancing security
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#putty_ssh-client">
             PuTTY / SSH-client
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#password-less_login_with_ssh">
             Password-less login with ssh
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#other">
             Other
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#openvpn">
             OpenVPN
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#copying_freebsd_to_another_harddisk">
           Copying FreeBSD to another harddisk
          </a>
         </span>
        </div>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#things_to_do_after_copying_all_to_a_new_harddisk">
           'Things to do' after copying all to a new harddisk
          </a>
         </span>
        </div>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#backup_with_freebsd">
           Backup with FreeBSD
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="clear">
          <ul class="toc">
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#bacula">
               bacula
              </a>
             </span>
            </div>
           </li>
          </ul>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#rsync">
             Rsync
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#bounce">
             Bounce
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#java_2_on_freebsd_v15">
             Java 2 on FreeBSD (v1.5)
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#pstree">
             pstree
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#crypt-filesystem">
             Crypt-FileSystem
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#monit_service_manager">
             monit Service Manager
            </a>
           </span>
          </div>
          <ul class="toc">
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#autologin">
               Autologin
              </a>
             </span>
            </div>
           </li>
          </ul>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#console_screen_saver">
             Console 'screen saver'
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#printing_in_freebsd">
           Printing in FreeBSD
          </a>
         </span>
        </div>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#p2p_and_other_music_movie_downloading_apps">
           P2P and other music/movie downloading apps
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#amule2">
             amule2
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#mldonkey">
             MLdonkey
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#sabnzbd">
             SABnzbd
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#rtorrent_-_console_bittorrent-p2p_client">
             rtorrent - Console Bittorrent-p2p client
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#voip_telephony">
           VOIP telephony
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#asterisk_pbx">
             Asterisk* PBX
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#won_t_run_on_under_freebsd">
           Won't run on/under FreeBSD
          </a>
         </span>
        </div>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#references">
           References
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="clear">
          <ul class="toc">
           <li class="level3">
            <div class="li">
             <span class="li">
              <a class="toc" href="#i_m_currently_working_on">
               I'm currently working on ...
              </a>
             </span>
            </div>
           </li>
          </ul>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#improving_this_guide">
           Improving this guide
          </a>
         </span>
        </div>
        <ul class="toc">
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#reverse_ssh">
             reverse ssh
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#pxe_windows_xp_installation">
             PXE Windows XP installation
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#how_to_mount_an_iso_image">
             How to mount an ISO image
            </a>
           </span>
          </div>
         </li>
         <li class="level2">
          <div class="li">
           <span class="li">
            <a class="toc" href="#openarena">
             OpenArena
            </a>
           </span>
          </div>
         </li>
        </ul>
       </li>
       <li class="level1">
        <div class="li">
         <span class="li">
          <a class="toc" href="#discussion__section">
           Discussion
          </a>
         </span>
        </div>
       </li>
      </ul>
     </div>
    </div>
    <!-- TOC END -->
    <p>
     A step-by-step practical guide to installing &amp; configuring FreeBSD 6.2, 
together with some very common applications, by Sebastiaan Giebels [sgie bels_freebsdATpc probleemloos.nl].
    </p>
    <p>
     <a class="media" href="http://www.freebsd.org" rel="nofollow" title="http://www.freebsd.org">
      <img align="right" alt="the new FreeBSD logo, as of Oct.2005" class="mediaright" src="/my_freebsd_installation_and_configuration_guide/_media/freebsd-logo-full-thumb.png" title="the new FreeBSD logo, as of Oct.2005"/>
     </a>
     This will probably always be 'Work in progress', but I think it's pretty usable. I would welcome any comments or corrections. By continuing reading you agree to the
     <a class="wikilink1" href="/my_freebsd_installation_and_configuration_guide/disclaimer" title="disclaimer">
      disclaimer
     </a>
     .
    </p>
    <p>
     update 28 nov 2009: well, FreeBSD 8.0 is out. I hope this guide isn't too outdated yet, haven't found the time yet to check for inconsistencies with 8.0. Please report any serious problems to the e-mail adress a few lines above, and I'll try to fix them.
    </p>
    <p>
     update 12 dec 2010: new
     <a class="urlextern" href="http://wiki.pcprobleemloos.nl/using_lxc_linux_containers_on_debian_squeeze" rel="nofollow" title="http://wiki.pcprobleemloos.nl/using_lxc_linux_containers_on_debian_squeeze">
      wiki on LXC linux containers on debian squeeze
     </a>
    </p>
    <p>
     <strong>
      Commercial FreeBSD support
     </strong>
     <em>
      NEW!!
      <br/>
      We can help you with many of your configuration and installation problems, by phone, chat, or e-mail from 
our office in Eindhoven, the Netherlands/Nederland. 
Contact [freebsd_supportATpc probleemloos.nl] to find out how we 
can help you with your BSD issues &amp; ask for our hourly rates. Languages 
spoken: dutch, english, german.
We are not endorsed by or affiliated with The FreeBSD Foundation.
     </em>
    </p>
    <p>
     <em>
      NEW!!
      <br/>
      Partnership with
      <a class="urlextern" href="http://www.datarecoverycentrale.nl" rel="nofollow" title="http://www.datarecoverycentrale.nl">
       Data Recovery Centrale Nederland
      </a>
      for FreeBSD/Linux/Mac or any other UNIX based filesystem data recovery from our
      <a class="urlextern" href="http://www.pcprobleemloos.nl" rel="nofollow" title="http://www.pcprobleemloos.nl">
       PC Probleemloos
      </a>
      office in Eindhoven, the Netherlands/Nederland. 
Contact [unix recoveryATdata recovery centrale.nl] (remove the spaces, replace the AT) to find out how we can be of assistance.
     </em>
    </p>
    <h1 class="sectionedit1">
     <a id="introduction" name="introduction">
      Introduction
     </a>
    </h1>
    <div class="level1">
     <p>
      For a few years I've been using the FreeBSD operating system now. I started with version 4.3 in 2001 (which a friend of me, with much more experience in BSD, installed) as a router/firewall on an old 486.
Since then, I've been using this machine more and more, I've installed extra services (webserver, ftp-server, samba) on it to use it as a NAS-device, and I installed larger and larger harddisks, and stuffed it with all the unused RAM I had. 
I even installed
      <a class="wikilink1" href="#mldonkey" title="start ">
       software for Peer-2-peer file sharing
      </a>
      (with a control interface that was accessible with a web browser).
     </p>
     <p>
      Because of my lack of FreeBSD (and even Unix-) knowledge, I regularly messed things up. Not as bad as I did to my Linux PC (oh, damned dependency conflicts!) but still bad enough to set some things out of service. Fixing the things I broke was difficult, as I didn't read any manpages to get them working in the first place. Reinstalling FreeBSD from scratch took much time everytime I saw no way out, and often copying configuration files from the old installation to the new machine didn't work.
     </p>
     <p>
      As other people were depending on this server too, I was 'strongly encouraged' to learn more about FreeBSD. I installed FreeBSD 4.8, 5.4 and a few others, and now, at FreeBSD version 6.2, I trust myself enough to write my experiences down, and let others use my knowledge. And if I would need to do another FreeBSD installation in the future, I'm sure that going though this manual step by step will get it installed in no-time. Except for the passwords , I think everything is in here, including personal preferences. There are a lot of
      <a class="wikilink1" href="#references" title="start ">
       other FreeBSD guides
      </a>
      that might be better than this one, but this one  is for FreeBSD 6.2, and contains everything I need in one page. I'll link to those other guides when appropriate. A new FreeBSD version, version 7.0, is under active development, with some
      <a class="urlextern" href="http://ivoras.sharanet.org/freebsd/freebsd7.html" rel="nofollow" title="http://ivoras.sharanet.org/freebsd/freebsd7.html">
       nice features
      </a>
      . I won't discuss it in the rest of this tutorial.
     </p>
     <p>
      In my past BSD-days, I've grown accustomed to some applications. I've 
used Sendmail (now I'm using
      <a class="wikilink1" href="/my_freebsd_installation_and_configuration_guide/mailserver_configuration_with_postfix_courier-imap_procmail_spamassassin_clamav#postfix" title="mailserver_configuration_with_postfix_courier-imap_procmail_spamassassin_clamav">
       Postfix
      </a>
      ), I've used Boa (now I'm using
      <a class="wikilink1" href="#apache_22_webserver" title="start ">
       Apache
      </a>
      ), I've used Mambo as a
      <acronym title="Content Management System">
       CMS
      </acronym>
      (now I'm using
      <a class="wikilink1" href="#joomla" title="start ">
       Joomla!
      </a>
      ), and I even use vi (well, just enough to edit my .bashrc to set
      <a class="wikilink1" href="#nano" title="start ">
       nano
      </a>
      as my default editor :) ). I'm not one of those people that want to convince you that
      <a class="wikilink1" href="#postfix" title="start ">
       Postfix
      </a>
      is a better e-mail server than Sendmail, I will just say that I've spent more time getting to know Postfix.
      <br/>
      In the open-source world, you are overwhelmed with choices you can make: shells, editors, webservers, browsers. In any of those categories you can find tens, hundreds of good pieces of software which can all suit your needs. I make my choices with the help of the following criteria:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        How much time do I expect to be needing to get it up and running the way I want?
       </div>
      </li>
      <li class="level1">
       <div class="li">
        How many other people are using it? (a big userbase often means good support)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        How many features does it have that I will never use?
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Are the right installation manuals avalable? (e.g. for connecting Postfix to ClamAV)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        My own experience, or from friends.
       </div>
      </li>
     </ul>
     <p>
      This guide explains how to install the software that I have chosen, and as a result of that it won't include Sendmail, Cyrus- &amp; UW-
      <acronym title="Internet Message Access Protocol">
       IMAP
      </acronym>
      ,  GiFT, boa, Mambo, pine, and thousands of other pieces of software that might do the job just as well.
     </p>
     <p>
      I've taken almost all commands from man-pages or the internet (
      <a class="wikilink1" href="#references" title="start ">
       look here for a list of some good FreeBSD sites
      </a>
      ), and I'm sure: if somebody would have written on the internet "use
      <em>
       rm -Rf /
      </em>
      " as -the- solution for problems I was facing at first, I would have believed that person, leaving me not only with a problem-free pc, but a FreeBSD-free pc too Please don't try
      <em>
       rm -rf-ing
      </em>
      your system to see what it does. After you've spent many hours of time configuring it all,
      <em>
       rm -rf
      </em>
      really hurts.
     </p>
    </div>
    <h2 class="sectionedit2">
     <a id="why_not_linux" name="why_not_linux">
      Why not Linux?
     </a>
    </h2>
    <div class="level2">
     <p>
      If you're wondering why I'm not using Linux on my server,
      <a class="urlextern" href="http://www.over-yonder.net/~fullermd/rants/bsd4linux/01" rel="nofollow" title="http://www.over-yonder.net/~fullermd/rants/bsd4linux/01">
       read this on the design differences between BSD and Linux design roots
      </a>
      . However, if I would be writing a guide purely for desktops instead of servers, it would probably be on Linux.
A lot of applications written for Linux run on FreeBSD without a problem (just look at the amount of applications in the ports tree and you'll see I'm right). Besides, FreeBSD has Linux support, so it can even run a lot of binary Linux programs!
     </p>
    </div>
    <h2 class="sectionedit3">
     <a id="document_conventions" name="document_conventions">
      Document conventions
     </a>
    </h2>
    <div class="level2">
     <p>
      I will be using '&lt;freebsd62.example.org&gt;' as my (fictional) hostname, '
      <em>
       &lt;my.freebsdpcs.ip.address&gt;
      </em>
      ' or '
      <em>
       &lt;1.2.3.4&gt;
      </em>
      ' as my (fictional) ip, '
      <em>
       &lt;my.router.ip.address&gt;
      </em>
      ' or '
      <em>
       &lt;1.2.3.1&gt;
      </em>
      ' as my default gateway (my DSL router) and '
      <em>
       &lt;freebsd_username&gt;
      </em>
      ' as a username for my regular user (notice the '&lt;' and '&gt;' characters). The passwords i'm using  (for the root user,
      <em>
       &lt;freebsd_username&gt;
      </em>
      -user, MySQL-database, phpMyAdmin) will all be referenced to as '
      <em>
       &lt;my_mothers_maiden_name&gt;
      </em>
      ', '
      <em>
       &lt;my_very_secret_password&gt;
      </em>
      ' or something like that throughout this document.
      <br/>
     </p>
     <p>
      Do not use the same password for everything.
     </p>
    </div>
    <h2 class="sectionedit4">
     <a id="security" name="security">
      Security
     </a>
    </h2>
    <div class="level2">
     <p>
      Don't assume that by using my settings and making the same choices I did, you'll be 100% safe against hackers. After I've changed my root password from 'secret' to something  more challenging I might be safe, maybe not. 
As you know, software can contain bugs, or security holes. Some of these not-yet-discovered holes will probably be so big that even a elephant-sized hacker will be able to get into your system just by sneezing. It's your system, and your responsibility (not mine) to stay informed of security issues, and keeping up to date by applying the correct patches.
     </p>
     <p>
      I'll be using
      <a class="wikilink1" href="#portaudit" title="start ">
       portaudit
      </a>
      to show you how to scan your system for ports/packages with security vulnerabilities.
     </p>
     <p>
      As a basic security measure, I will show you how to limit direct access from the internet to MySQL and other software for which access from the outside is not required for proper functioning. Real firewall configuration I will do another time. I'm still not sure if I will be using ipf or pf. ipfw is horribly outdated my BSD-friend told me, so I'll won't be reinstalling that. 
For the routing however, I will use ipf/ipnat, because it should almost work 'out of the box' with just a few lines of code, and maybe I'll trow in some traffic shaping later on, with
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/firewalls-pf.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/firewalls-pf.html">
       ALTQ (1: FreeBSD Handbook on PF)
      </a>
      <a class="urlextern" href="http://www.openbsd.org/faq/pf/queueing.html" rel="nofollow" title="http://www.openbsd.org/faq/pf/queueing.html">
       (2: PF:Packet Queueing and Prioritization)
      </a>
      <a class="urlextern" href="http://www.benzedrine.cx/ackpri.html" rel="nofollow" title="http://www.benzedrine.cx/ackpri.html">
       (3: Prioritizing empty TCP ACKs with pf and ALTQ)
      </a>
      <a class="urlextern" href="http://www.onlamp.com/pub/a/bsd/2006/02/16/os_fingerprint_filtering.html" rel="nofollow" title="http://www.onlamp.com/pub/a/bsd/2006/02/16/os_fingerprint_filtering.html">
       (4: Network Filtering by Operating System)
      </a>
      .
     </p>
    </div>
    <h2 class="sectionedit5">
     <a id="backup" name="backup">
      Backup
     </a>
    </h2>
    <div class="level2">
     <p>
      I will dive into backup strategies when I have some time left, 
currently, I'm using rsync to backup my maildir (bad idea to do this with rsync!), home 
directories (Including /root, butdon't forget to exclude all cache and 
temp folders!), configuration files (/etc, /usr/local/etc), and another folder with my documents, pictures, downloaded files etc. There are very nice backup tools available, which certainly should be inspected. I will search for the notes on backup procedures i took, and post them here as soon as I find them.
     </p>
    </div>
    <h2 class="sectionedit6">
     <a id="who_am_i" name="who_am_i">
      Who am I?
     </a>
    </h2>
    <div class="level2">
     <p>
      Im 30 years old, and I work as an IT consultant in Eindhoven, the Netherlands.
     </p>
     <p>
      I've started this blog around September 7 2007, that's an awful long time ago in unix terms, so check every software package for updates &amp; security fixes, as the packages I'm showing you here might be horribly outdated.
     </p>
    </div>
    <h2 class="sectionedit7">
     <a id="more_good_advice" name="more_good_advice">
      More good advice
     </a>
    </h2>
    <div class="level2">
     <p>
      You might want to keep notes of the steps you're taking in 
getting a FreeBSD machine up and running, just like I did. Not only will 
this help you in case you're going to reinstall FreeBSD on the same or another 
machine anywhere in the future, but this will come in quite handy in case  
something breaks: You can walk back the steps to see where it went 
wrong, and if you're not able to fix it yourself and you're asking 
someone else to help you, you can give a lot of useful information to them.
     </p>
    </div>
    <h2 class="sectionedit8">
     <a id="linking_to_this_site" name="linking_to_this_site">
      Linking to this site
     </a>
    </h2>
    <div class="level2">
     <p>
      I'd appreciate an e-mail if you link to this page, so I can inform you if the address changes (my address is on the top of this page). Please use this
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      when linking:
      <a class="urlextern" href="http://wiki.pcprobleemloos.nl/my_freebsd_installation_and_configuration_guide/" rel="nofollow" title="http://wiki.pcprobleemloos.nl/my_freebsd_installation_and_configuration_guide/">
       http://wiki.pcprobleemloos.nl/my_freebsd_installation_and_configuration_guide/
      </a>
      . Contacting me will also motivate me to improve and update this guide, whenever necessary. If I get enough e-mails from people from germany or from the netherlands, I will translate it to those 'Deutch, deutsche handleitung' and 'Nederlands, nederlandse handleiding' as well. Any questions, corrections, etc. you can direct to the same e-mail address.
     </p>
     <p>
      Let's get started..
     </p>
    </div>
    <h1 class="sectionedit9">
     <a id="installing_freebsd_62" name="installing_freebsd_62">
      Installing FreeBSD 6.2
     </a>
    </h1>
    <div class="level1">
     <p>
      As there already are an overwhelming number of guides for installing FreeBSD, but less on configuring it, I'll concentrate on the latter, and I'll only show a 'quick install guide'.
Someone made a
      <a class="urlextern" href="http://www.youtube.com/watch?v=iiLu-67fSy4" rel="nofollow" title="http://www.youtube.com/watch?v=iiLu-67fSy4">
       video of installing FreeBSD
      </a>
      (not using my guide,
      <acronym title="By the way">
       BTW
      </acronym>
      ) and posted it on YouTube.
And someone else made
      <a class="urlextern" href="http://www.youtube.com/watch?v=ujWcmWeLvuo&amp;mode=related&amp;search=" rel="nofollow" title="http://www.youtube.com/watch?v=ujWcmWeLvuo&amp;mode=related&amp;search=">
       a video for version 6.2
      </a>
     </p>
     <p>
      This version with screenshots of every windows you'll see during the installation is very nice:
      <a class="urlextern" href="http://www.openaddict.com/installing_freebsd_6_1.html" rel="nofollow" title="http://www.openaddict.com/installing_freebsd_6_1.html">
       http://www.openaddict.com/installing_freebsd_6_1.html
      </a>
     </p>
     <p>
      However, if you want me to tell you how I've done it, this is the way: 
I will assume you are using an empty harddisk to install FreeBSD (if not, backup your data!)
There is a windows xp partition already on my hdd as I start installing FreeBSD. This is not a problem, but any mistake might make my Windows partition inaccessible after this installation.
     </p>
     <p>
      I used a FreeBSD 6.2-RELEASE installation CD. You can download the
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      image from the
      <a class="urlextern" href="http://www.freebsd.org" rel="nofollow" title="http://www.freebsd.org">
       FreeBSD website http://www.freebsd.org
      </a>
      or use
      <a class="urlextern" href="ftp://ftp5.freebsd.org/pub/FreeBSD/" rel="nofollow" title="ftp://ftp5.freebsd.org/pub/FreeBSD/">
       this link to an FTP server
      </a>
      .
      <br/>
      From the folder "
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      -IMAGES-i386/6.2/" download the file named '6.2-RELEASE-i386-disc1.iso'
I will be using the 'i386'-architecture, even though I'll be running it on an AMD 64-bit processor and I could have chosen 'amd64'-architecture. I've tried it before, and noticed some software didn't work properly (like TightVNC and the drivers from NVidia)
Because I'll be downloading almost all software from the internet during installation (instead of installing all from cd), the '-disk2.iso' file is not needed. The '-bootonly.iso' file is especially designed for this kind of installation, but I know I can use "-disk1.iso" also for repair purposes, where the '-bootonly.iso' is rather limited for this purpose.
     </p>
     <p>
      I will skip the step to check the
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      -file for hacker-tampering by comparing the MD5 or SHA256 checksums. Follow the FreeBSD Installation Handbook on that one if you would like to be 100% sure you've downloaded an untampered version.
     </p>
     <p>
      Burn this
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      -image to a cd, and boot from it.
     </p>
     <p>
      After the boot-up process, a menu will appear asking for a "Country Selection". Simply choose your country ("Netherlands", in my case) with the up&amp;down arrow keys, and confirm with the Return key, the next question is for the System Console Keymap, for me the default ("USA
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      ") is ok, so I will just press enter. Next up, is the sysinstall Main Menu. I choose to do a 'Standard install', created a partition for use with FreeBSD (see next chapter), selected the "FreeBSD BootMgr", Added some disk labels (see next chapter too) 
The blue line is:
     </p>
     <pre class="code">
      "Disk: ad0   Partition name:ad0s3    Free: 40965750 blocks (20002MB)"
     </pre>
     <p>
      This means: a0 the first harddisk (jumpered as 'Primary Master'), as counting harddisks starts at 0
     </p>
     <pre class="code">
      ad0s3 is the third partition on the first harddisk (confirmation required..)
     </pre>
     <p>
      C to create a new slice in the free partition, enter the size for the new disk slice (for the first one, I entered "500MB", selected "FS", and specified "/" as the mount point).
      <a class="wikilink1" href="#thoughts_for_partitioning_in_freebsd" title="start ">
       Click here to see the partition layout I prefer.
      </a>
      Repeat the last step for all the disk slices you wish to make (for the swap-slice, select "Swap" instead of "FS")
The created slices will have names like:  ad0s3a, ad0s3b, ad0s3d, ad0s3e, ad0s3f, where the last vowel represents the slice order. Press 'q' to finish setting up the disk slices.
     </p>
     <p>
      "Choose Distributions" 
      <strong>
       8 User
      </strong>
      , confirm with the space-key, 
Would you like to install the FreeBSD ports collection?
      <strong>
       Yes
      </strong>
      , use the 'Tab'-key to go to 'OK', and press Enter to confirm.
(Select "8 User" if you're not planning to use X-Windows right now, or X-User if you want to install X-Windows directly.)
     </p>
     <p>
      I selected "
      <acronym title="File Transfer Protocol">
       FTP
      </acronym>
      ", at "Choose Installation Media", but I could have chosen CD/DVD just as well (if I would have downloaded the -disc2.iso file as well)
I selected "Netherlands  - ftp.nl./freebsd.org" as a FreeBSD
      <acronym title="File Transfer Protocol">
       FTP
      </acronym>
      distribution site.
Next up, is selecting the network card I'm using to conenct the internet (in my case, that will be the device called 'em0', for my On-board Intel Gigabit connection. Yours will almost certainly be different.)
I did not choose for IPv6 (so it will go on using IPv4), I did choose "try
      <acronym title="Dynamic Host Configuration Protocol">
       DHCP
      </acronym>
      ", as my router will provide my FreeBSD pc with an IP address.
You will see the IP address your router/dhcp server assigned to you in the next window. I filled in a hostname &lt;freebsd62&gt; and domain name &lt;example.org&gt; to complete it, and click 'ok'
Next up, is the question if we are sure everything sure we entered everything correctly. I am, so I select 'Yes'
     </p>
     <p>
      I did select to install the ports tree (later on I will show how to use
      <a class="wikilink1" href="#portsnap" title="start ">
       portsnap to update it
      </a>
      ).
     </p>
     <p>
      It will congratulate you with the install. Let's continue..
     </p>
     <p>
      -
Now there will be a lot of questions, I won't dive deep into what they all mean, I'll just tell you what I did:
     </p>
     <p>
      Do you want this machine to funciton as a network gateway?
      <strong>
       Yes
      </strong>
      (In the future, I want to use my FreeBSD machine as a network router)
     </p>
     <p>
      Do you want to configure inetd and the network services that it provides?
      <strong>
       Yes
      </strong>
      ('inetd' is a tool which helps easy configuration of network services, like an e-mail server,  )
     </p>
     <p>
       With this in mind, do you wish to enable inetd?
      <strong>
       Yes
      </strong>
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Select [Yes] now to invoke an editor on /etc/inetd.conf, or [No] to use the current settings.
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to enable
        <acronym title="Secure Shell">
         SSH
        </acronym>
        login?
        <strong>
         Yes
        </strong>
        (important)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Do you want to have anonymous
        <acronym title="File Transfer Protocol">
         FTP
        </acronym>
        access to this machine?
        <strong>
         No
        </strong>
        (not yet, at least)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Do you want to configure this machine as an NFS server?
        <strong>
         Yes
        </strong>
        (I do want this, as I know it will provide an easy way to share files over the network with other machines, your choice may be different: if you choose
        <strong>
         No
        </strong>
        , skip the next .. steps of this guide)
       </div>
      </li>
      <li class="level1">
       <div class="li">
         Press [ENTER] now to invoke an editor on /etc/exports
        <strong>
         OK
        </strong>
        , Press the Escape-key, followed by the Return-key to exit the editor, as we're not setting up NFS shares here.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Do you want to configure this machine as an NFS client?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to customize your system console settings?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to set this machine's time zone now?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Is this machine's CMOS clock set to UTC?
        <strong>
         No
        </strong>
        (my pc's internal clock is set to local time)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Select a region
        <strong>
         Europe
        </strong>
        (your choice may be different :) )
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Select a country or region
        <strong>
         33 Netherlands
        </strong>
        (your choice may be different :) )
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Does the abbreviation 'CET'/'CEST' look reasonable?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to enable Linux binary compatibility?
        <strong>
         Yes
        </strong>
        (I think so, but if there's another way to install it, that might be better, as that will provide more recent files)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Does this system have a PS/2, serial, or bus mouse?
        <strong>
         Yes
        </strong>
        (my systen does have a PS/2 mouse, if you're not going to install X-Windows, you can select No). If you've chosen Yes, next up: select enable, move the mouse, select 'Yes' if the mouse is moving, and select 'Exit' to finish the mouse configuration.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        The FreeBSD package collection  Would you like to browse the collection now? No
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to add initial user accounts to the system? 
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Select "Add group", and create a new user group. Select User, add a new user, and use the newly created user group for this user.
        <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Now you must set the system manager's password. 
        <strong>
         OK
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        New Password:
        <em>
         &lt;your_very_secret_password&gt;
        </em>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Retype new Password:
        <em>
         &lt;your_very_secret_password&gt;
        </em>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Visit the general configuration menu for a chance to set any last options?
        <strong>
         No
        </strong>
       </div>
      </li>
     </ul>
     <p>
      You are returned to the main installation menu. Choose 'Exit Installation' to finish &amp; reboot.
     </p>
    </div>
    <h2 class="sectionedit10">
     <a id="thoughts_for_partitioning_in_freebsd" name="thoughts_for_partitioning_in_freebsd">
      Thoughts for partitioning in FreeBSD
     </a>
    </h2>
    <div class="level2">
     <p>
      I know the ports-tree will use quite a bit of space, because I'll be building a lot of applications from source. I'll guess a value of about 5GB is ok, for my maildir I'll take 2GB, and my www-folder to store my webpages will be maximum 1GB. 
The advantage of partitioning is, in my opinion, to prevent insufficient diskspace issues for certain things: Otherwise, if I would upload too much data (e.g. pictures) to my www-folder, my /var/maildir folder would run out of diskspace, which could result in e-mails getting lost; or no diskspace for logfiles in /var/log, which a hacker could use to prevent discovery of hacking activities.
     </p>
     <p>
      As I'm the only user for e-mail on this system, I might want to look into 'quota' later on.
     </p>
     <p>
      You can use the 'A' for automatic setup, which will set it up for you automatically, I did it by hand.
     </p>
     <p>
      To read more about how the file system is organized (which directory has which purpose), enter:
     </p>
     <pre class="code">
      man hier
     </pre>
    </div>
    <h5>
     <a id="my_final_layout" name="my_final_layout">
      My final layout
     </a>
    </h5>
    <div class="level5">
     <div class="table sectionedit11">
      <table class="inline">
       <tr class="row0">
        <th class="col0">
         Mount point
        </th>
        <th class="col1">
         size
        </th>
        <th class="col2">
         purpose
        </th>
        <td class="col3">
        </td>
       </tr>
       <tr class="row1">
        <td class="col0">
         /
        </td>
        <td class="col1">
         500MB
        </td>
        <td class="col2">
         (root filesystem, kernel and base system)
        </td>
        <td class="col3">
        </td>
       </tr>
       <tr class="row2">
        <td class="col0">
         <em>
          swap
         </em>
        </td>
        <td class="col1">
         500MB
        </td>
        <td class="col2">
         (swapspace)
        </td>
        <td class="col3">
        </td>
       </tr>
       <tr class="row3">
        <td class="col0">
         /usr
        </td>
        <td class="col1">
         10GB
        </td>
        <td class="col2">
         the majority of user utilities and applications
        </td>
        <td class="col3">
        </td>
       </tr>
       <tr class="row4">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         The /usr will also contain:
        </td>
       </tr>
       <tr class="row5">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         /usr/ports (probably around 5GB in size) for sources and builds from the ports tree and
        </td>
       </tr>
       <tr class="row6">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         /usr/src (+-1GB) which contains sources and builds, the kernel build files will be here too)
        </td>
       </tr>
       <tr class="row7">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         /usr/local/www (1GB) for the apache-webserver folder for all hosted domains)
        </td>
       </tr>
       <tr class="row8">
        <td class="col0">
         /var
        </td>
        <td class="col1">
         5GB
        </td>
        <td class="col2">
         files that change regularly, like logfiles, spool and transient files)
        </td>
        <td class="col3">
        </td>
       </tr>
       <tr class="row9">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         The /var folder will (among other things) contain:
        </td>
       </tr>
       <tr class="row10">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         /var/maildir (2GB) the maildir folder where I'll store my e-mail
        </td>
       </tr>
       <tr class="row11">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         /var/db (1GB) mysql and other databases like the package-database
        </td>
       </tr>
       <tr class="row12">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         /var/log (500MB) logfiles
        </td>
       </tr>
       <tr class="row13">
        <td class="col0">
        </td>
        <td class="col1" colspan="2">
         The numbers above are bases on a bit of experience, but certainly no guarantee
        </td>
       </tr>
       <tr class="row14">
        <td class="col0">
         /tmp
        </td>
        <td class="col1">
         500MB
        </td>
        <td class="col2">
         temporary storage
        </td>
        <td class="col3">
        </td>
       </tr>
      </table>
     </div>
     <p>
      If your harddrive has more space, you can double the size of /usr.
     </p>
     <p>
      After saving the partition layout, select:
      <strong>
       BootMgr
      </strong>
      as the boot manager to use.
     </p>
     <p>
      You might have luck adjusting your partition sizes using a tool like 'Partition Magic'. You might also not be very lucky, shooting yourself in the foot by wiping out your entire harddisk in the process. Think now, correcting this later is a big
      <acronym title="Pain in the Ass">
       PITA
      </acronym>
      
     </p>
     <p>
      Notice: If you want to change, add, or remove partitions once your system is installed &amp; running, GEOM (FreeBSD's diskmanager) will not allow you to do fdisk-stuff while any part of the disk is mounted. You will have to boot from the FreeBSD installation cd-rom to do any modifications on partitions.
     </p>
     <p>
      You will get an error message like:
      <code class="code html4strict">
       Error: Unable to write data to disk ad0
Disk partition write returned an error status!
      </code>
     </p>
     <p>
      "You cannot open /dev/ad0 for writing if any. slices or labels are open."
See
      <a class="urlextern" href="http://lists.freebsd.org/pipermail/freebsd-questions/2003-May/007796.html" rel="nofollow" title="http://lists.freebsd.org/pipermail/freebsd-questions/2003-May/007796.html">
       http://lists.freebsd.org/pipermail/freebsd-questions/2003-May/007796.html
      </a>
     </p>
     <p>
      Or, if you are getting paid by the minute for reading this step-by-step FreeBSD installation guide, go and read
      <a class="urlextern" href="http://www.bsdcan.org/2004/papers/geom-tutorial.pdf" rel="nofollow" title="http://www.bsdcan.org/2004/papers/geom-tutorial.pdf">
       this GEOM tutorial
      </a>
      .
     </p>
    </div>
    <h2 class="sectionedit12">
     <a id="network_configuration" name="network_configuration">
      Network configuration
     </a>
    </h2>
    <div class="level2">
     <p>
      Congratulations, you have succesfully installed 
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Do you want to configure any ethernet devices?:
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Use IPV6?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Use
        <acronym title="Dynamic Host Configuration Protocol">
         DHCP
        </acronym>
        ?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Hostname=
        <strong>
         freebsd61
        </strong>
        , domain (use Tab-key to go to it)=
        <strong>
         <em>
          example.org
         </em>
        </strong>
        , Tab to '
        <strong>
         ok
        </strong>
        ' &amp; press enter
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Use INETD?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Configure INETD?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Do you want to enable
        <acronym title="Secure Shell">
         SSH
        </acronym>
        -login?
        <strong>
         Yes
        </strong>
       </div>
      </li>
     </ul>
     <p>
      Will this pc act as a router/gateway?
      <strong>
       Yes
      </strong>
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Do you want to have anonymous
        <acronym title="File Transfer Protocol">
         FTP
        </acronym>
        access to this machine?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Do you want to configure this machine as an NFS server?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Do you want to configure this machine as an NFS client?
        <strong>
         Yes
        </strong>
       </div>
      </li>
     </ul>
    </div>
    <h2 class="sectionedit13">
     <a id="other_settings" name="other_settings">
      Other settings
     </a>
    </h2>
    <div class="level2">
     <ul>
      <li class="level1">
       <div class="li">
        Would you like to customize your system console settings?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to set this machine's time zone now?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Is this machine's
        <acronym title="Content Management System">
         CMS
        </acronym>
        clock set to UTC?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Time Zone Selector, Select a region:
        <strong>
         Europe
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Countries in Europe, Select a coutnry or region:
        <strong>
         Netherlands
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Does the abbreviation 'CEST' look reasonable?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to enable Linux binary compatibility?
        <strong>
         Yes
        </strong>
        (I think so..)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Does this system have a PS/2, serial, or bus mouse?
        <strong>
         Yes
        </strong>
       </div>
      </li>
     </ul>
     <p>
      I did configure and enable the mouse daemon. Even if your box will not run as a X11/X-windows machine, you can use it for copy/paste actions in the console. Remember to
      <strong>
       set options
      </strong>
      to enable three-button mouse-simulation if you  only have a 2-button mouse
Flags=
      <strong>
       -3
      </strong>
      +enter; enable + test it.
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Is the mouse cursor moving?
        <strong>
         Yes
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        <strong>
         X Exit
        </strong>
       </div>
      </li>
     </ul>
     <ul>
      <li class="level1">
       <div class="li">
        The FreeBSD package collection  Would you like to browse the collection now?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Would you like to add any initial user accounts?
        <strong>
         Yes
        </strong>
       </div>
      </li>
     </ul>
     <p>
      Group: Group name=
      <strong>
       <em>
        &lt;freebsd_username&gt;
       </em>
      </strong>
      (+ 4x enter)
User: Login ID=
      <strong>
       <em>
        &lt;freebsd_username&gt;
       </em>
      </strong>
      , Group=
      <strong>
       <em>
        &lt;freebsd_username&gt;
       </em>
      </strong>
      , password=
      <strong>
       <em>
        &lt;something_secret&gt;
       </em>
      </strong>
      , 
Member groups:
      <strong>
       wheel
      </strong>
      (Tab, Tab, Tab, OK, X Exit)
In the 'Member groups', I entered 'wheel' to allow this user to use 'su' to gain root status 
(which is, by the way, depreciated, but I've still got the habit to use su). Users that are not in the 'wheel'-group, cannot 'su' or perform root-tasks.
Set root password:
      <strong>
       OK
      </strong>
      New Password:
      <strong>
       <em>
        &lt;my_mothers_maiden_name&gt;
       </em>
      </strong>
      Repeat Password:
      <strong>
       <em>
        &lt;my_mothers_maiden_name&gt;
       </em>
      </strong>
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Visit the general configuration menu for a chance to set any last options?
        <strong>
         No
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        <strong>
         X Exit Install
        </strong>
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Are you sure you wish to exit?
        <strong>
         Yes
        </strong>
       </div>
      </li>
     </ul>
     <p>
      Your pc will reboot (remove the FreeBSD installation cd-rom)
After the boot proces, you will be greeted with the 'login:' prompt. 
login:
      <strong>
       root
      </strong>
      password:
      <strong>
       <em>
        &lt;my_mothers_maiden_name&gt;
       </em>
      </strong>
     </p>
     <p>
      You are greeted with the Message Of The Day (the contents of /etc/motd)
     </p>
     <p>
      FIXMEConfigure your internet connection, with ifconfig and edit /etc/resolv.conf to include your dns servers if you haven't already done this during FreeBSD installat
     </p>
     <p>
      on procedure.
     </p>
    </div>
    <h1 class="sectionedit14">
     <a id="about_ports_and_packages" name="about_ports_and_packages">
      About ports and packages
     </a>
    </h1>
    <div class="level1">
     <p>
      port / packages difference..
     </p>
     <p>
      /usr/ports/INDEX-6 (or INDEX?) has a list with all the software in the portstree, with descriptions. If you're looking for an application to do this or that, search this file.
     </p>
     <p>
      At this time, the only package that is installed is 'linux_base'. To see the list of all installed packages (excluding the things you've installed from source) just enter:
     </p>
     <pre class="code">
      pkg_info
     </pre>
     <p>
      To search for a package in the list of installed packages, use
     </p>
     <pre class="code">
      pkg_info | grep part_of_package_name
     </pre>
     <p>
      The FreeBSD package system can download and install pre-compiled binaries from the internet, which is one of the easiest and fastest way to install software onto FreeBSD. For some of the software, I will use the ports-tree, as packages are not as frequently updated as the ports. I will also install some software from source, when package or ports are both outdated or nonexistant.
      <br/>
      <a class="urlextern" href="http://www.bsdguides.org/guides/freebsd/beginners/install_apps.php" rel="nofollow" title="http://www.bsdguides.org/guides/freebsd/beginners/install_apps.php">
       Differences between packages and ports explained
      </a>
     </p>
     <p>
      I set the packagesite environment variable was set to a new location, to make sure that the most(?) recent packages will be downloaded, instead of the standard collection which was available at release-time of FreeBSD 6.2:
     </p>
     <pre class="code">
      setenv PACKAGESITE ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-6-stable/Latest/
     </pre>
     <p>
      If you are already using BASH, use this instead:
     </p>
     <pre class="code">
      export PACKAGESITE=ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-6-stable/Latest/
     </pre>
    </div>
    <h2 class="sectionedit15">
     <a id="portsnap" name="portsnap">
      portsnap
     </a>
    </h2>
    <div class="level2">
     <p>
      Incremental ports-tree updater
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.freebsd.org/doc/en/books/handbook/portsnap.html" rel="nofollow" title="http://www.freebsd.org/doc/en/books/handbook/portsnap.html">
       http://www.freebsd.org/doc/en/books/handbook/portsnap.html
      </a>
     </p>
     <p>
      Portsnap is part of the FreeBSD base system now, no installing required.
Fetch &amp; extract an updated ports tree from the internet:
     </p>
     <pre class="code">
      portsnap fetch
portsnap extract
     </pre>
     <p>
      In future, use the following command to update your ports tree:
     </p>
     <pre class="code">
      portsnap fetch update
     </pre>
     <p>
      &lt;cron job&gt;
      <a class="urlextern" href="http://www.daemonology.net/portsnap/" rel="nofollow" title="http://www.daemonology.net/portsnap/">
       http://www.daemonology.net/portsnap/
      </a>
     </p>
    </div>
    <h2 class="sectionedit16">
     <a id="portaudit" name="portaudit">
      portaudit
     </a>
    </h2>
    <div class="level2">
     <p>
      Security auditor/checker for installed port and packages
     </p>
     <p>
      This tool will protect me from installing vulnerable packages, that's why I like to install it
      <acronym title="As soon as possible">
       ASAP
      </acronym>
      .
     </p>
     <p>
      Install package:  (version 0.5.10)
     </p>
     <pre class="code">
      pkg_add -r portaudit
     </pre>
     <p>
      Update security information and check installed ports&amp;packages:
     </p>
     <pre class="code">
      /usr/local/sbin/portaudit -Fda
     </pre>
     <p>
      It should give the following output if everything is ok:
      <code class="code html4strict">
       0 problem(s) in your installed packages found.
      </code>
     </p>
     <p>
      Note: this tool won't protect me from installing insecure software from source.
     </p>
     <p>
      It will run every night, and report any problems to me by e-mail to
      <a class="mail JSnocheck" href="mailto:root@example.org" title="root@example.org">
       root@example.org
      </a>
     </p>
     <p>
      If portaudit says some of the installed packages have security issues, 
use 'portupgrade' to install the latest version of that piece of 
software. In many cases this latest version has the security issues 
resolved. 
If you didn't configure portsnap to automatically fetch new 
ports every night using cron, you should run 'portsnap fetch update' 
before running portupgrade, to make sure you'll install the latest 
version.
     </p>
    </div>
    <h2 class="sectionedit17">
     <a id="portupgrade" name="portupgrade">
      portupgrade
     </a>
    </h2>
    <div class="level2">
     <p>
      Easy way to update/upgrade installed ports and packages to new version
portupgrade-2.0.1_1,1 FreeBSD ports/packages administration and management tool s
     </p>
     <p>
      Install package:
     </p>
     <pre class="code">
      pkg_add -r portupgrade
     </pre>
     <p>
      (This will also install package 'ruby')
     </p>
     <p>
      To update a package (for example proftpd), enter:
     </p>
     <pre class="code">
      portupgrade -r -P proftpd
     </pre>
     <p>
      '-r' means 'recursive', so it will download all dependant packages too, and
'-P' means 'use packages', so it will try to download &amp; install a precompiled package, and only if this doesn't work it will compile the package itself (using the ports tree), and show the message:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        * Could not find the latest version ()
       </div>
      </li>
     </ul>
     <ol>
      <li class="level2">
       <div class="li">
        &gt;  Using the port instead of a package
       </div>
      </li>
     </ol>
     <p>
      Alternative installation method:
     </p>
     <pre class="code">
      cd /usr/ports/ports-mgmt/portupgrade
make clean deinstall install
     </pre>
     <p>
      Use this alternative installation if you see the following error when 
running portsnap or portupgrade:\
missing key: categories: Cannot read the portsdb! files/ &lt;cut&gt;.gz 
not found  snapshot corrupt.
     </p>
     <p>
      Whenever you see a security issue with a package that is installed, try
     </p>
     <pre class="code">
      portupgrade -r -P &lt;name_of_the_package_you_want_to_upgrade_or_install&gt;
     </pre>
     <p>
      Where 'packagename' is the name of the package you are trying to update.
It will try to install the most recent package from the internet. (does it require a 'portsnap fetch update' to be aware of the newest versions of packages?)
     </p>
    </div>
    <h1 class="sectionedit18">
     <a id="additional_software_installation" name="additional_software_installation">
      Additional software installation
     </a>
    </h1>
    <div class="level1">
     <p>
      Now, where will I start?
     </p>
     <p>
      Ports an package utilities (portsnap portinstall, portaudit)
General utilities (nano editor, bash shell, (de-)compression tools, perl, screen, midnight commander)
Network connectivity (proftpd, samba)
Debugging / network analysis (nmap, trafshow)
Security, logging, monit (portaudit)
Backup (rsync + script, bacula,  )
     </p>
    </div>
    <h2 class="sectionedit19">
     <a id="nano" name="nano">
      nano
     </a>
    </h2>
    <div class="level2">
     <p>
      A file editor
Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.nano-editor.org/" rel="nofollow" title="http://www.nano-editor.org/">
       http://www.nano-editor.org/
      </a>
     </p>
     <p>
      Why do I want to install this: I can't work without this editor, and thus belongs to my basic necessities in unix-life. I know how to use the 'more difficult' editor VI, but don't see the need for you getting your knuckles bruised on it.
     </p>
     <p>
      Install package:  (version 1.2.5)
     </p>
     <pre class="code">
      pkg_add -r nano
     </pre>
     <p>
      I set the 'EDITOR' environment variable to make 'crontab -e' and 'chpass' use the nano editor instead of 'vi':
     </p>
     <pre class="code">
      setenv EDITOR nano
     </pre>
     <p>
      If you're using bash instead of 'sh' as a shell, use:
     </p>
     <pre class="code">
      export EDITOR=nano
     </pre>
     <p>
      Usage is pretty straightforward. The command:
     </p>
     <pre class="code">
      nano &lt;filename&gt;
     </pre>
     <p>
      will open &lt;filename&gt; for editing, creating a file if it doesn't exist.
Important keyboard shortcuts (they appear on the bottom of the screen when you are using nano):
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        CTRL-X  -  Exit, will ask if to save the file if it is modified, and hasn't been saved already.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        CTRL-W  -  Finds text in the file. You can use regular expressions after pressing ALT-R, you can use CTRL-R to use 'Search and replace'
       </div>
      </li>
      <li class="level1">
       <div class="li">
        CTRL-K  -  Copies the current line to memmory and removes it ('cut'). Copy without removing the line = CTRL-K, CTRL-U ('copy').
       </div>
      </li>
      <li class="level1">
       <div class="li">
        CTRL-U  -  Pastes the memmory conents on the current cursor position ('paste').
       </div>
      </li>
      <li class="level1">
       <div class="li">
        CTRL-O  -  Save file (will not exit the program)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        CTRL-C  -  Cancel current operation
       </div>
      </li>
     </ul>
     <p>
      To run nano with word-wrapping disabled, run:
     </p>
     <pre class="code">
      nano -w &lt;filename&gt;
     </pre>
     <p>
      Often, I'll start nano to edit a configuration file, and when try to save the file, I remember that I didn't 'su' to gain root-privileges to edit the file. I've created a small script around nano that will warn me whenever I try to open a file that is not writable:
     </p>
     <p>
      Save the following as /usr/bin/nano (assuming that the 'real' nano is in /bin/nano  :
      <code class="code html4strict">
       #!/bin/sh
#
# Small wrapper around nano,
# Will show a warning when the file to be opened is not writable.
#
# by Sebastiaan Giebels
       <span class="sc2">
        &lt;sgiebels_ nano script @pcprobleemloos.nl&gt;
       </span>
       if [ -w $1 ]; then
 #file exists and is writable
 echo File is writable, continuing
 /bin/nano -w $1 $2 $3 $4 $5 $6 $7
else
 if [ ! -f $1 ]; then
  #file does not exist, new file? check if target folder is writable.
  dir=`dirname "$1"`;
  if [ -w $dir -a ! -d $1 ]; then
   /bin/nano -w $1 $2 $3 $4 $5 $6 $7
  else
   echo Cannot write to directory $dir, STOP.
  fi
 else
  echo File exists, but is not writable by you, STOP.
 fi
fi
      </code>
     </p>
    </div>
    <h2 class="sectionedit20">
     <a id="vi" name="vi">
      Vi
     </a>
    </h2>
    <div class="level2">
     <p>
      The shortest introduction to 'Vi' ever:
     </p>
     <p>
      Vi is a file editor, just like nano. It's installed by default on most UNIX operating systems, and has a 
lot of useful functions, learn them if you want. I'll just show you the most important Vi function:
     </p>
    </div>
    <h5>
     <a id="exiting_vi" name="exiting_vi">
      Exiting Vi
     </a>
    </h5>
    <div class="level5">
     <p>
      To exit Vi, enter ':q' and press Return key (the moment you press ':', 
the cursor should jump to the bottom of the screen and show the ':' prompt). If that doesn't work, press 
ESC, enter ':q!' and press Return key, you will be safely returned to your precious command prompt.
     </p>
     <p>
      To start Vi (for the kick of it, to boast to your friends, or just to test your 'l33t UNIX 5ki11Z'), enter:
     </p>
     <pre class="code">
      vi
     </pre>
    </div>
    <h2 class="sectionedit21">
     <a id="bash" name="bash">
      bash
     </a>
    </h2>
    <div class="level2">
     <p>
      Command shell with command completion (enter just a part of a command 
or filename , press the 'tab' key and bash will auto-complete the 
remainder, saving valuable time.
Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.gnu.org/software/bash/" rel="nofollow" title="http://www.gnu.org/software/bash/">
       http://www.gnu.org/software/bash/
      </a>
     </p>
     <p>
      Install package:  (version 3.1.10_1 )
     </p>
     <pre class="code">
      pkg_add -r bash
     </pre>
     <p>
      To test it, you must enter the full path to bash:
     </p>
     <pre class="code">
      /usr/local/bin/bash
     </pre>
     <p>
      Your prompt will change, as a sign you are using a different shell now.
     </p>
     <p>
      Change root shell from '/bin/sh' to '/usr/local/bin/bash' (I expect you 
to have installed nano in the previous step):
     </p>
     <pre class="code">
      export EDITOR=nano
chpass root
     </pre>
     <p>
      Change the line 'Shell: /bin/csh' or 'Shell: /bin/sh' into:
      <code class="code html4strict">
       Shell: /usr/local/bin/bash
      </code>
      Use CTRL-o + enter to save, then press CTRL-x to exit nano.
     </p>
     <p>
      Now enter:
     </p>
     <pre class="code">
      chpass &lt;freebsd_username&gt;
     </pre>
     <p>
      And do the same for your regular user account.
     </p>
     <p>
      We're going to edit .bashrc, setting the environment variables EDITOR and PACKAGESITE:
     </p>
     <pre class="code">
      nano /root/.bashrc
     </pre>
     <p>
      <code class="code html4strict">
       export EDITOR=nano
      </code>
      Notice how we don't use 'setenv' as we did before, but 'export' as that is what it's called within BASH.
     </p>
     <p>
      Now for the other users:
     </p>
     <pre class="code">
      su &lt;freebsd_username&gt;
nano ~/.bashrc
     </pre>
     <p>
      Add the following:
      <code class="code html4strict">
       export EDITOR=nano
      </code>
     </p>
     <p>
      Edit '.profile' too:
      <code class="code html4strict">
       BLOCKSIZE=M;    export BLOCKSIZE
EDITOR=nano;    export EDITOR
      </code>
     </p>
    </div>
    <h3 class="sectionedit22">
     <a id="bash_prompt" name="bash_prompt">
      bash prompt
     </a>
    </h3>
    <div class="level3">
     <p>
      Adjusting the bash prompt to provide more information (such as the 
username, hostname of the system, and the current working directory). 
I'll also trow some color in, to brighten up my day. :)
     </p>
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      : (warning, dutch!!)
      <a class="urlextern" href="http://doc.nl.linux.org/HOWTO/Bash-Prompt-NL-2.html" rel="nofollow" title="http://doc.nl.linux.org/HOWTO/Bash-Prompt-NL-2.html">
       http://doc.nl.linux.org/HOWTO/Bash-Prompt-NL-2.html
      </a>
      \
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      : (warning, dutch!!)
      <a class="urlextern" href="http://www.bartendavid.be/doc/howto/console/misc/bashprompt.html" rel="nofollow" title="http://www.bartendavid.be/doc/howto/console/misc/bashprompt.html">
       http://www.bartendavid.be/doc/howto/console/misc/bashprompt.html
      </a>
      \
     </p>
     <p>
      A very simple command prompt:
      <code class="code html4strict">
       export PS1="[\u@\h:\w]\$ "
      </code>
     </p>
     <p>
      You can also add colors to this string, see the links for more info.
Personally I like
      <a class="urlextern" href="http://wiki.archlinux.org/index.php?title=Color_Bash_Prompt&amp;printable=yes" rel="nofollow" title="http://wiki.archlinux.org/index.php?title=Color_Bash_Prompt&amp;printable=yes">
       Wolfman's prompt
      </a>
      , It's colored, with the path in it, and on every system I give it a unique identifier with a unique color. This prevents me from accidently reboot the wrong system or perform even more harmfull actions to the wrong pc, as I can directly see which system it is I'm working on.
Download the code for my
      <a class="wikilink2" href="/my_freebsd_installation_and_configuration_guide/bashprompt.txt" rel="nofollow" title="bashprompt.txt">
       bash prompt here
      </a>
     </p>
     <p>
      And this bash-feature is too, to colorize 'ls' output:
      <code class="code html4strict">
       export CLICOLOR=1
      </code>
     </p>
     <p>
      You can also have the .bashrc file with all the correct settings automaticaly created when you add a new user, if you make the changes to the file in the '/etc/skel' folder:
     </p>
     <pre class="code">
      nano /etc/skel/.bashrc
     </pre>
     <p>
      ln -s .bashrc .bash_profile
      <a class="urlextern" href="http://www.linuxfromscratch.org/blfs/view/stable/postlfs/profile.html" rel="nofollow" title="http://www.linuxfromscratch.org/blfs/view/stable/postlfs/profile.html">
       http://www.linuxfromscratch.org/blfs/view/stable/postlfs/profile.html
      </a>
     </p>
    </div>
    <h3 class="sectionedit23">
     <a id="changing_the_default_blocksize" name="changing_the_default_blocksize">
      changing the default blocksize
     </a>
    </h3>
    <div class="level3">
     <p>
      The environment variable 'BLOCKSIZE' is used in 'df' and a few othe tools, and tells the system in which units it should display number of bytes.
     </p>
     <p>
      the standard output of 'df' begins with:
      <code class="code html4strict">
       Filesystem  1K-blocks      Used    Avail Capacity  Mounted on
...
      </code>
      Because harddisk drives nowadays are just under a terabyte, expressing sizes in 1K-blocks doesn't make it easier to read. Thats why I change it to megabyes instead of kilobytes:
     </p>
     <pre class="code">
      nano /home/&lt;freebsd_username&gt;/.profile
     </pre>
     <p>
      Change the existing line with the '=K' to '=M', new situation:
      <code class="code html4strict">
       BLOCKSIZE=M;    export BLOCKSIZE
      </code>
     </p>
     <p>
      Logout, login, run 'df', and the output should be much better readable:
      <code class="code html4strict">
       Filesystem  1M-blocks   Used  Avail Capacity  Mounted on
/dev/ad0s2a       495     74    381    16%    /
...
/dev/ad0s4a     44625   1977  39078     5%    /mnt/big
      </code>
      You see that my partition /dev/ad0s4a (mounted at /mnt/big) is around 45GB in size, 2GB used, and about 39GB free, the remainder is not shown, as it is some spare space needed to prevent disk fragmentation.
      <a class="urlextern" href="http://www.freebsdforums.org/docs/openbsd/openbsdfaq.html" rel="nofollow" title="http://www.freebsdforums.org/docs/openbsd/openbsdfaq.html">
       More info here (see section 14.14)
      </a>
      , or read 'man tunefs' to read how to change the amount that FreeBSD uses to counter fragmentation.
     </p>
    </div>
    <h3 class="sectionedit24">
     <a id="changing_the_motd" name="changing_the_motd">
      changing the 'motd'
     </a>
    </h3>
    <div class="level3">
     <p>
      The Message-Of-The-Day (motd) that is shown everytime I login, is really too long for me. I use it now for noting which things I still have to install, configure and test.
     </p>
     <p>
      I tend to loose 'notes' files in 'any-random-folder-here', but using /etc/motd as a substitute works for me. 
Don't do this if there are other users with login access to your machine, because they would see your todo-list too, which is not such a good idea if you put things like: "- fix remote exploitable bug in Apache" in the message.
     </p>
     <p>
      Remove all but the first three lines, and enter any notes after the 3rd line:
     </p>
     <pre class="code">
      nano /etc/motd
     </pre>
     <p>
      <code class="code html4strict">
       FreeBSD 6.2-RELEASE (FREEBSD62) #0: Mon Jan  4 01:56:50 CEST 2007
Welcome to FreeBSD!

Todo:
- ...
      </code>
     </p>
    </div>
    <h3 class="sectionedit25">
     <a id="changing_the_hostname" name="changing_the_hostname">
      changing the hostname
     </a>
    </h3>
    <div class="level3">
     <p>
      Set hostname (perhaps already set correctly during install):
     </p>
     <pre class="code">
      nano /etc/rc.conf
     </pre>
     <p>
      <code class="code html4strict">
       hostname="
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       "
      </code>
     </p>
    </div>
    <h3 class="sectionedit26">
     <a id="changing_the_dns_servers" name="changing_the_dns_servers">
      changing the dns servers
     </a>
    </h3>
    <div class="level3">
     <p>
      Set up the
      <acronym title="Domain Name System">
       DNS
      </acronym>
      servers, if not already done so:
     </p>
     <pre class="code">
      nano /etc/resolv.conf
     </pre>
     <p>
      <code class="code html4strict">
       nameserver
       <span class="sc2">
        &lt;ip_address_of_myisp
        <span class="st0">
         's_first_nameserver&gt;
        </span>
       </span>
       nameserver
       <span class="sc2">
        &lt;ip_address_of_myisp
        <span class="st0">
         's_second_nameserver&gt;
        </span>
       </span>
      </code>
     </p>
    </div>
    <h2 class="sectionedit27">
     <a id="ntpd" name="ntpd">
      ntpd
     </a>
    </h2>
    <div class="level2">
     <p>
      System time synchronization / Network Time Protocol Distribution
Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.isc.org/sw/ntp/" rel="nofollow" title="http://www.isc.org/sw/ntp/">
       http://www.isc.org/sw/ntp/
      </a>
     </p>
     <p>
      The NTP-client (Network Time Protocol Client / ntpd) will set your systems time with the help of so called 'time servers' on the internet, which are very accurate clocks. In this way, your computers time is set correct exactly. It wil periodically re-sync your system time with atom clocks, to correct small differences.
     </p>
     <p>
      Why do I want to install it: knowing the exact time is very important 
for logging error messages, investigating security issues, making 
backups, etcetera. Additionally, some computers don't have an accurate internal clock. This tool helps setting the system's time.
     </p>
     <p>
      Install package:  (version 4.2.0_1)
     </p>
     <pre class="code">
      pkg_add -r ntp
     </pre>
     <p>
      Configuration:
(change
      <em>
       &lt;my_isps_timeserver&gt;
      </em>
      to a timeserver near to you or your
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      . Your
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      can tell you what timeserver you should use (I found mine, 
chime2.surfnet.nl, by searching 
on the keywords 'time server &lt;my internet service provider name&gt;')
If you really can't find whats your
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      's timeserver, use one of the 
public time servers, like time.nist.gov or pool.ntp.org).:
     </p>
     <pre class="code">
      nano /etc/ntp.conf
     </pre>
     <p>
      <code class="code html4strict">
       server
       <span class="sc2">
        &lt;my_isps_timeserver&gt;
       </span>
      </code>
     </p>
     <p>
      To make sure ntpd is started upon boot, add the correct line to /etc/rc.conf:
     </p>
     <pre class="code">
      nano /etc/rc.conf
     </pre>
     <p>
      <code class="code html4strict">
       ntpd_enable="YES"
      </code>
     </p>
     <p>
      Now synchronize the time on your pc with the time of your chosen timeserver (probably only needed once.)
     </p>
     <pre class="code">
      ntpd -gq
     </pre>
     <p>
      You will get a message like this one:
      <code class="code html4strict">
       ntpd: time set -7152.403129s
      </code>
      If you, like me, are doing this installation on another pc than the pc that FreeBSD will run on, remember to run this command again on that other pc after installation.
     </p>
    </div>
    <h2 class="sectionedit28">
     <a id="screen" name="screen">
      screen
     </a>
    </h2>
    <div class="level2">
     <p>
      'Screen' allows you to create 'virtual consoles', which allows you to run applications, and put them to the background with a few keypresses.
      <br/>
      <a class="urlextern" href="http://www.bsdguides.org/guides/freebsd/misc/setup_screen.php" rel="nofollow" title="http://www.bsdguides.org/guides/freebsd/misc/setup_screen.php">
       BSD Guides article on Setting Up Screen
      </a>
     </p>
     <p>
      Install port:  (version 4.0.2_4)
     </p>
     <pre class="code">
      portinstall screen
     </pre>
     <p>
      or, as an alternative, if you haven't installed portupgrade &amp; portinstall:
     </p>
     <pre class="code">
      cd /usr/ports/sysutils/screen
make
make install
     </pre>
     <p>
      Test it:
     </p>
     <pre class="code">
      screen
     </pre>
     <p>
      Start any application (like 'mc'), then press CTRL-a, followed by 'd' (=detach). Return to 'mc' by entering on the command line:
     </p>
     <pre class="code">
      screen -R
     </pre>
     <p>
      You will re-attach (=R) to the previously disconnected screen session.
Use the 'exit' command to exit a screen.
     </p>
     <pre class="code">
      exit
     </pre>
     <p>
      persistent screen session with many windows. 
To that end, I.ve added .screen -d -r to my .login.
     </p>
    </div>
    <h2 class="sectionedit29">
     <a id="de-_compression_tools_rar_zip_arj_zoo" name="de-_compression_tools_rar_zip_arj_zoo">
      (De-)compression tools (RAR,ZIP,ARJ,ZOO)
     </a>
    </h2>
    <div class="level2">
     <p>
      Install packages:
     </p>
     <pre class="code">
      pkg_add -r unrar unzip zip unarj zoo
     </pre>
     <p>
      pkg_info will now also list the following packages to be installed (version numbers may be different in your case):
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        unrar-3.70.b3,4
       </div>
      </li>
      <li class="level1">
       <div class="li">
        unzip-5.52_2
       </div>
      </li>
      <li class="level1">
       <div class="li">
        zip-2.32
       </div>
      </li>
      <li class="level1">
       <div class="li">
        unzoo-4.4_2
       </div>
      </li>
      <li class="level1">
       <div class="li">
        arj-3.10.22
       </div>
      </li>
     </ul>
    </div>
    <h2 class="sectionedit30">
     <a id="perl" name="perl">
      perl
     </a>
    </h2>
    <div class="level2">
     <p>
      Practical Extraction and Result Language
Very popular interpreted programming language
     </p>
     <p>
      Install package:  (version 5.8.8)
     </p>
     <pre class="code">
      pkg_add -r perl
     </pre>
     <p>
      To install additional modules, I suggest you use the CPAN.pm shell, as 
it is the easiest way (instead of unpacking/compiling/installing modules 
by hand)
     </p>
     <pre class="code">
      perl -MCPAN -e shell
     </pre>
     <p>
      Search for a module:
     </p>
     <pre class="code">
      i /whattosearchfor/
     </pre>
     <p>
      Installing a module:
     </p>
     <pre class="code">
      install Module::Name
     </pre>
     <p>
      (e.g.: install Date::Format)
     </p>
     <p>
      (See
      <a class="urlextern" href="http://www.rcbowen.com/imho/perl/modules.html" rel="nofollow" title="http://www.rcbowen.com/imho/perl/modules.html">
       http://www.rcbowen.com/imho/perl/modules.html
      </a>
      for more information
     </p>
     <p>
      )
     </p>
     <p>
      You don't have to be root to use perl modules, non-root works too:
      <a class="urlextern" href="http://linuxgazette.net/139/okopnik.html" rel="nofollow" title="http://linuxgazette.net/139/okopnik.html">
       http://linuxgazette.net/139/okopnik.html
      </a>
     </p>
    </div>
    <h2 class="sectionedit31">
     <a id="mc_the_midnight_commander" name="mc_the_midnight_commander">
      mc, the Midnight Commander
     </a>
    </h2>
    <div class="level2">
     <p>
      A console file manager, a Norton Commander (nc) clone.
It's like a 'swiss army knife', besides the dual-window file manager, it has a file exitor, ftp and smb (read:samba or windows file sharing) support.
     </p>
     <p>
      Install package:
     </p>
     <pre class="code">
      pkg_add -r mc
     </pre>
     <p>
      Or you can build it from source:
     </p>
     <pre class="code">
      cd /usr/ports/sysutils/mc
make
make install
     </pre>
    </div>
    <h2 class="sectionedit32">
     <a id="wget" name="wget">
      wget
     </a>
    </h2>
    <div class="level2">
     <p>
      Command line
      <acronym title="Hyper Text Transfer Protocol">
       HTTP
      </acronym>
      downloader
     </p>
     <p>
      Install package:  (version 1.10.2)
     </p>
     <pre class="code">
      pkg_add -r wget
     </pre>
    </div>
    <h2 class="sectionedit33">
     <a id="curl" name="curl">
      curl
     </a>
    </h2>
    <div class="level2">
     <p>
      wget-like command line http downloader with cookies-support
     </p>
     <p>
      Install package:  (version 7.15.3)
     </p>
     <pre class="code">
      pkg_add -r curl
     </pre>
    </div>
    <h1 class="sectionedit34">
     <a id="network_connectivity" name="network_connectivity">
      Network / connectivity
     </a>
    </h1>
    <div class="level1">
    </div>
    <h2 class="sectionedit35">
     <a id="proftpd" name="proftpd">
      ProFTPD
     </a>
    </h2>
    <div class="level2">
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.proftpd.org" rel="nofollow" title="http://www.proftpd.org">
       http://www.proftpd.org
      </a>
     </p>
     <p>
      Installation:
     </p>
     <pre class="code">
      cd /usr/ports/ftp/proftpd
make
make install
     </pre>
     <p>
      Run on system startup:
     </p>
     <pre class="code">
      nano /etc/rc.conf
     </pre>
     <p>
      Add:
      <code class="code html4strict">
       proftpd_enable="YES"
      </code>
     </p>
     <p>
      Configuration:
     </p>
     <pre class="code">
      nano /usr/local/etc/proftpd.conf
     </pre>
     <p>
      Remove &lt;Anonymous&gt; section (CTRL-K cuts lines, CTRL-U uncuts lines). You might also want to change 'Servername' to something less standard:
      <code class="code html4strict">
       Servername "//freebsd62.example.org//"

AuthUserFile /etc/proftpd/ftpd.passwd
#UseIPv6			on
UseIPv6				off
DefaultRoot			~
# RequireValidShell		off
RequireValidShell		off
      </code>
     </p>
     <p>
      You can find other configurations on the proftpd website.
Download a basic configuration file from the proftpd website (make sure [curl|curl] is installed):
     </p>
     <pre class="code">
      curl -o /usr/local/etc/proftpd.conf http://www.proftpd.org/docs/configs/basic.conf
     </pre>
     <p>
      You can use
      <a class="urlextern" href="http://www.proftpd.org/docs/configs/virtual.conf" rel="nofollow" title="http://www.proftpd.org/docs/configs/virtual.conf">
       http://www.proftpd.org/docs/configs/virtual.conf
      </a>
      if you are planning on using virtual hosts.
     </p>
     <p>
      ??  mkdir /var/run/proftpd
&lt;/html&gt;
PS: there is a sample configuration file in /usr/local/share/examples/proftpd/etc/proftpd.conf
     </p>
     <p>
      Start it:
     </p>
     <pre class="code">
      /usr/local/etc/rc.d/proftpd start
     </pre>
     <p>
      You should see the line 'Starting proftpd.'.
     </p>
     <p>
      Test it:
     </p>
     <pre class="code">
      ftp localhost
     </pre>
     <p>
      You will see something like:
      <code class="code html4strict">
       Trying ::1...
ftp: connect to address ::1: Connection refused
Trying 127.0.0.1...
Connected to localhost.
220 ProFTPD 1.3.0 Server (freebsd62.example.org) [127.0.0.1]
Name (localhost:root):
      </code>
      This confirms your
      <acronym title="File Transfer Protocol">
       FTP
      </acronym>
      server is running. Try to login using your regular user password (as a security measure, ftp access for root is blocked)
     </p>
     <p>
      In case of errors/problems:
Add the following to /usr/local/etc/proftpd.conf:
      <code class="code html4strict">
       ExtendedLog                     /var/log/ftp.log
DebugLevel      9
      </code>
      Restart proftpd, and check the ftp.log file for error messages
     </p>
    </div>
    <h2 class="sectionedit36">
     <a id="natd_internet_sharing" name="natd_internet_sharing">
      natd (internet sharing)
     </a>
    </h2>
    <div class="level2">
     <p>
      When you get just 1 internet IP address from your
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      , and you want to allow more computers 
access to the internet (without using proxy servers) you need NAT (Network Address 
Translation). Setting it up is easy, if you pay attention :)
     </p>
     <p>
      You need 2 network cards/interfaces installed in your machine:
     </p>
     <pre class="code">
      /dev/pub0 is my network interface connected to the internet, 
/dev/priv0 is my network interface conencted to the internal network.
     </pre>
     <p>
      Replace occurences of &lt;pub0&gt; and &lt;priv0&gt; with your network interface device names and remove 
the &lt; &gt; characters too.
You can find your network interface names with the command:
     </p>
     <pre class="code">
      ifconfig -a
     </pre>
     <p>
      Edit /etc/rc.conf, and check if your network cards are set up correctly,
If your 'public' network card is connected to the internet an DSL- or Cable modem, it might 
be that your
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      provides you with an IP address, in this case, you'll probably already 
have 'ifconfig_pub0="
      <acronym title="Dynamic Host Configuration Protocol">
       DHCP
      </acronym>
      "'  in your rc.conf.
My
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      gave me a fixed ip address (actually, a complete range), so in my case it's different:
      <code class="code html4strict">
       ifconfig_pub0="inet
       <span class="sc2">
        &lt;my.public.ip.address&gt;
       </span>
       netmask
       <span class="sc2">
        &lt;my.public.net.mask&gt;
       </span>
       "
      </code>
     </p>
     <p>
      Now for the second network card, that is connected to your internal network:
      <code class="code html4strict">
       ifconfig_priv0="inet 10.0.0.1 netmask 255.0.0.0"
      </code>
      You can choose any private network range (10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/) as 
long as it's not alreay used in your network.
     </p>
     <pre class="code">
      nano /etc/rc.conf
     </pre>
     <p>
      Make sure the following lines are there (replace &lt;pub0&gt; with your own network interface, e.g. 'rl0'):
      <code class="code html4strict">
       gateway_enable="YES"                # enable gateway
firewall_enable="YES"               # and firewall
firewall_script="/etc/rc.firewall"  # firewall configuration file
firewall_type="open"                # firewall type
firewall_quiet="NO"                 # show all firewall rules
natd_enable="YES"                   # enable natd
natd_program="/sbin/natd"           # path to natd
natd_interface="
       <span class="sc2">
        &lt;pub0&gt;
       </span>
       "             # public/external network interface
natd_flags="-f /etc/natd.conf"      # extra options to natd
      </code>
     </p>
     <p>
      Test it (by starting natd manually):
     </p>
     <pre class="code">
      natd -n &lt;pub0&gt;
ipfw -q add 00050 divert natd ip4 from any to any via &lt;pub0&gt;
     </pre>
     <p>
      = Setting up the client =
Set up a computer ('client') on your internal network, ip address 10.0.0.2, netmask 255.0.0.0, gateway 
10.0.0.1, and
      <acronym title="Domain Name System">
       DNS
      </acronym>
      servers from your
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      (you can probably find them with 'cat /etc/resolv.conf')
     </p>
     <p>
      = Testing natd connectivity =
On this client pc, go to a shell, (that's: Start  Run  cmd  [ok]  for you windows 
people, or WindowsKey-R  cmd  [ok]  for Vista unfortunates):
     </p>
     <pre class="code">
      ping 10.0.0.1
     </pre>
     <p>
      If everything is ok (no firewalls in the way) you should get 'Response from 10.0.0.1 '.
     </p>
     <p>
      Next, ping another IP address (you can use the
      <acronym title="Domain Name System">
       DNS
      </acronym>
      server you found a moment ago):
     </p>
     <pre class="code">
      ping 194.109.6.66
     </pre>
     <p>
      If this works, natd works.
Note: some servers/internetsites block 'ping': test if you can ping the address from your 
server, if this works, it should work from any client too.
     </p>
     <p>
      Now test if you can ping a website by it's name.
     </p>
     <pre class="code">
      ping google.com
     </pre>
     <p>
      If this works, you can start your internet browser, and use the internet with multiple 
computers.
     </p>
     <p>
      Reboot, to make sure natd is started automatically/correctly upon the next boot.
     </p>
    </div>
    <h2 class="sectionedit37">
     <a id="samba" name="samba">
      Samba
     </a>
    </h2>
    <div class="level2">
     <p>
      CIFS / Windows Networking file sharing and more
      <br/>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.samba.org" rel="nofollow" title="http://www.samba.org">
       http://www.samba.org
      </a>
      <br/>
      <a class="urlextern" href="http://www.bsdguides.org/guides/freebsd/networking/samba_wins_netbios.php" rel="nofollow" title="http://www.bsdguides.org/guides/freebsd/networking/samba_wins_netbios.php">
       Samba as a WINS/NetBIOS Server
      </a>
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.comptechdoc.org/os/linux/manual4/smbconf.html" rel="nofollow" title="http://www.comptechdoc.org/os/linux/manual4/smbconf.html">
       http://www.comptechdoc.org/os/linux/manual4/smbconf.html
      </a>
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.bsdforen.de/showthread.php?t=2174" rel="nofollow" title="http://www.bsdforen.de/showthread.php?t=2174">
       http://www.bsdforen.de/showthread.php?t=2174
      </a>
     </p>
     <p>
      Install package:
     </p>
     <pre class="code">
      pkg_add -r samba3
     </pre>
     <p>
      Configure package:
     </p>
     <pre class="code">
      /etc/rc.conf:
  samba_enable="YES"
nano /usr/local/etc/smb.conf
     </pre>
     <p>
      Configuration:
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
     </p>
     <pre class="code">
      nano /usr/local/etc/smb.conf
     </pre>
     <p>
      <code class="code html4strict">
       # Usual location for this file: /usr/local/etc/smb.conf
# Lines beginning with either a semi-colon or a pound sign (';' or '#') are comment lines,
# you can use them for explaining what options mean, or for temporarily disabling options
# by placing a # sign in front of the line.
# The length and usage of spaces and other non-alphanumerical characters is limited for some options
# Read the documentation
# NOTE: After modifying this file, run the command "testparm" to check this file for syntax errors.

# Global options
[global]
# 'workgroup' = NT-Domain-Name or Workgroup-Name
workgroup = WORKGROUP

# 'netbios name' is the name you will see in "Network Neighbourhood" (defaults to your hostname)
  netbios name =
       <span class="sc2">
        &lt;name_of_this_server&gt;
       </span>
       # server string is the equivalent of the NT Description field
  server string = FreeBSD Samba Server 

# Logging:
# this tells Samba to use a separate log file for each machine that connects:
;  log file = /var/log/samba/log.%m
# Standard location for samba log files is /var/log/samba/
# Put a capping on the size of the log files (in Kb).
   max log size = 50
# Set the log (verbosity) level (0
       <span class="sc2">
        &lt;
        <span class="sy0">
         =
        </span>
        log level &lt;
        <span class="sy0">
         =
        </span>
        <span class="nu0">
         10
        </span>
        <span class="br0">
         )
        </span>
       </span>
       <span class="sc2">
        ;  log level
        <span class="sy0">
         =
        </span>
        <span class="nu0">
         3
        </span>
       </span>
       <span class="sc2">
        # Which hosts to allow access to your SAMBA server
       </span>
       <span class="sc2">
        # Don
        <span class="st0">
         't forget to replace or remove the &lt; &gt;
        </span>
       </span>
       stuff with your own values
# 127.0.0.1 = localhost (don't forget to include this one, or else you'll have trouble testing it)
# 192.168.*.*, 10.*.*.*, 172.16.*.* are local networks, optional.
# 1.2.3.4 is my ip adress and the number 27 is my netmask length (netmask = 255.255.255.224)
#  because of the netmask, it will also allow all other computers in my network access.
#  You can use a network/netmask calculator like the one at http://www.treachery.net/tools/calculator/
# 123.123.123.123 is the (fictional) static ip address of a friend who I want to give access
  hosts allow = 127.0.0.1 192.168. 10. 172.16.
       <span class="sc2">
        &lt;1.2.3.4
        <span class="sy0">
         /
        </span>
        <span class="nu0">
         27
        </span>
        &gt;
       </span>
       <span class="sc2">
        &lt;123.123.123.123&gt;
       </span>
       # Denie traffic from all hosts (except from those configured with 'hosts allow')
  hosts deny = 0.0.0.0/0

# Make this server the local
       <span class="sc1">
        &amp;preferred master server
       </span>
       <span class="sc1">
        # Don't use these if there other servers for the same task on your network.
       </span>
       <span class="sc1">
        local master = yes
       </span>
       <span class="sc1">
        os level = 100
       </span>
       <span class="sc1">
        preferred master = yes
       </span>
       <span class="sc1">
        wins support = yes
       </span>
       <span class="sc1">
        domain master = yes
       </span>
       <span class="sc1">
        # I don't know what this does (&lt;1.2.3.255&gt; is my broadcast address)
       </span>
       <span class="sc1">
        remote announce = &lt;1.2.3.255&gt;
       </span>
       <span class="sc1">
        # Case sensitivity for filenames: read manual
       </span>
       <span class="sc1">
        # Networking Options: this might give better performance
       </span>
       <span class="sc1">
        # See speed.txt and the manual pages for details
       </span>
       <span class="sc1">
        socket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192
       </span>
       <span class="sc1">
        # Printing: FIXME
       </span>
       <span class="sc1">
        #printing = CUPS
       </span>
       <span class="sc1">
        #printcapname = CUPS
       </span>
       <span class="sc1">
        #map to guest = Bad User
       </span>
       <span class="sc1">
        #show add printer wizard = No
       </span>
       <span class="sc1">
        show add printer wizard = No
       </span>
       <span class="sc1">
        ;
       </span>
       map to guest = Bad User
;   security = share


[shared]
  comment = Some shared folder
  path = /tmp/shared
  read only = No
  guest ok = Yes
  nt acl support = No
;  force user = freebsd
;  force group = users

[music]
   comment = My MP3 collection
   path = /mnt/
       <span class="sc2">
        &lt;musicdisc&gt;
       </span>
       /mp3/
   read only = yes
   public = yes
   hosts allow = 127.0.0.1 192.168. 10. 172.16.
       <span class="sc2">
        &lt;1.2.3.4
        <span class="sy0">
         /
        </span>
        <span class="nu0">
         27
        </span>
        &gt;
       </span>
       <span class="sc2">
        &lt;123.123.123.123&gt;
       </span>
       hosts deny = 0.0.0.0/0

# Printer configuration with CUPS I will do another time. I've disabled it for now
;[printers]
;  comment = Print Temporary Spool Configuration
;  path = /var/spool/samba
;  printable = Yes
;  guest ok = Yes
;  use clientdriver = Yes
;  browseable = No
      </code>
     </p>
     <p>
      You can find out which computers on your local network support the SAMBA-protocol (running either 'real' Windows CIFS, or by using SAMBA on any other operating system):
     </p>
     <pre class="code">
      nmblookup -B &lt;my.networks.broadcast.address&gt; -d 2 "*"
     </pre>
     <p>
      I used 10.255.255.255.255 for my broadcast address, yours might be 192.168.255.255 or like that.
     </p>
    </div>
    <h2 class="sectionedit38">
     <a id="openssl" name="openssl">
      OpenSSL
     </a>
    </h2>
    <div class="level2">
     <p>
      openssl-0.9.8c
      <acronym title="Secure Sockets Layer">
       SSL
      </acronym>
      and crypto library
This
      <acronym title="Secure Sockets Layer">
       SSL
      </acronym>
      Library allows communication over secure channels (HTTPS, IMAPS), and is required in this guide for Courier-
      <acronym title="Internet Message Access Protocol">
       IMAP
      </acronym>
      , Apache, and OpenVPN)
     </p>
     <p>
      Install package:  (version 0.9.8c)
     </p>
     <pre class="code">
      pkg_add -r openssl
     </pre>
    </div>
    <h2 class="sectionedit39">
     <a id="apache_22_webserver" name="apache_22_webserver">
      Apache 2.2 Webserver
     </a>
    </h2>
    <div class="level2">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.apache.org" rel="nofollow" title="http://www.apache.org">
       http://www.apache.org
      </a>
     </p>
     <p>
      Install package: (version 2.2.0_7)
     </p>
     <pre class="code">
      pkg_add -r apache22
     </pre>
     <pre class="code">
      nano /etc/rc.conf:
     </pre>
     <p>
      <code class="code html4strict">
       apache22_enable="YES"
      </code>
     </p>
     <p>
      #apache2ssl_enable="YES"?
     </p>
     <pre class="code">
      nano /etc/hosts:
     </pre>
     <p>
      <code class="code html4strict">
       127.0.0.1 freebsd61.example.org
      </code>
     </p>
     <pre class="code">
      mkdir /usr/local/www
nano /usr/local/etc/apache22/httpd.conf:
     </pre>
     <p>
      <code class="code html4strict">
       ServerAdmin ....
    ServerName freebsd61.example.org
    ServerName 1.2.3.4
    DocumentRoot "/usr/local/www"
      </code>
     </p>
     <p>
      Change:
      <code class="code html4strict">
       <span class="sc2">
        &lt;Directory
        <span class="st0">
         "/usr/local/www/apache22/data"
        </span>
        &gt;
       </span>
       ...
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        Directory&gt;
       </span>
      </code>
      to 
      <code class="code html4strict">
       <span class="sc2">
        &lt;Directory
        <span class="st0">
         "/usr/local/www"
        </span>
        &gt;
       </span>
       Options Indexes FollowSymLinks ExecCGI
        AllowOverride All 
        Order allow,deny 
        Allow from all
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        Directory&gt;
       </span>
      </code>
     </p>
     <p>
      Add:
      <code class="code html4strict">
       AddType application/x-httpd-php .php .php3 .php4 .php5
AddType application/x-httpd-php-source .phps

DirectoryIndex index.php index.cgi index.html

AddHandler cgi-script .cgi

NameVirtualHost *:80
       <span class="sc2">
        &lt;VirtualHost *:
        <span class="nu0">
         80
        </span>
        &gt;
       </span>
       ServerAdmin webmaster@1.2.3.4
  DocumentRoot /www/ip
  ServerName 1.2.3.4
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        VirtualHost&gt;
       </span>
       <span class="sc2">
        &lt;VirtualHost *:
        <span class="nu0">
         80
        </span>
        &gt;
       </span>
       ServerAdmin webmaster@
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       DocumentRoot /usr/local/www/
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       ServerName
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       ErrorLog /var/log/
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       -error_log
  CustomLog /var/log/
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       -access_log combined
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        VirtualHost&gt;
       </span>
      </code>
     </p>
     <pre class="code">
      mkdir /usr/local/www/&lt;freebsd62.example.org&gt;
apachectl configtest
apacectrl restart
     </pre>
     <p>
      Some time later, I noticed this error message upon manual start of apache:
      <code class="code html4strict">
       [warn] (2)No such file or directory: Failed to enable the 'httpready' Accept Filter
      </code>
      I solved it temporarily by entering:
     </p>
     <pre class="code">
      kldload accf_http
     </pre>
     <p>
      To load it on boot, add to your /boot/loader.conf:
     </p>
     <pre class="code">
      accf_http_load="YES"
     </pre>
     <p>
      I should check if the issue is resolved after the next reboot.
     </p>
     <p>
      To prevent visitors seeing which version/modules apache you're running, set ServerTokens to something else than 'Full', e.g.:
ServerTokens Prod
     </p>
    </div>
    <h3 class="sectionedit40">
     <a id="mod_jail_optional" name="mod_jail_optional">
      mod_jail (optional)
     </a>
    </h3>
    <div class="level3">
     <p>
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      Optional: mod_jail
A module to run Apache in a secure jail (like 'chrooted')
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://freshmeat.net/projects/mod_jail/?branch_id=64870&amp;release_id=245997" rel="nofollow" title="http://freshmeat.net/projects/mod_jail/?branch_id=64870&amp;release_id=245997">
       http://freshmeat.net/projects/mod_jail/?branch_id=64870&amp;release_id=245997
      </a>
     </p>
    </div>
    <h3 class="sectionedit41">
     <a id="custom_404-errorhandler" name="custom_404-errorhandler">
      Custom 404-Errorhandler
     </a>
    </h3>
    <div class="level3">
     <p>
      It is possible in Apache, to use your own errorhandler for various errorcodes.
You might want to have this to inform you of people clicking 'dead links' on your website.
     </p>
     <pre class="code">
      nano /usr/local/etc/apache22/httpd.conf
     </pre>
     <p>
      <code class="code html4strict">
       ErrorDocument 404 "/cgi-bin/404_errorhandler.cgi"
      </code>
     </p>
    </div>
    <h3 class="sectionedit42">
     <a id="apachemp3" name="apachemp3">
      Apache::MP3
     </a>
    </h3>
    <div class="level3">
     <p>
      Apache::
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      is a perl module for Apache, which allows you to listen to the music stored on your server from a windows pc trough a browser &amp; Winamp.
Installation:
     </p>
     <p>
      cd /usr/ports/www/p5-Apache-
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      make
     </p>
     <p>
      This will also install 'mod_perl'
     </p>
     <p>
      Add this line to the 'LoadModule'-section in /usr/local/etc/apache22/httpd.conf:
      <code class="code html4strict">
       LoadModule perl_module libexec/apache22/mod_perl.so
      </code>
     </p>
     <p>
      Visit the
      <a class="urlextern" href="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm" rel="nofollow" title="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm">
       Apache::MP3 website
      </a>
      for the rest of the installation instructions and all the documentation.
     </p>
     <p>
      If you get this error:
      <code class="code html4strict">
       Syntax error on line ... of /usr/local/etc/apache22/httpd.conf:
Invalid command 'PerlHandler', perhaps misspelled or defined by a module not included in the server configuration
[root@freebsd62 /usr/local/etc/apache22]#
      </code>
      Then the Apache mod_perl module isn't installed correctly.
     </p>
     <p>
      Follow the
      <a class="urlextern" href="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm" rel="nofollow" title="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm">
       rest of the installation instructions from the Apache::MP3 website
      </a>
     </p>
     <p>
      Restart apache:
     </p>
     <pre class="code">
      apachectl restart
     </pre>
     <p>
      Make a symlink to the folder where you store your mp3 files (in my case, that would be /mnt/audio/music/ )
     </p>
     <pre class="code">
      ln -s /mnt/audio/music /usr/local/www/freebsd62.example.org/songs
     </pre>
     <p>
      Apache::
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      comes with a set of icons, and style sheet to go with the html pages it generates. To make apache::mp3 find them, follow the next steps.
      <br/>
      In /usr/local/etc/apache22/httpd.conf, just below the &lt;Directory /&gt;  &lt;/Directory&gt; section, add:
      <code class="code html4strict">
       <span class="sc2">
        &lt;Directory
        <span class="sy0">
         /
        </span>
        usr
        <span class="sy0">
         /
        </span>
        local
        <span class="sy0">
         /
        </span>
        share
        <span class="sy0">
         /
        </span>
        Apache-MP3&gt;
       </span>
       AllowOverride None
    Order allow,deny
    Allow from all
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        Directory&gt;
       </span>
      </code>
      And in the same file, just below the line '&lt;IfModule alias_module&gt;', add:
      <code class="code html4strict">
       Alias /apache_mp3 /usr/local/share/Apache-MP3
      </code>
     </p>
     <p>
      Browse to
      <a class="urlextern" href="http://freebsd62.example.org/songs/" rel="nofollow" title="http://freebsd62.example.org/songs/">
       http://freebsd62.example.org/songs/
      </a>
      to see if it works
     </p>
     <p>
      I've changed a few lines in httpd.conf, to make sure that .mp3-files are treated equally as .
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      -files (and the same for .m3u, .pls and ogg-vorbis files):
      <code class="code html4strict">
       AddType audio/mpeg     mp3 MP3 Mp3 mP3
AddType audio/playlist m3u M3U M3u m3U
AddType audio/x-scpls  pls PLS PLs Pls pLS pLs plS
AddType application/x-ogg ogg OGG Ogg OGg OgG oGG oGg ogG
      </code>
     </p>
     <p>
      As the files in my
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      collection often have bad mp3-id3 tags, I have Apache::
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      to use the filename instead of the
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      -ID3 tag. In the '&lt;Location /songs&gt;' section of the httpd.conf file (or whatever you used instead of '/songs' while following the Apache::
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      installation instructions), add:
      <code class="code html4strict">
       PerlSetVar Fields filename
   PerlSetVar SortFields  filename
   PerlSetVar DescriptionFormat "%f"
   PerlSetVar ReadMP3Info no
      </code>
      You might like these settings too:
      <code class="code html4strict">
       PerlSetVar CacheDir       /tmp/mp3_cache
   PerlSetVar PathStyle Arrows
      </code>
     </p>
    </div>
    <h3 class="sectionedit43">
     <a id="kplaylist" name="kplaylist">
      kplaylist
     </a>
    </h3>
    <div class="level3">
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.kplaylist.net" rel="nofollow" title="http://www.kplaylist.net">
       http://www.kplaylist.net
      </a>
      Requires: apache, php, mysql
     </p>
     <p>
      Installation:
     </p>
     <pre class="code">
      cd /usr/ports/audio/kplaylist
make
make install
     </pre>
     <p>
      Configure kplaylist with Apache (see instructions on the official website), make sure apache has access to your mp3 collection, configure the database to use, configure kplaylist.
Enter the location to your base mp3 folder in Filehandling  Base directory
You can open the .m3u playlist files it generates with XMMS (or Winamp if you're using windows).
     </p>
    </div>
    <h2 class="sectionedit44">
     <a id="isc_dhcp-server_dhcpd" name="isc_dhcp-server_dhcpd">
      ISC DHCP-server (dhcpd)
     </a>
    </h2>
    <div class="level2">
     <p>
      On my computer network, there are some laptops. These laptops are not always connected to this network, but sometimes they are taken by their owner to another location, and plugged into another network.
This makes it unpractical to set-up static ip adresses onto these machines themselves, as the network settings would probably have to be changed everytime the laptop is plugged into another network.
This is why I will set up a
      <acronym title="Dynamic Host Configuration Protocol">
       DHCP
      </acronym>
      server. This software will hand out network information like the unique ip adres the laptop may use, the netmask, the address of the default gateway, and which dns servers to use.
     </p>
     <p>
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      If you use 192.168.*.*, 10.*.*.* or 172.16.*.* adresses, 
     </p>
     <p>
      Install package:  (version 3.0.3_1)
pkg_add -r isc-dhcp3-server
(or portupgrade -r -P isc-dhcp3-server)
     </p>
     <p>
      Configure package:
     </p>
     <pre class="code">
      nano /etc/rc.conf:
     </pre>
     <p>
      <code class="code html4strict">
       dhcpd_enable="YES"                          # dhcpd enabled?
dhcpd_flags="-q"                            # command option(s)
dhcpd_conf="/usr/local/etc/dhcpd.conf"      # configuration file
dhcpd_ifaces=""                             # ethernet interface(s)
dhcpd_withumask="022"                       # file creation mask
      </code>
     </p>
     <pre class="code">
      cp /usr/local/etc/dhcpd.conf.sample /usr/local/etc/dhcpd.conf
nano /usr/local/etc/dhcpd.conf
     </pre>
     <p>
      <code class="code html4strict">
       default-lease-time 86400;
max-lease-time 172800;
default-lease-time 86400;
ddns-update-style interim;

option ntp-servers 192.168.0.1;
option domain-name "freebsd61.example.org";
option domain-name-servers 192.168.0.1;
#, 192.168.2.1;
option netbios-name-servers 192.168.0.1;
#, 192.168.2.1;
option netbios-node-type 8;
### NOTE ###
# netbios-node-type=8 means set clients to Hybrid Mode
# so they will use Unicast communication with the WINS
# server and thus reduce the level of UDP broadcast
# traffic by up to 90%.
############

subnet 192.168.0.0 netmask 255.255.0.0 {
  range dynamic-bootp 192.168.0.128 192.168.1.250;
  option subnet-mask 255.255.0.0;
  option routers 192.168.0.1;
  allow unknown-clients;
#  host hplj4 {
#    hardware ethernet 08:00:46:7a:35:e4;
#    fixed-address 192.168.1.10;
#  }
}
}
  subnet 127.0.0.0 netmask 255.0.0.0 {
}
      </code>
     </p>
     <pre class="code">
      touch /var/db/dhcpd.leases
     </pre>
     <p>
      Start it:
     </p>
     <pre class="code">
      /usr/local/etc/rc.d/isc-dhcpd start
     </pre>
     <p>
      Tools for dhcpd.conf management/control &amp; dhcp leases check
      <a class="urlextern" href="http://www.linux-lovers.be/index.php?show=screen_kcmdhcpd" rel="nofollow" title="http://www.linux-lovers.be/index.php?show=screen_kcmdhcpd">
       http://www.linux-lovers.be/index.php?show=screen_kcmdhcpd
      </a>
      <a class="urlextern" href="http://dhcpstatus.sourceforge.net/" rel="nofollow" title="http://dhcpstatus.sourceforge.net/">
       http://dhcpstatus.sourceforge.net/
      </a>
      <a class="urlextern" href="http://dixie.kneiseler.org/index.php?option=com_content&amp;task=view&amp;id=14&amp;Itemid=30" rel="nofollow" title="http://dixie.kneiseler.org/index.php?option=com_content&amp;task=view&amp;id=14&amp;Itemid=30">
       http://dixie.kneiseler.org/index.php?option=com_content&amp;task=view&amp;id=14&amp;Itemid=30
      </a>
      <a class="urlextern" href="http://config-dhcpd.sourceforge.net/screenshots.html" rel="nofollow" title="http://config-dhcpd.sourceforge.net/screenshots.html">
       http://config-dhcpd.sourceforge.net/screenshots.html
      </a>
      <a class="urlextern" href="http://sauron.jyu.fi/screenshots.shtml" rel="nofollow" title="http://sauron.jyu.fi/screenshots.shtml">
       http://sauron.jyu.fi/screenshots.shtml
      </a>
     </p>
     <p>
      Changing the DHCPD Logging File:
      <a class="urlextern" href="http://www.onlamp.com/pub/a/bsd/2003/05/01/FreeBSD_Basics.html?page=2" rel="nofollow" title="http://www.onlamp.com/pub/a/bsd/2003/05/01/FreeBSD_Basics.html?page=2">
       http://www.onlamp.com/pub/a/bsd/2003/05/01/FreeBSD_Basics.html?page=2
      </a>
     </p>
     <p>
      To have a backup dhcpd or a fallback dhcp server (running 2 dhcp servers on the same network):
      <a class="urlextern" href="http://www.kotfu.net/2007/10/dhcp-failover.html" rel="nofollow" title="http://www.kotfu.net/2007/10/dhcp-failover.html">
       DHCP Failover on OpenBSD
      </a>
      <a class="urlextern" href="http://www.madboa.com/geek/dhcp-failover/" rel="nofollow" title="http://www.madboa.com/geek/dhcp-failover/">
       http://www.madboa.com/geek/dhcp-failover/
      </a>
     </p>
    </div>
    <h2 class="sectionedit45">
     <a id="bind_named_dns_server" name="bind_named_dns_server">
      BIND / named / DNS server
     </a>
    </h2>
    <div class="level2">
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.isc.org/sw/bind/" rel="nofollow" title="http://www.isc.org/sw/bind/">
       http://www.isc.org/sw/bind/
      </a>
     </p>
     <p>
      The BIND
      <acronym title="Domain Name System">
       DNS
      </acronym>
      Server (or 'named', as some call it) resolves (=translates) 
web adresses to ip adresses (e.g. for translating the host name 
'example.org' to it's IP adress '208.77.188.166')
     </p>
     <p>
      There are two reasons for using it: 
* you want to act as a so called 'dns-proxy' or 'caching nameserver', 
which will limit network traffic to the nameserver of your
      <acronym title="Internet Service Provider">
       ISP
      </acronym>
      .
* you are hosting websites and are doing
      <acronym title="Domain Name System">
       DNS
      </acronym>
      -server things yourself.
     </p>
     <p>
      Install package:
     </p>
     <pre class="code">
      pkg_add -r bind
     </pre>
     <p>
      Configuration of named is stored in /var/named/etc/named. This folder is symlinked to /etc/named (remember this when configuring the directories to backup).
The important files are:
 * named.conf
 * *.zone (the files you will create for every domain name)
     </p>
     <p>
      Configure package:
     </p>
     <pre class="code">
      cd /etc/named
     </pre>
     <pre class="code">
      sh make-localhost
nano named.conf
     </pre>
     <p>
      Comment out the line  "listen-on ":
      <code class="code html4strict">
       //      listen-on       { 127.0.0.1; };
      </code>
     </p>
     <p>
      Above the line "/ * An example master zone", insert the following for each domain you are running this nameserve for. Replace &lt;example.org&gt; with the correct domain name (without the www-prefix). Remove the '&lt;&gt;' characters too:
      <code class="code html4strict">
       zone "
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       " {
        type master;
        file "
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .zone/
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .zone";
};
      </code>
     </p>
     <p>
      For each domain:
     </p>
     <pre class="code">
      mkdir &lt;example.org&gt;.zone
cd &lt;example.org&gt;.zone
nano &lt;example.org&gt;.zone
     </pre>
     <p>
      Enter the following text (replace the &lt;&gt; stuff with the correct information):
      <code class="code html4strict">
       $ORIGIN
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .
; // Don't for get to incease the Serial value everytime you make changes to this file
; // I like to use the current date, so I can see when was the last time I've changed it
; // If you are updating this file more than once a day, this is not a good solution.
@       IN      SOA
       <span class="sc2">
        &lt;ns1.upstream_nameserver.org&gt;
       </span>
       . (
                                20070701 ; Serial
                                14400    ; Refresh
                                1800     ; Retry
                                3600000 ; Expire
                                3600 )
        IN      NS
       <span class="sc2">
        &lt;ns1.upstream_nameserver.org&gt;
       </span>
       .
        IN      NS
       <span class="sc2">
        &lt;ns2.upstream_nameserver.org&gt;
       </span>
       .
        IN      MX      10
       <span class="sc2">
        &lt;smtp.example.org&gt;
       </span>
       localhost       IN      A       127.0.0.1
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .  IN A
       <span class="sc2">
        &lt;your.ip.address.here&gt;
       </span>
       *       IN      A
       <span class="sc2">
        &lt;your.ip.address.here&gt;
       </span>
      </code>
     </p>
     <p>
      Test it (will show any configuration file errors, you can quit with CTRL-C):
     </p>
     <pre class="code">
      /usr/sbin/named -t /var/named -u bind
     </pre>
     <p>
      <code class="code html4strict">
       05-Mar-2007 12:41:06.992 starting BIND 9.3.2-P2 -f -g -t /var/named -u bind
05-Mar-2007 12:41:07.003 loading configuration from '/etc/namedb/named.conf'
05-Mar-2007 12:41:07.004 listening on IPv4 interface rl0,
       <span class="sc2">
        &lt;1.2.3.4&gt;
       </span>
       #53
05-Mar-2007 12:41:07.006 command channel listening on 127.0.0.1#953
05-Mar-2007 12:41:07.006 command channel listening on ::1#953
05-Mar-2007 12:41:07.006 ignoring config file logging statement due to -g option
05-Mar-2007 12:41:07.007 zone 0.0.127.IN-ADDR.ARPA/IN: loaded serial 20070305
05-Mar-2007 12:41:07.007 zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA/IN: loaded serial 20070305
05-Mar-2007 12:41:34.475
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .zone/
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .zone:4: no TTL specified; using SOA MINTTL instead
05-Mar-2007 12:41:34.476 zone
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       /IN: loaded serial 20070305
05-Mar-2007 12:41:34.476 running
05-Mar-2007 12:41:34.476 zone
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       /IN: sending notifies (serial 20070305)
      </code>
     </p>
     <p>
      This is how it looks here, when it's running correctly.
     </p>
     <p>
      Im my case, I got an error message:
      <code class="code html4strict">
       05-Mar-2007 12:41:07.007 zone
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       /IN: loading master file
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .zone/
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       .zone: permission denied
      </code>
      And it was immediately clear to me that copying the BIND/named configuration files from my backup to the /etc/named/ was ok, but that I had forgotten to give 'bind' access to the *.zone directories/files. I fixed it by entering:
     </p>
     <pre class="code">
      chown -R bind /etc/named/*.zone
     </pre>
     <p>
      Configure it to run on system startup:
Add the following line to /etc/rc.conf:
      <code class="code html4strict">
       named_enable="YES"
      </code>
     </p>
     <p>
      Start it:
     </p>
     <pre class="code">
      /etc/rc.d/named start
     </pre>
     <p>
      <code class="code html4strict">
       wrote key file "/var/named/etc/namedb/rndc.key"
Starting named.
      </code>
     </p>
     <p>
      &lt;
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      &gt;
You'll need some information on the domains you want to do
      <acronym title="Domain Name System">
       DNS
      </acronym>
      stuff for (I take example.org as an example):
     </p>
     <pre class="code">
      whois example.org
     </pre>
     <p>
      You'll get something like this (write it down, we'll need it later):
      <code class="code html4strict">
       Domain nameservers:
       <span class="sc2">
        &lt;ns1.upstream_nameserver.org&gt;
       </span>
       <span class="sc2">
        &lt;1.2.3.4&gt;
       </span>
       <span class="sc2">
        &lt;ns2.upstream_nameserver.org&gt;
       </span>
       <span class="sc2">
        &lt;1.2.3.4&gt;
       </span>
      </code>
     </p>
    </div>
    <h3 class="sectionedit46">
     <a id="ad_blocking_with_your_own_dns_server" name="ad_blocking_with_your_own_dns_server">
      Ad Blocking with your own DNS Server
     </a>
    </h3>
    <div class="level3">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.deer-run.com/~hal/sysadmin/dns-advert.html" rel="nofollow" title="http://www.deer-run.com/~hal/sysadmin/dns-advert.html">
       http://www.deer-run.com/~hal/sysadmin/dns-advert.html
      </a>
     </p>
     <p>
      If you run your own dns server (BIND/named), you can use it to do some ad-blocking (and even prevent Google tracing your whereabouts!).
     </p>
     <p>
      It works by blocking (actually, it is diverting)
      <acronym title="Domain Name System">
       DNS
      </acronym>
      request for a lot of banner-hosting domains. It even works against Google text-ads
If other computers are using this pc as a dns server (you can configure this in dhcpd.conf, section 'option domain-name-servers'), they too will be 'protected' against evil advertisers that want to steal your precious time &amp; bandwidth.
     </p>
     <p>
      You can block banners, text ads, some known cookie harvesting sites, and even normal sites.
Note that it will only block the
      <acronym title="Domain Name System">
       DNS
      </acronym>
      queries/resolving, if you (or one of the users in your network) uses another
      <acronym title="Domain Name System">
       DNS
      </acronym>
      server, it will get resolved correctly, and nothing is blocked this way. You cannot block IP's this way (or banner URLS like
     </p>
     <pre class="code">
      http://1.2.3.4/banner.gif
     </pre>
     <p>
      , you would need a firewall to do that.
     </p>
     <p>
      Create the zone file '/etc/namedb/adserver_redirect.zone':
      <code class="code html4strict">
       $TTL 24h
@       IN SOA
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       . hostmaster.
       <span class="sc2">
        &lt;example.org&gt;
       </span>
       . (
        2007100900      ; Serial yyyy/mm/dd/id
        86400           ; Refresh (24 hours)
        300             ; Retry (5 minutes)
        604800          ; Expire (7 days)
        3600 )          ; Negative Cache TTL (1 hour)

@       IN      NS
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       .
@       IN      A
       <span class="sc2">
        &lt;server.dotted.ip.address&gt;
       </span>
       *       IN      A
       <span class="sc2">
        &lt;server.dotted.ip.address&gt;
       </span>
      </code>
      Replace &lt;example.org&gt;, &lt;freebsd62.example.org&gt; and &lt;server.dotted.ip.address&gt;. Make sure there are no spaces before the last three lines when you copy/past the text to a file.
If you use 127.0.0.1 as the &lt;server.dotted.ip.address&gt;, requests from other clients (other computers in your network that are configured to use this FreeBSD as their dns server) will try to get the banners from 'their' localhost, instead of from the webserver on the FreeBSD machine.
I don't think there's much speed to gain, and I like having the FreeBSD server in the middle so I can take statistics how many banners are blocked.
     </p>
     <p>
      Next, edit /etc/namedb/named.conf
For each domain name you wish to block banners (WARNING: and all other stuff from the same domain!) from, add the next line to the end of the file:
      <code class="code html4strict">
       zone "
       <span class="sc2">
        &lt;domainname.tld&gt;
       </span>
       " { type master; file "dummy-block"; };
      </code>
      Replace &lt;domainname.tld&gt; with the 'offending' site, like 'atdmt.com', 'doubleclick.net' or 'googlesyndication.com'.
     </p>
     <p>
      <code class="code html4strict">
       doubleclick.com
doubleclick.net
adbrite.com
intellitxt.com
googlesyndication.com
atdmt.com
yieldmanager.com
      </code>
      There are sites which list known advertising  providers domains.
You can find more of these domain names by googling on a few of the names above combined.
     </p>
     <p>
      Instead of &lt;domainname.tld&gt; you can also use &lt;subdomain.domainname.tld&gt;, to prevent blocking important stuff.
     </p>
     <p>
      Configure your FreeBSD server to use it's own dns server. Edit /etc/resolv.conf, and make sure the first entry is:
      <code class="code html4strict">
       nameserver	127.0.0.1
      </code>
     </p>
     <p>
      Remember to reload named whenever you have edited /etc/namedb/named.conf:
     </p>
     <pre class="code">
      kill -HUP `cat /var/run/named/pid`
     </pre>
     <p>
      or
     </p>
     <pre class="code">
      killall -1 named
     </pre>
     <p>
      Test it:
     </p>
     <pre class="code">
      ping some.random.thingy.yieldmanager.com
     </pre>
     <p>
      You should get a ping reply from '127.0.0.1' or from your server's ip address.
     </p>
     <p>
      If you run into problems, make sure named is running:
     </p>
     <pre class="code">
      ps auxwww|grep named
     </pre>
     <p>
      If named isn't running, there might be something wrong with your configuration files.
Start named in 'foreground' mode, showing all messages on the console:
     </p>
     <pre class="code">
      named -g
     </pre>
     <p>
      or
     </p>
     <pre class="code">
      cd /etc/namedb
named -f -d 9
     </pre>
     <p>
      Debug messages are stored in /etc/namedb/named.run
     </p>
     <p>
      Named won't start if the named.conf has errors, or duplicate entries (!)
     </p>
     <p>
      You can start named correctly with the command:
     </p>
     <pre class="code">
      /etc/rc.d/named start
     </pre>
     <p>
      Firefox has its own internal domain-name-based image blocking function,
To configure/disable/adjust, open FireFox, click Edit  Preferences  Content  Exeptions-button just right of 'Load images automatically'
It doesn't block text-ads, as far as I know, and works on that pc.
     </p>
     <p>
      another
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://pgl.yoyo.org/adservers/" rel="nofollow" title="http://pgl.yoyo.org/adservers/">
       http://pgl.yoyo.org/adservers/
      </a>
      another
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.xml-dev.com/blog/index.php?action=viewtopic&amp;id=169" rel="nofollow" title="http://www.xml-dev.com/blog/index.php?action=viewtopic&amp;id=169">
       http://www.xml-dev.com/blog/index.php?action=viewtopic&amp;id=169
      </a>
     </p>
     <p>
      There's a Firefox ad-blocking plugin, which works with a list of banner-serving sites,
      <a class="urlextern" href="https://addons.mozilla.org/en-US/firefox/addon/1136" rel="nofollow" title="https://addons.mozilla.org/en-US/firefox/addon/1136">
       https://addons.mozilla.org/en-US/firefox/addon/1136
      </a>
      The list itself is available here:
      <a class="urlextern" href="http://www.pierceive.com/" rel="nofollow" title="http://www.pierceive.com/">
       http://www.pierceive.com/
      </a>
      You can find more ad-serving hosts from the 'Filterset.G' file.
This file however isn't direct compatible with named.conf, you've got to edit it.
     </p>
     <p>
      After blocking *.google-analytics, Firefox gives this error:
      <code class="code html4strict">
       ssl.google-analytics.com sent an unexpected / error message / code:  -12263
      </code>
      I guess this has something to do with the secure https protocol not able to find a valid
      <acronym title="Secure Sockets Layer">
       SSL
      </acronym>
      certificate.
I'm still searching for a nice solution, but I'll rather have the '12263' firefox error message than having google follow me on the net.
      <code class="code html4strict">
       http://www.mozilla.org/projects/security/pki/nss/ref/ssl/sslerr.html
...
Constant: SSL_ERROR_RX_RECORD_TOO_LONG
"SSL received a record that exceeded the maximum permissible length."
-12263
      </code>
     </p>
     <p>
      I think I need to have the
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      <a class="urlextern" href="https://ssl.google-analytics.com/urchin.js" rel="nofollow" title="https://ssl.google-analytics.com/urchin.js">
       https://ssl.google-analytics.com/urchin.js
      </a>
      redirect to an existing file.. or at least a webserver supporting ssl..
     </p>
     <p>
      An example website giving this error is:
      <a class="urlextern" href="http://www.csmonitor.com/" rel="nofollow" title="http://www.csmonitor.com/">
       http://www.csmonitor.com/
      </a>
     </p>
    </div>
    <h2 class="sectionedit47">
     <a id="trafshow" name="trafshow">
      TrafShow
     </a>
    </h2>
    <div class="level2">
     <p>
      Network traffic monitoring (TCP/UDP)
     </p>
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://soft.risp.ru/trafshow/index_en.shtml" rel="nofollow" title="http://soft.risp.ru/trafshow/index_en.shtml">
       http://soft.risp.ru/trafshow/index_en.shtml
      </a>
      If you are looking for more advanced traffic monitoring tools (traffic sniffing tools), go google for: ethereal, ettercap,
      <a class="urlextern" href="http://www.wireshark.org/" rel="nofollow" title="http://www.wireshark.org/">
       Wireshark
      </a>
      (this one runs on Windows too)
     </p>
     <p>
      This provides basic network traffic visualisation on a text-based terminal.
You might also want to check out 'mrtg', which is another network load monitoring tool
     </p>
     <p>
      Install package:  (version 5.2.2,1)
     </p>
     <pre class="code">
      pkg_add -r trafshow
     </pre>
     <p>
      Test it by running:
     </p>
     <pre class="code">
      trafshow
     </pre>
     <p>
      Select the correct network interface to monitor, and if there is any network traffic, you should see it.
     </p>
     <p>
      If you get an error:
      <code class="code html4strict">
       No packet capture device available (no permission?)
      </code>
      You are not running it as root. Get root privileges, or change the (read) permissions of the
      <em>
       /dev/bpf0
      </em>
      and
      <em>
       /dev/bpf1
      </em>
      devices. Don't make it world-readable (o+r), or else anyone with access to your computer can sniff on your network traffic, capture ftp-passwords and compromise your security!
     </p>
    </div>
    <h2 class="sectionedit48">
     <a id="netcat" name="netcat">
      NetCat
     </a>
    </h2>
    <div class="level2">
     <p>
      TCP tool 'nc'
Install package:  (version 1.10_2)
     </p>
     <pre class="code">
      pkg_add -r netcat
     </pre>
    </div>
    <h2 class="sectionedit49">
     <a id="nmap" name="nmap">
      nmap
     </a>
    </h2>
    <div class="level2">
     <p>
      Very good portscanner
     </p>
     <p>
      "Port scanning utility for large networks"
Install package:  (version 4.01)
     </p>
     <pre class="code">
      pkg_add -r nmap
     </pre>
    </div>
    <h1 class="sectionedit50">
     <a id="databases" name="databases">
      Databases
     </a>
    </h1>
    <div class="level1">
    </div>
    <h2 class="sectionedit51">
     <a id="mysql" name="mysql">
      MySQL
     </a>
    </h2>
    <div class="level2">
     <p>
      Install package:  (version mysql-server-5.1.15)
     </p>
     <pre class="code">
      pkg_add -r mysql51-server
     </pre>
     <p>
      (includes mysql51-client-5.1.15)
     </p>
     <pre class="code">
      pkg_add -r  mysql51-scripts
     </pre>
     <pre class="code">
      mkdir /var/db/mysql
chown mysql:mysql /var/db/mysql
nano /etc/rc.conf
     </pre>
     <p>
      Add:
      <code class="code html4strict">
       mysql_enable="YES"
      </code>
     </p>
     <p>
      Start MySQL manually:
     </p>
     <pre class="code">
      /usr/local/etc/rc.d/mysql-server start
     </pre>
     <p>
      Now we are setting the MySQL database administrator password (you should choose a new password for &lt;my_mothers_maiden_name&gt; here, do not use your current root password):
     </p>
     <pre class="code">
      mysql mysql -u root
     </pre>
     <p>
      You should get some infomation about the running MySQL engine, and a 'mysql&gt;'-prompt. Enter the following lines (replacing &lt;my_mothers_maiden_name&gt; with some other password you have chosen):
      <code class="code html4strict">
       UPDATE user SET Password=PASSWORD('
       <span class="sc2">
        &lt;my_mothers_maiden_name&gt;
       </span>
       ') WHERE user='root';
FLUSH PRIVILEGES;
EXIT
      </code>
     </p>
     <p>
      If successfull it will show you something like:
      <code class="code html4strict">
       1 rows updated ...
      </code>
     </p>
     <p>
      If you get the following error:
      <code class="code html4strict">
       ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/tmp/mysql.sock' (38)
      </code>
      then check if you have succesfully started the mysql daemon.
     </p>
    </div>
    <h1 class="sectionedit52">
     <a id="webserver" name="webserver">
      Webserver
     </a>
    </h1>
    <div class="level1">
    </div>
    <h2 class="sectionedit53">
     <a id="php" name="php">
      PHP
     </a>
    </h2>
    <div class="level2">
     <p>
      A popular web scripting language
Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.php.net/" rel="nofollow" title="http://www.php.net/">
       http://www.php.net/
      </a>
     </p>
     <p>
      Install port (not using the package!):  (version 5.1.6)
     </p>
     <pre class="code">
      cd /usr/ports/lang/php5
make
     </pre>
     <p>
      Enable 'MULTIBYTE Enable zend multibyte support', leave other settings as they are:
      <code class="code html4strict">
       Options for php5 5.1.6                        .
...
     . .  [X] MULTIBYTE  Enable zend multibyte support                  
...
      </code>
     </p>
     <pre class="code">
      make install
     </pre>
     <p>
      This will put the following executables (including the apache library libphp5.so) in the correct place:
     </p>
     <pre class="code">
      /usr/local/libexec/apache22/libphp5.so
/usr/local/bin/php
/usr/local/bin/php-cgi
     </pre>
     <p>
      Now, install PHP5-extensions  (version 1.0, as it is a meta-package)
     </p>
     <pre class="code">
      cd /usr/ports/lang/php5-extensions
make
     </pre>
     <p>
      Select extra: bz2, ftp, gettext, mysqli, ncurses, openssl &amp; zip.
Do not select 'gd', as it will download lots of X11.org stuff
     </p>
     <p>
      This will install:
      <code class="code html4strict">
       php5-bcmath-5.1.6   The bcmath shared extension for php
    php5-bz2-5.1.6      The bz2 shared extension for php
    php5-calendar-5.1.6 The calendar shared extension for php
    php5-ctype-5.1.6    The ctype shared extension for php
    php5-curl-5.1.6     The curl shared extension for php
    php5-dom-5.1.6      The dom shared extension for php
    php5-ftp-5.1.6      The ftp shared extension for php
    php5-gettext-5.1.6  The gettext shared extension for php
    php5-iconv-5.1.6    The iconv shared extension for php
    php5-imap-5.1.6     The imap shared extension for php
    php5-mcrypt-5.1.6   The mcrypt shared extension for php
    php5-mysqli-5.1.6   The mysqli shared extension for php
    php5-ncurses-5.1.6  The ncurses shared extension for php
    php5-openssl-5.1.6  The openssl shared extension for php
    php5-pcre-5.1.6     The pcre shared extension for php
    php5-posix-5.1.6    The posix shared extension for php
    php5-readline-5.1.6 The readline shared extension for php
    php5-session-5.1.6  The session shared extension for php
    php5-simplexml-5.1.6 The simplexml shared extension for php
    php5-sqlite-5.1.6   The sqlite shared extension for php
    php5-tokenizer-5.1.6 The tokenizer shared extension for php
    php5-xml-5.1.6      The xml shared extension for php
    php5-xmlreader-5.1.6 The xmlreader shared extension for php
    php5-xmlwriter-5.1.6 The xmlwriter shared extension for php
    php5-zlib-5.1.6     The zlib shared extension for php
      </code>
      Test it:
     </p>
     <pre class="code">
      make install
nano /usr/local/www/&lt;your_freebsd_hostname&gt;/phpinfo.php
     </pre>
     <p>
      <code class="code html4strict">
       <span class="sc2">
        &lt;?php
       </span>
       <span class="sc2">
        phpinfo
        <span class="br0">
         (
        </span>
        <span class="br0">
         )
        </span>
        ;
       </span>
       <span class="sc2">
        ?&gt;
       </span>
      </code>
      Point your browser to the
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      : ht tp :/ / &lt;your_freebsd_hostname&gt;/phpinfo.php
You should get lots of information about the php engine.
     </p>
     <p>
      To allow
      <acronym title="Hypertext Preprocessor">
       PHP
      </acronym>
      to connect to a MySQL database, install the port 'php5-mysql':
     </p>
     <pre class="code">
      /usr/ports/databases/php5-mysql
make
make install
     </pre>
     <p>
      Also install the port 'php5-extensions':
     </p>
     <pre class="code">
      cd /usr/ports/lang/php5-extensions
make
make install
     </pre>
     <p>
      You will need to tag 'multibyte string' to run phpMyAdmin.
     </p>
     <p>
      To configure Apache to use
      <acronym title="Hypertext Preprocessor">
       PHP
      </acronym>
      , open '/usr/local/etc/apache22/httpd.conf', make sure that the following modifications are there, or add them:
Add the line:
      <code class="code html4strict">
       LoadModule php5_module        libexec/apache22/libphp5.so
      </code>
      And:
      <code class="code html4strict">
       AddType application/x-httpd-php .php .php3 .php4 .php5
AddType application/x-httpd-php-source .phps
      </code>
     </p>
     <p>
      Change:
      <code class="code html4strict">
       DirectoryIndex index.html index.cgi
      </code>
      To:
      <code class="code html4strict">
       DirectoryIndex index.html index.cgi index.php
      </code>
     </p>
    </div>
    <h2 class="sectionedit54">
     <a id="phpmyadmin" name="phpmyadmin">
      phpMyAdmin
     </a>
    </h2>
    <div class="level2">
     <p>
      Web based/
      <acronym title="Hypertext Preprocessor">
       PHP
      </acronym>
      frontend for MySQL administration
      <br/>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.phpmyadmin.net" rel="nofollow" title="http://www.phpmyadmin.net">
       http://www.phpmyadmin.net
      </a>
     </p>
     <p>
      Installation (requires that php5 has been built with 'MULTIBYTE'/mbyte option):
     </p>
     <pre class="code">
      cd /usr/ports/database/phpmyadmin
make
make install
     </pre>
     <p>
      Add the following to the Apache configuration file /usr/local/etc/apache22/httpd.conf. Replace &lt;your_ip_address&gt; with the IP address you want to connect from:
      <code class="code html4strict">
       Alias /phpmyadmin/ "/usr/local/www/phpMyAdmin/"
       <span class="sc2">
        &lt;Directory
        <span class="st0">
         "/usr/local/www/phpMyAdmin/"
        </span>
        &gt;
       </span>
       Options none
        AllowOverride Limit

        Order Deny,Allow
        Deny from all
        Allow from 127.0.0.1
       <span class="sc2">
        &lt;your_ip_address&gt;
       </span>
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        Directory&gt;
       </span>
      </code>
     </p>
     <p>
      Restart Apache:
     </p>
     <pre class="code">
      apachectl restart
     </pre>
     <p>
      Visit http:
      <em>
       &lt;freebsd62.example.org&gt;/phpMyAdmin/

WORK IN PROGRESS BELOW THIS LINE.

Configuration:
  cd /usr/local/www/&lt;freebsd62.example.org&gt;/pMA
  cp config.sample.inc.php config.inc.php
  cd phpMyAdmin
  nano Documentation.txt 
Read the 'quick install' section.

Create directory for saving configuration, :
  mkdir config
Give it world writable permissions:
  chmod o+rw config

I went to http:/ /&lt;freebsd62.example.org&gt;/pMA/scripts/setup.php
Under 'Servers', click 'Add'
Set 'Authentication type' to '
       <acronym title="Hyper Text Transfer Protocol">
        HTTP
       </acronym>
       '
Click 'Add', click 'Save'

Move file to current directory:
  mv config/config.inc.php .
Remove world read and write permision:
  chmod o-rw config.inc.php

  cp config.default.php config.inc.php
  nano config.inc.php
&lt;html&gt;
    $cfg['PmaAbsoluteUri']='http:
      </em>
      &lt;freebsd62.example.org&gt;/pMA';
&lt;/html&gt;
     </p>
     <p>
      For now, I will use cookie authentication. This is not as secure as I'd like it to be (I would be happier if https was working), but I'll leave it for now:
      <code class="code html4strict">
       $i=0;
    $i++;
    $cfg['Servers'][$i]['host'] = 'localhost';
    $cfg['Servers'][$i]['extension'] = 'mysqli';
    $cfg['Servers'][$i]['auth_type'] = 'cookie';
    $cfg['blowfish_secret'] = '
       <span class="sc2">
        &lt;my_fathers_maiden_name&gt;
       </span>
       '; /* YOU MUST FILL IN THIS FOR COOKIE AUTH!$
      </code>
     </p>
     <p>
      As an alternative, you can put the MySQL username and password in this configuration file, and use a .htpasswd file in the phpMyAdmin directory to limit access. In this case you would need to add/change the following configuration items in config.inc.php:
      <code class="code html4strict">
       $cfg['Servers'][$i]['host'] = 'localhost';
    $cfg['Servers'][$i]['extension'] = 'mysqli';
    $cfg['Servers'][$i]['auth_type'] = 'config';
    $cfg['Servers'][$i]['user']='root';
    $cfg['Servers'][$i]['password']='
       <span class="sc2">
        &lt;my_mothers_maiden_name&gt;
       </span>
       ';
      </code>
      Protecting the phpMyAdmin with .htpasswd is something I will explain another time. Just stick with cookie authentication for now.
     </p>
     <p>
      Restrict access to the configuration file (very important if you have stored the MySQL password in here):
     </p>
     <pre class="code">
      chmod 600 config.inc.php
     </pre>
     <p>
      Check your installation by browsing to http:/ /&lt;freebsd62.example.org&gt;/phpMyAdmin
If everything is ok, you should be asked for a username and a password. Enter the MySQL username and password you have configured earlier. After entering the correct password and pressing ok, you should see the phpMyAdmin page, where you can manage your MySQL databases.
     </p>
     <p>
      protect pMA directory with .htaccess and .htpasswd:
      <a class="urlextern" href="http://httpd.apache.org/docs/2.0/programs/htpasswd.html" rel="nofollow" title="http://httpd.apache.org/docs/2.0/programs/htpasswd.html">
       http://httpd.apache.org/docs/2.0/programs/htpasswd.html
      </a>
     </p>
     <pre class="code">
      nano .htaccess
     </pre>
     <p>
      <code class="code html4strict">
       AuthName "Restricted Area" 
    AuthType Basic 
    AuthUserFile /var/www/
       <span class="sc2">
        &lt;mysite&gt;
       </span>
       /
       <span class="sc2">
        &lt;my_protected_dir&gt;
       </span>
       /.htpasswd 
    AuthGroupFile /dev/null 
    require valid-user
      </code>
      Change the AuthUserFile to the directory where you will put the .htpasswd file. You can change the 'AuthName' value too.
     </p>
     <p>
      Now, let's create the .htpasswd file, which will contain the usernames and (encrypted) passwords of the users that will have access.
Make sure you are in the correct directory, then enter:
     </p>
     <pre class="code">
      htpasswd -c .htpasswd &lt;username&gt;
     </pre>
     <p>
      If the file .htpasswd already exists, remove the -c to add users to an existing .htpasswd file:
     </p>
     <pre class="code">
      htpasswd .htpasswd &lt;username&gt;
     </pre>
     <p>
      You will be prompted for the password (2 times).
     </p>
     <p>
      Check if it works, open your webbrowser and go to &lt;mysite&gt;/&lt;my_protected_dir&gt;/
It should prompt you for an username and a password.
     </p>
     <p>
      For security, make sure all files starting with '.ht' are blocked from public viewing in your webserver configuration.
     </p>
    </div>
    <h2 class="sectionedit55">
     <a id="joomla" name="joomla">
      Joomla
     </a>
    </h2>
    <div class="level2">
     <p>
      A Content Management System (
      <acronym title="Content Management System">
       CMS
      </acronym>
      ), similar like 'Mambo', another
      <acronym title="Content Management System">
       CMS
      </acronym>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
     </p>
     <p>
      Installation:
     </p>
     <pre class="code">
      cd /usr/ports/www/joomla
make
make install
     </pre>
     <pre class="code">
      cd /usr/local/www/joomla
...
     </pre>
     <p>
      Login to the phpMyAdmin website/configuration panel, and make a new database, named 'joomla'
     </p>
     <p>
      Edit /usr/local/etc/apache22/httpd.conf,
Add a line:
Alias joomla /usr/local/www/joomla &lt;
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      &gt;
     </p>
     <p>
      Next, go to the site http:/ /&lt;freebsd.example.org&gt;/joomla/INSTALL.php website
      <code class="code html4strict">
       Session save path  	 Not set, Unwriteable
Database server: localhost
username: root
password:
       <span class="sc2">
        &lt;MySQL_server_password&gt;
       </span>
       database: joomla

Site name:
       <span class="sc2">
        &lt;Title_for_your_Joomla_website&gt;
       </span>
       URL: http:/ /
       <span class="sc2">
        &lt;freebsd62.example.org&gt;
       </span>
       /joomla
Path: /usr/local/www/joomla
Your E-mail: joomla_administrator@freebsd62.example.org
Admin password:
       <span class="sc2">
        &lt;my_mothers_maiden_name&gt;
       </span>
       (Username : admin)
      </code>
     </p>
     <p>
      Point your browser to: http:/ /&lt;freebsd62.example.org&gt;/joomla
You should get a message telling you that you should remove the installation-folder.
We will do this:
     </p>
     <pre class="code">
      cd /usr/local/www/joomla
rm -R installation
     </pre>
     <p>
      Reload the same
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      (http:/ /&lt;freebsd62.example.org&gt;/joomla) in your browser, you should see the default Joomla site now.
     </p>
     <p>
      Browse to http:/ /&lt;freebsd62.example.org&gt;/joomla/administrator/  to go to the configuration panel where you can add users, edit pages, install 'mambots' and themes, etc.
     </p>
    </div>
    <h2 class="sectionedit56">
     <a id="coppermine_gallery" name="coppermine_gallery">
      Coppermine Gallery
     </a>
    </h2>
    <div class="level2">
     <pre class="code">
      cd /usr/ports/www/coppermine
make
make install
nano /usr/local/etc/apache2/httpd.conf
  Alias /coppermine/ "/usr/local/www/coppermine/"
     </pre>
     <pre class="code">
      &lt;Directory "/usr/local/www/coppermine"&gt;
Options Indexes Followsymlinks MultiViews
AllowOverride None
Order allow,deny
Allow from all
  &lt;/Directory&gt;
     </pre>
     <p>
      use phpMyAdmin to create a database named 'coppermine',
     </p>
     <pre class="code">
      apachectrl restart
     </pre>
     <p>
      browse to:
      <a class="urlextern" href="http://freebsd61.example.org/coppermine/index.php" rel="nofollow" title="http://freebsd61.example.org/coppermine/index.php">
       http://freebsd61.example.org/coppermine/index.php
      </a>
     </p>
     <pre class="code">
      username: coppermine
pass:
     </pre>
     <p>
      MySQL Database Name: coppermine
MySQL Username:root
MySQL Password:
     </p>
    </div>
    <h2 class="sectionedit57">
     <a id="dokuwiki" name="dokuwiki">
      DokuWiki
     </a>
    </h2>
    <div class="level2">
     <p>
      This is an easy to use wiki that I use for updating this page.
      <br/>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:dokuwiki" rel="nofollow" title="http://wiki.splitbrain.org/wiki:dokuwiki">
       http://wiki.splitbrain.org/wiki:dokuwiki
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:syntax" rel="nofollow" title="http://wiki.splitbrain.org/wiki:syntax">
       Click here to get an idea of the features DokuWiki has to offer
      </a>
     </p>
     <p>
      I needed a easy website content editor to publish this FreeBSD 6.2 manual online. I didn't want a
      <acronym title="Content Management System">
       CMS
      </acronym>
      , as those generally depend on a database like MySQL, and these are too big for what I need. I've visited
      <a class="urlextern" href="http://www.freshmeat.net" rel="nofollow" title="http://www.freshmeat.net">
       http://www.freshmeat.net
      </a>
      , did a search on 'wiki', and found DokuWiki. It's small, doesn't depend on databases (for example MySQL), uses
      <acronym title="Hypertext Preprocessor">
       PHP
      </acronym>
      , has a 9 out of 10 user-rating, and is good for writing documentation. Excactly what I need!
      <br/>
     </p>
     <p>
      Read
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki%3AInstall" rel="nofollow" title="http://wiki.splitbrain.org/wiki%3AInstall">
       http://wiki.splitbrain.org/wiki%3AInstall
      </a>
      for the original installation instructions, and make sure to read
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:security" rel="nofollow" title="http://wiki.splitbrain.org/wiki:security">
       http://wiki.splitbrain.org/wiki:security
      </a>
      after installation to secure it properly.
     </p>
     <p>
      Using ports:
     </p>
     <pre class="code">
      cd /usr/ports/www/dokuwiki
make
make install
     </pre>
     <p>
      It will install in /usr/local/www/dokuwiki folder. You can rename the 'dokuwiki' folder, and place it somewhere else.
     </p>
     <p>
      During installation it will ask which type of wiki this will be, as it can help you configure read/write access in different ways for registered/unregistered users. The 3 most common methods are:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Everybody can view + edit the page (an open approach, like wikipedia)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Only registered users can view the page (when you have information in your wiki that shouldn't be public to everyone)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Visitors can only look at the page, and make no changes + only registered users can make changes (the way I want it)
       </div>
      </li>
     </ul>
     <p>
      After installation, move (or symlink) it to the /usr/local/www/&lt;domain_name&gt;/&lt;foldername&gt;, which would make it accessible in a browser at the
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      http:/ /www.&lt;domain_name&gt;/&lt;foldername&gt;/  :
     </p>
     <pre class="code">
      ln -s /usr/local/www/dokuwiki /usr/local/www/freebsd62.example.org/freebsd
     </pre>
     <p>
      Browse to:
      <a class="urlextern" href="http://freebsd62.example.org/freebsd/" rel="nofollow" title="http://freebsd62.example.org/freebsd/">
       http://freebsd62.example.org/freebsd/
      </a>
      (don't forget the last '/')
You should see some Dokuwiki page.
     </p>
     <pre class="code">
      chown -R www data
chown -R www conf
     </pre>
     <p>
      Let's configure it (while still being in the dokuwiki folder).
We will save all settings to local.php, Dokuwiki's main configuration file.
     </p>
     <pre class="code">
      cp conf/local.php.dist conf/local.php
nano conf/local.php
     </pre>
     <pre class="code">
      $conf['start']       = 'freebsd62guide'; //name of start page
$conf['title']       = 'My FreeBSD 6.2 step-by-step installation guide';
$conf['allowdebug']  = 0;                //Allow debugging 
$conf['openregister']= 0;                //Allow everyone to register? (no)
$conf['autopasswd']  = 0;                //autogenerate passwords and email them (no)
$conf['breadcrumbs'] = 0;                //How many levels of previously visited pages to remember (0)
$conf['usewordblock'] = 0;               //Block spam based on wordlist (no)
$conf['useacl'] = 1;                     //Use Acces Control Lists (yes)
$conf['superuser'] = 'admin';            //The user which will have administrative rights
$conf['fetchsize']   = FALSE;
$conf['refcheck'] = 0;
     </pre>
     <p>
      Some more settings: (my dokuwiki is written in english, so I set the spellcheck accordingly)
      <code class="code html4strict">
       Enable spellchecker **yes**
  Recent changes **50**
  Language: **en** 
  Send "HTTP 404/Page Not Found" for non existing pages **yes**
      </code>
     </p>
     <p>
      Make sure all configuration files are owned by the user Apache runs on:
     </p>
     <pre class="code">
      chown -R www:www .
     </pre>
     <p>
      Making sure some files aren't 'world writable' (for security reasons):
     </p>
     <pre class="code">
      chmod 664 doku.php
chmod 664 conf/users.auth.php
     </pre>
     <p>
      For editing the page, I want to setup a password
More info on Acces Control Lists at
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:acl" rel="nofollow" title="http://wiki.splitbrain.org/wiki:acl">
       http://wiki.splitbrain.org/wiki:acl
      </a>
     </p>
     <p>
      Create a password (replace &lt;your_password&gt; with the password you wish to use in DokuWiki):
     </p>
     <pre class="code">
      md5 -s &lt;your_password&gt;
     </pre>
     <p>
      This should output the following (I used 'password' as password):
      <code class="code html4strict">
       MD5 ("password") = 5f4dcc3b5aa765d61d8327deb882cf99
      </code>
     </p>
     <p>
      cp conf/acl.auth.php.dist conf/acl.auth.php
     </p>
     <pre class="code">
      nano users.auth.php
     </pre>
     <p>
      Add the following lines (replace 5f4dcc3b5aa765d61d8327deb882cf99 with your own result):
      <code class="code html4strict">
       admin:5f4dcc3b5aa765d61d8327deb882cf99:::admins
editor:$1$b283fa69$r0ZhbBepcfGD.nJ5kNFUV/:::users
      </code>
     </p>
     <pre class="code">
      cp conf/acl.auth.php.dist conf/acl.auth.php
nano conf/acl.auth.php
     </pre>
     <p>
      Add the following lines to allow all (registered) users to create and edit pages, and allow visitors only reading:
      <code class="code html4strict">
       *       @users  4
*       @ALL    1
      </code>
     </p>
     <p>
      By default, DokuWiki has 7 colored boxes at the bottom of the page, one of these is a link to the Creative Commons site. I've chosen the Creative Commons license 'by-nc-sa v2.5' to publish this guide, and I just need to change the version number of the CC-license to 2.5. It's easy to change that in the file dokuwiki/lib/tpl/default/footer.html
      <br/>
      I've also removed the other buttons in this file which I won't need:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        '
        <acronym title="Rich Site Summary">
         RSS
        </acronym>
        <acronym title="Extensible Markup Language">
         XML
        </acronym>
        -feed',
       </div>
      </li>
      <li class="level1">
       <div class="li">
        'Donate' (PayPal),
       </div>
      </li>
      <li class="level1">
       <div class="li">
        '
        <acronym title="Hypertext Preprocessor">
         PHP
        </acronym>
        Powered',
       </div>
      </li>
      <li class="level1">
       <div class="li">
        '
        <acronym title="World Wide Web Consortium">
         W3C
        </acronym>
        XHTML1.0' and
       </div>
      </li>
      <li class="level1">
       <div class="li">
        '
        <acronym title="World Wide Web Consortium">
         W3C
        </acronym>
        <acronym title="Cascading Style Sheets">
         CSS
        </acronym>
        ' links.
       </div>
      </li>
     </ul>
     <p>
      I'm leaving the 'Driven by DokuWiki' link in place.
      <br/>
     </p>
     <p>
      In the file 'conf/acronyms.conf' you can add abbreviations and their meaning. I've used them to remind people that links like &lt;my_mothers_maiden_name&gt;  should be replaced by their own passwords (go on, hover your mouse cursor over the text between the &lt; and the &gt;, and you will see).
     </p>
     <p>
      I will make the configuration files available for download soon &lt;
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      &gt;
      <br/>
     </p>
     <p>
      &lt;Download footer.html&gt;
      <br/>
      &lt;Download /conf/local.php&gt;
      <br/>
      &lt;Download /conf/acl.auth.php&gt;
      <br/>
      &lt;Download /conf/user.auth.php&gt;
      <br/>
     </p>
     <p>
      <a class="urlextern" href="http://blog.riff.org/2006_08_13_dokuwiki_vs_google" rel="nofollow" title="http://blog.riff.org/2006_08_13_dokuwiki_vs_google">
       March 4 2007 - I Just read this article about helping Google and other search engines to index your DokuWiki site, worth a read.
      </a>
      In the .htaccess file that's mentioned on this article, I've changed some lines replacing 'doku.php' with '/freebsd/doku.php'. I bet this is not the best fix, but it works, and at this time, that's all I care about.
     </p>
     <p>
      I've discovered that DokuWiki is telling search engine crawlers to "noindex,nofollow" in the file '/inc/template.php', so I've changed every noindex  index and nofollow  follow.
Also, I added some code for adding the correct META-tags to my page. Couldn't find any other way to do this in the manual, but I must admit I didn't take more than a minute to search for it.. hints are welcome.
     </p>
     <pre class="code">
      $KEYWORDS = "freebsd,guide, ... ";
$head['meta'][] = array( 'name'=&gt;'keywords', 'content'=&gt;$KEYWORDS);

$DESCRIPTION = "Installation and configuration of a FreeBSD server, ... ";
$head['meta'][] = array( 'name'=&gt;'description', 'content'=&gt;$DESCRIPTION);
     </pre>
     <p>
      DokuWiki has
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:multilingual_content" rel="nofollow" title="http://wiki.splitbrain.org/wiki:multilingual_content">
       support for Multilingual sites
      </a>
      , so I can use DokuWiki for my future dutch and german translation of this page.
     </p>
     <p>
      To force the recaching/refresh/recompile/remake/refreshing of a DokuWiki 
page just add the parameter 
'?purge=true' after the  /your_dokuwiki.php file:
      <a class="urlextern" href="http://www.example.org/somefolder/your_dokuwiki.php?purge=true" rel="nofollow" title="http://www.example.org/somefolder/your_dokuwiki.php?purge=true">
       http://www.example.org/somefolder/your_dokuwiki.php?purge=true
      </a>
     </p>
     <p>
      Optimizing your DokuWiki page for Search Engine Indexing:
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:tips:searchengines" rel="nofollow" title="http://wiki.splitbrain.org/wiki:tips:searchengines">
       http://wiki.splitbrain.org/wiki:tips:searchengines
      </a>
     </p>
     <p>
      I set
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:config#indexdelay" rel="nofollow" title="http://wiki.splitbrain.org/wiki:config#indexdelay">
       indexdelay to 0
      </a>
      ,
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:config#useslash" rel="nofollow" title="http://wiki.splitbrain.org/wiki:config#useslash">
       enabled 'useslash'
      </a>
      , and configured it to create a
      <a class="urlextern" href="http://wiki.splitbrain.org/wiki:sitemap" rel="nofollow" title="http://wiki.splitbrain.org/wiki:sitemap">
       Google sitemap
      </a>
      (which needed some re-editing).
     </p>
     <p>
      quote: "Sitemap is generated by the indexer. To launch it manually, and debug it, try :
      <a class="urlextern" href="http://www.example.org/dokuwiki/lib/exe/indexer.php?debug=1" rel="nofollow" title="http://www.example.org/dokuwiki/lib/exe/indexer.php?debug=1">
       http://www.example.org/dokuwiki/lib/exe/indexer.php?debug=1
      </a>
      " (replacing
      <a class="urlextern" href="http://www.example.org" rel="nofollow" title="http://www.example.org">
       www.example.org
      </a>
      with your server name)
     </p>
     <p>
      And I discovered how to
      <a class="urlextern" href="http://www.linux.org.py/wiki/howto/dokuwiki_hit_counter_patch" rel="nofollow" title="http://www.linux.org.py/wiki/howto/dokuwiki_hit_counter_patch">
       count page-hits (a webcounter) within DokuWiki
      </a>
     </p>
     <p>
      Adding Video to DokuWiki (like Youtube video clips):
      <a class="urlextern" href="http://wiki.symplus.co.jp/computer/en/youtube_plugin" rel="nofollow" title="http://wiki.symplus.co.jp/computer/en/youtube_plugin">
       http://wiki.symplus.co.jp/computer/en/youtube_plugin
      </a>
     </p>
    </div>
    <h4>
     <a id="hidden_comment" name="hidden_comment">
      Hidden Comment
     </a>
    </h4>
    <div class="level4">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://wiki.splitbrain.org/plugin:hidden_comment" rel="nofollow" title="http://wiki.splitbrain.org/plugin:hidden_comment">
       http://wiki.splitbrain.org/plugin:hidden_comment
      </a>
     </p>
     <p>
      This tiny plugin allows you to leave notes to yourself (and other 
authors of your wiki) in the wiki source code that won't be shown on the 
wiki page.
     </p>
     <p>
      extract the contents of the .zip file to 
&lt;your_dokuwiki_path&gt;/libs/plugins  and it should work.
     </p>
     <p>
      Example:
      <code class="code html4strict">
       The text /* between the slash-asterik and asterisk-slash */ is hidden
      </code>
      Becomes:
     </p>
     <pre class="code">
      The text /* between the slash-asterik and asterisk-slash */ is hidden
     </pre>
    </div>
    <h2 class="sectionedit58">
     <a id="tinyproxy" name="tinyproxy">
      TinyProxy
     </a>
    </h2>
    <div class="level2">
     <p>
      A lightweight
      <acronym title="Hyper Text Transfer Protocol">
       HTTP
      </acronym>
      proxy server
     </p>
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.tinyproxy.org" rel="nofollow" title="http://www.tinyproxy.org">
       http://www.tinyproxy.org
      </a>
      Install package:
     </p>
     <pre class="code">
      pkg_add -r tinyproxy
     </pre>
    </div>
    <h2 class="sectionedit59">
     <a id="serial_console" name="serial_console">
      Serial Console
     </a>
    </h2>
    <div class="level2">
     <p>
      This will allow me to access this FreeBSD pc over a serial cable. As one of these installations will run in a fire-safe basement, and I don't want to get my hands dirty everytime I accidently disable the Ethernet interface, stop
      <acronym title="Secure Shell">
       SSH
      </acronym>
      , ruin the firewall settings, or do something else which would otherwise result in the need for hands-on access.
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/articles/console-server/freebsd.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/articles/console-server/freebsd.html">
       http://www.freebsd.org/doc/en_US.ISO8859-1/articles/console-server/freebsd.html
      </a>
      configuration:
     </p>
     <pre class="code">
      nano boot.config
  -P
nano /etc/ttys
  # Serial terminal on COM1:
  ttyd0 "/usr/libexec/getty std.9600"  vt100   on secure
     </pre>
     <p>
      Options	Message goes to
none	internal console
-h	serial console
-D	serial and internal consoles
-Dh	serial and internal consoles
-P, keyboard present	internal console
-P, keyboard absent	serial console
     </p>
    </div>
    <h1 class="sectionedit60">
     <a id="compiling_the_freebsd_kernel" name="compiling_the_freebsd_kernel">
      Compiling the FreeBSD Kernel
     </a>
    </h1>
    <div class="level1">
     <p>
      Compiling a new kernel can help overcome problems with new hardware (like my Gigabit onboard network card '/dev/nve0', which resets itself when I send lots of data through it), USB memmory sticks, etc. It's likely that a new kernel will speed up lots of things.
     </p>
     <p>
      The correct way to upgrade your kernel has changes over the last FreeBSD versions, so you might find some manuals on FreeBSD kernel building that are outdated (like 'makedev', which isn't required anymore).
     </p>
     <p>
      Steps we will be going through:
1. Getting the kernel sources
2. Updating the kernel sources to the most recent (stable) version
3. Configuring the kernel (changing the default configuration, to include for example tv-cards or hardware that isn't supported in the default 'stock' kernel.
4. Building (compiling) the new kernel &amp; modules
5. Installing the new kernel
6. Testing the new kernel
     </p>
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/kernelconfig-building.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/kernelconfig-building.html">
       http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/kernelconfig-building.html
      </a>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/kernelconfig.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/kernelconfig.html">
       http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/kernelconfig.html
      </a>
     </p>
     <p>
      Step 1:
Install the kernel sources
     </p>
     <pre class="code">
      sysinstall
     </pre>
     <p>
      Go to the '
      <strong>
       Configuration menu
      </strong>
      ',
      <strong>
       Distributions
      </strong>
      ,
      <strong>
       src
      </strong>
      ,
      <strong>
       sys
      </strong>
      . Uuse the space-key to tag it, tab &amp; enter to confirm. After everything is done, exit sysinstall.
     </p>
     <p>
      Lacking a bit of creativity, I will call my new kernel 'FREEBSD62'. I suggest you take your own name, in capitals. You can add a version number to it, so in the future you can find your old configurations easily.
     </p>
     <p>
      Step 2: WORK IN PROGRESS
     </p>
     <pre class="code">
      [edit make.conf]&lt;FIXME&gt;
cd /usr/src
make update
     </pre>
     <p>
      Step 3: Performing the kernel configuration (If your architecture is amd64, replace 'i386' with 'amd64')
     </p>
     <pre class="code">
      cd /usr/src/sys/i386/conf/
     </pre>
     <p>
      Copy the default kernel configuration to a new file:
     </p>
     <pre class="code">
      cp GENERIC FREEBSD62
     </pre>
     <p>
      Replace FREEBSD62 with a descriptive name for your freeBSD machine (I added '62' to easily remember that this machine is a FreeBSD version 6.2 installation)
Now we can make the modifications (if any) to the new file:
     </p>
     <pre class="code">
      nano FREEBSD62
     </pre>
     <p>
      Add any options you wish to include in your new kernel.
     </p>
     <div class="table sectionedit61">
      <table class="inline">
       <tr class="row0">
        <th class="col0">
         Kernel configuration item:
        </th>
        <th class="col1">
         Result:
        </th>
       </tr>
       <tr class="row1">
        <td class="col0">
         options BRIDGE
        </td>
        <td class="col1">
         Required for using this PC as a router
        </td>
       </tr>
       <tr class="row2">
        <td class="col0">
         options IPFILTER
        </td>
        <td class="col1">
         Required for using this PC as a router
        </td>
       </tr>
       <tr class="row3">
        <td class="col0">
         options IPFILTER_LOG
        </td>
        <td class="col1">
         Required for using this PC as a router
        </td>
       </tr>
       <tr class="row4">
        <td class="col0">
         device pf
        </td>
        <td class="col1">
         PF Firewall
        </td>
       </tr>
       <tr class="row5">
        <td class="col0">
         options ALTQ
        </td>
        <td class="col1">
         ALTQ Traffic Shaping
        </td>
       </tr>
       <tr class="row6">
        <td class="col0">
         options ALTQ_CBQ
        </td>
        <td class="col1">
         ALTQ Traffic Shaping
        </td>
       </tr>
       <tr class="row7">
        <td class="col0">
         options ALTQ_RED
        </td>
        <td class="col1">
         ALTQ Traffic Shaping
        </td>
       </tr>
       <tr class="row8">
        <td class="col0">
         options ALTQ_RIO
        </td>
        <td class="col1">
         ALTQ Traffic Shaping
        </td>
       </tr>
       <tr class="row9">
        <td class="col0">
         options ALTQ_HFSC
        </td>
        <td class="col1">
         ALTQ Traffic Shaping
        </td>
       </tr>
       <tr class="row10">
        <td class="col0">
         options ALTQ_CDNR
        </td>
        <td class="col1">
         ALTQ Traffic Shaping
        </td>
       </tr>
       <tr class="row11">
        <td class="col0">
         options ALTQ_PRIQ
        </td>
        <td class="col1">
         ALTQ Traffic Shaping
        </td>
       </tr>
       <tr class="row12">
        <td class="col0">
         device speaker #PC speaker
        </td>
        <td class="col1">
         You can play sound (also
         <acronym title="Motion Picture Experts Group Layer 3">
          MP3
         </acronym>
         ) through the pc internal speaker
        </td>
       </tr>
       <tr class="row13">
        <td class="col0">
         device dummynet #dummy networking device
        </td>
        <td class="col1">
         Required for OpenVPN? &lt;
         <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
         &gt;
        </td>
       </tr>
       <tr class="row14">
        <td class="col0">
         device pass
        </td>
        <td class="col1">
         Required for access to USB disks, flashdrives, etc.??
        </td>
       </tr>
       <tr class="row15">
        <th class="col0">
        </th>
        <th class="col1">
         Untested:
        </th>
       </tr>
       <tr class="row16">
        <td class="col0">
         options EXT2FS # linux FS
        </td>
        <td class="col1">
         Allows acces to EXT2FS Linux Extended File System v2
        </td>
       </tr>
       <tr class="row17">
        <td class="col0">
         pseudo-device  snp
        </td>
        <td class="col1">
         'snoop' device, allows you to 'spy' on other terminals.
        </td>
       </tr>
      </table>
     </div>
     <p>
      Other stuff:
      <code class="code html4strict">
       options SUIDDIR 
    device vn
    options NMBCLUSTERS=65535
      </code>
     </p>
     <pre class="code">
      config FREEBSD62
cd ../compile/FREEBSD62
make cleandepend; make depend
make
make install
     </pre>
     <p>
      Restart your system by entering the command:
     </p>
     <pre class="code">
      reboot
     </pre>
     <p>
      And voil, you have built, installed and booted your new kernel. Confirm this (after logging in) by entering:
     </p>
     <pre class="code">
      uname -a
     </pre>
     <p>
      It will tell you something like:
      <code class="code html4strict">
       FreeBSD freebsd62.example.org 6.2-RELEASE FreeBSD 6.2-RELEASE #0: 
Mon Jan  4 01:56:50 CEST 2007      
root@freebsd61.example.org:/usr/src/sys/i386/compile/FREEBSD62
      </code>
      This contains the FreeBSD version (
      <strong>
       FreeBSD 6.2-RELEASE
      </strong>
      ), the compilation date (
      <strong>
       Mon Jan  4 01:56:50 CEST 2007
      </strong>
      , in my case) and the 'name' of the kernel (
      <strong>
       FREEBSD62
      </strong>
      )
     </p>
     <p>
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      :what if some kernel option names have changed with the kernel-source-upgrade?
     </p>
     <p>
      =================== Increasing security a (small) bit
     </p>
    </div>
    <h2 class="sectionedit62">
     <a id="sudo" name="sudo">
      Sudo
     </a>
    </h2>
    <div class="level2">
     <p>
      This will probably -decrease- security, but helps me out if someone needs restricted root access and I am not willing to give him the root password.
Install package:
     </p>
     <pre class="code">
      pkg_add -r sudo
     </pre>
    </div>
    <h2 class="sectionedit63">
     <a id="syslogd" name="syslogd">
      Syslogd
     </a>
    </h2>
    <div class="level2">
     <p>
      Configure package:
     </p>
     <pre class="code">
      nano /etc/rc.conf
  syslogd_enable="YES"
  syslogd_flags="-ss
     </pre>
    </div>
    <h2 class="sectionedit64">
     <a id="bash_30_with_syslog-command_logging" name="bash_30_with_syslog-command_logging">
      Bash 3.0 with Syslog-command logging
     </a>
    </h2>
    <div class="level2">
     <p>
      I'd like to have record of all commands I type in my bash console. This will help recover from stupid mistakes as well as (very unlikely) have something to look into in case somebody succesfully compromised my PC. Locally stored logfiles arent really hard to modify for a hacker, I know..
The option I've found isn't perfect (allows thousands of ways around it), but it will do for the time being, and I will like its simplicity.
     </p>
     <p>
      Copy (with WinSCP for example) the file bash-3.0-syslog.patch to your FreeBSD installation.
     </p>
     <pre class="code">
      cd /usr/ports/shells/bash/
make
     </pre>
     <p>
      After the installation has downloaded, tested, extracted the files and has applied the patches, press CTRL-C when you see: " Configuring for bash-3.0.16_1", then
     </p>
     <pre class="code">
      cd /usr/ports/shells/bash/work/
patch &lt; /home/freebsd/bash-3.0-syslog.patch
./configure
make
make install
nano /etc/syslog.conf
  local5.info		/var/log/bash.log
touch /var/log/bash.log
killall -1 syslogd
exit
     </pre>
     <p>
      Re-login, and check /var/log/bash.log. It should show the last commands you have entered.
     </p>
    </div>
    <h2 class="sectionedit65">
     <a id="mrtg_multi_router_traffic_grapher" name="mrtg_multi_router_traffic_grapher">
      mrtg (Multi Router Traffic Grapher)
     </a>
    </h2>
    <div class="level2">
     <p>
      This is a tool to monitor the traffic load on network-links. I use it to see how much data goes through my DSL router (which supports SNMP, which is required for mrtg to work). My router doesn't have nice graphics on how much traffic it is sending to/receiving from the internet. mrtg checks every few minutes (using a cron-job) how much data has passes the router in either way (incoming &amp; outgoing traffic). It stores this data, and generates nice diagrams in .png format. Click for an &lt;
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      :example&gt;
If any computer on my network would be sending out spam continuously, or if I have neglected to set a upload-rate limit for my peer-to-peer sharing software, this will show up in the diagrams, as the amount of data sent to the internet will be much higher than normal.
     </p>
     <p>
      There is a windows application that can do much the same, it's called 'PRTG' (
      <a class="urlextern" href="http://www.paessler.com/prtg" rel="nofollow" title="http://www.paessler.com/prtg">
       http://www.paessler.com/prtg
      </a>
      ), you can download a 30-day trial version for free.
     </p>
     <p>
      My DSL router has 3 interfaces:
* 'ppp'-interface to connect to the internet (Point-to-Point-Protocol)
* 'ethernet'-interface (one interface, but 4 physical ethernet ports as it does some switching too)
* 'usb'-interface (which I don't use, and I won't include it in the 
configuration)
     </p>
     <p>
      The snmp-data required from the router is always from the view of the router (how the router sees it coming in/out).
What comes in on the ethernet-device (shown as incoming traffic on this device), goes out to the internet on the ppp-device (shown as outgoing traffic on this device).
I'll use the ppp-interface to gather my statistics from, and not the ethernet device, because this device will also count the few bytes to the router itself (web configuration, dhcp-traffic, snmp traffic), which would impurify the statistics a bit.
     </p>
     <pre class="code">
      pkg_add -r mrtg
     </pre>
     <p>
      As a regular user (non-root):
     </p>
     <pre class="code">
      mkdir ~/mrtg
cd ~/mrtg
./cfgmaker --global 'Workdir: /home/freebsd/mrtg' --global 'Options[_]: growright' --output /home/freebsd/mrtg.cfg 1.2.3.4
     </pre>
     <pre class="code">
      nano mrtg.cfg
  EnableIPv6: no
  Workdir: /home/freebsd/mrtg
  Options[_]: growright
     </pre>
     <pre class="code">
      Target[1.2.3.4_4]: 4:public@1.2.3.4:
  SetEnv[1.2.3.4_4]: MRTG_INT_IP="" MRTG_INT_DESCR="ppp-channel-1"
  MaxBytes[1.2.3.4_4]: 115920
  Title[1.2.3.4_4]: Traffic Analysis for 4 -- CopperJet RouterPlus
  PageTop[1.2.3.4_4]: &lt;H1&gt;Traffic Analysis for 4 -- CopperJet RouterPlus&lt;/H1&gt;
   &lt;TABLE&gt;
     &lt;TR&gt;&lt;TD&gt;System:&lt;/TD&gt;     &lt;TD&gt;CopperJet RouterPlus in Earth&lt;/TD&gt;&lt;/TR&gt;
     &lt;TR&gt;&lt;TD&gt;Maintainer:&lt;/TD&gt; &lt;TD&gt;info@allieddata.com&lt;/TD&gt;&lt;/TR&gt;
     &lt;TR&gt;&lt;TD&gt;Description:&lt;/TD&gt;&lt;TD&gt;ppp-channel-1  &lt;/TD&gt;&lt;/TR&gt;
     &lt;TR&gt;&lt;TD&gt;ifType:&lt;/TD&gt;     &lt;TD&gt;ppp (23)&lt;/TD&gt;&lt;/TR&gt;
     &lt;TR&gt;&lt;TD&gt;ifName:&lt;/TD&gt;     &lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;
     &lt;TR&gt;&lt;TD&gt;Max Speed:&lt;/TD&gt;  &lt;TD&gt;927.4 kbits/s&lt;/TD&gt;&lt;/TR&gt;
   &lt;/TABLE&gt;
     </pre>
     <p>
      Replace '1.2.3.4' with the ip-address of your snmp-capable router (or other device that supports snmp)
the "_4" is the device number of the ppp-interface on this device (yours might be different..)
     </p>
     <p>
      Now we're going to get mrtg to run every 5 minutes to gather the statistics from the router, and we'll use a cronjob for this task. Start the cronjob editor:
     </p>
     <pre class="code">
      crontab -e
     </pre>
     <p>
      Add the following line, replacing '/home/freebsd/mrtg/' with the location you've chosen to put the cfg file:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        /5     *       *       *       *       /usr/local/bin/mrtg /home/freebsd/mrtg/mrtg.cfg
       </div>
      </li>
     </ul>
     <p>
      <a class="urlextern" href="http://mkaz.com/ref/unix_cron.html" rel="nofollow" title="http://mkaz.com/ref/unix_cron.html">
       Here's a nice page on crontab / cron
      </a>
     </p>
    </div>
    <h1 class="sectionedit66">
     <a id="mail_server_configuration" name="mail_server_configuration">
      Mail server configuration
     </a>
    </h1>
    <div class="level1">
     <p>
      <a class="wikilink1" href="/my_freebsd_installation_and_configuration_guide/mailserver_configuration_with_postfix_courier-imap_procmail_spamassassin_clamav" title="mailserver_configuration_with_postfix_courier-imap_procmail_spamassassin_clamav">
       This section will show you how you can handle e-mail on your FreeBSD server.
It includes the Postfix mail transfer agent, ClamAV as a e-mail virusscanner, 
 SpamAssassin to detect SPAM, procmail to do advanced custom mail processing/sorting, 
 the courier IMAP / IMAPS server, the Squirrelmail webmail application, 
and a basic console e-mail reader (mutt).
      </a>
     </p>
     <p>
      The Postfix / Courier-
      <acronym title="Internet Message Access Protocol">
       IMAP
      </acronym>
      / clamsmtp/clamav / SpamAssassin / Procmail setup is pretty common.
     </p>
    </div>
    <h1 class="sectionedit67">
     <a id="x-windows_xorg" name="x-windows_xorg">
      X-Windows (xorg)
     </a>
    </h1>
    <div class="level1">
     <p>
      X-Windows is not required if you want to use your FreeBSD pc just for server tasks, and I suggest that you install X-Windows only if you want to use your FreeBSD machine as a workstation too.
      <a class="wikilink1" href="/my_freebsd_installation_and_configuration_guide/xorg_gnome-kde-office-mozilla" title="xorg_gnome-kde-office-mozilla">
       Installing xorg 7.2 on FreeBSD together with the Gnome and KDE desktop managers, Synergy, TightVNC, NVidia driver, Pidgin instant messaging (ICQ/MSN/...), Mozilla Thunderbird, Firefox, Last.FM radio/audioscrobbler
      </a>
      , and OpenOffice.org as a Microsoft Office alternative for
      <acronym title="Microsoft">
       MS
      </acronym>
      Word,
      <acronym title="Microsoft">
       MS
      </acronym>
      Excel, and other parts of the Microsoft Office Suite.
     </p>
    </div>
    <h1 class="sectionedit68">
     <a id="system_health" name="system_health">
      System health
     </a>
    </h1>
    <div class="level1">
     <p>
      virusscanner
smartmontools
file checksummer / integrety 
portaudit
monit applications/services/daemon checker
     </p>
    </div>
    <h2 class="sectionedit69">
     <a id="smartmontools" name="smartmontools">
      SmartMonTools
     </a>
    </h2>
    <div class="level2">
     <p>
      Tool to monitor hard disk health status on a regular basis, by using the SMART feature that is available on most modern harddisks.
     </p>
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://smartmontools.sourceforge.net" rel="nofollow" title="http://smartmontools.sourceforge.net">
       http://smartmontools.sourceforge.net
      </a>
     </p>
     <p>
      From /usr/ports/sysutils/smartmontools/pkg_descr:
      <code class="code html4strict">
       The smartmontools package contains two utility programs (smartctl and smartd)
to control and monitor storage systems using the Self-Monitoring, Analysis
and Reporting Technology System (S.M.A.R.T.) built into most modern ATA and
SCSI hard disks.  It is derived from the smartsuite package, and includes
support for ATA/ATAPI-5 disks.
      </code>
     </p>
     <pre class="code">
      cd /usr/ports/sysutils/smartmontools
make
make install
     </pre>
     <pre class="code">
      cp /usr/local/etc/smartd.conf.sample /usr/local/etc/smartd.conf
echo 'smartd_enable="YES"' &gt;&gt; /etc/rc.conf
nano /usr/local/etc/smartd.conf
     </pre>
     <p>
      Change the line:
      <code class="code html4strict">
       DEVICESCAN
      </code>
      to (.. and do not forget to change &lt;your_email_address&gt;..):
      <code class="code html4strict">
       DEVICESCAN -a -o on -S on -s (S/../.././02|L/../../6/03) -m
       <span class="sc2">
        &lt;your_email_address&gt;
       </span>
      </code>
     </p>
     <p>
      To start the smart monitoring tools (no reboot required):
     </p>
     <pre class="code">
      /usr/local/etc/rc.d/smartd start
     </pre>
     <p>
      Testing it:
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
     </p>
    </div>
    <h1 class="sectionedit70">
     <a id="network_connectivity1" name="network_connectivity1">
      Network connectivity
     </a>
    </h1>
    <div class="level1">
     <p>
      isc dhcp server
bind/named
bounce
trafshow
netcat
nmap
     </p>
    </div>
    <h1 class="sectionedit71">
     <a id="hardware_configuration" name="hardware_configuration">
      Hardware configuration
     </a>
    </h1>
    <div class="level1">
     <p>
      See also: brooktree tv card
     </p>
    </div>
    <h2 class="sectionedit72">
     <a id="soundcard_on_freebsd" name="soundcard_on_freebsd">
      Soundcard on FreeBSD
     </a>
    </h2>
    <div class="level2">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/sound-setup.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/sound-setup.html">
       http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/sound-setup.html
      </a>
     </p>
     <p>
      Let's start by trying the snd_driver kernel module, which is a 'wrapper' for all the available kernel sound modules:
     </p>
     <pre class="code">
      kldload snd_driver
     </pre>
     <p>
      Check which driver was eventually used:
     </p>
     <pre class="code">
      dmesg
     </pre>
     <p>
      Example output:
      <code class="code html4strict">
       ...
pcm0:
       <span class="sc2">
        &lt;VIA VT8237&gt;
       </span>
       port 0xe800-0xe8ff irq 22 at device 17.5 on pci0
pcm0:
       <span class="sc2">
        &lt;Avance Logic ALC850 AC97 Codec&gt;
       </span>
       pcm0:
       <span class="sc2">
        &lt;VIA DXS Enabled: DXS
        <span class="nu0">
         4
        </span>
        <span class="sy0">
         /
        </span>
        SGD
        <span class="nu0">
         1
        </span>
        <span class="sy0">
         /
        </span>
        REC
        <span class="nu0">
         1
        </span>
        &gt;
       </span>
      </code>
     </p>
     <p>
      Find out the correct driver name:
     </p>
     <pre class="code">
      cat /dev/sndstat
     </pre>
     <p>
      <code class="code html4strict">
       FreeBSD Audio Driver (newpcm)
Installed devices:
pcm0:
       <span class="sc2">
        &lt;VIA VT8237&gt;
       </span>
       at io 0xe800 irq 22 kld snd_via8233 (5p/1r/1v channels duplex default)
      </code>
      Look for snd_*, in my case the kernel module to use is snd_via8233 (on my other pc it's 'snd_ich')
Now I'll unload all drivers, and re-load only the correct one (for me that'll be snd_via8233, you should use the module name which we saw in the previous step):
     </p>
     <pre class="code">
      kldunload snd_driver
kldload snd_via8233
     </pre>
     <p>
      Test it:
Method 1: dumping some random noise to the soundcard:
     </p>
     <pre class="code">
      dd if=/dev/random of=/dev/audio0.0 bs=10K count=1
     </pre>
     <p>
      Method 2: playing a mp3 file (TODO: download link to mp3 file)
This requires mpg321 to be installed
     </p>
     <pre class="code">
      portinstall mpg321
mpg321 &lt;some_file.mp3&gt;
     </pre>
     <p>
      Have the correct module load on system startup (replace 'snd_via8233' with module name which we saw in the previous step):
     </p>
     <pre class="code">
      nano /boot/loader.conf
     </pre>
     <p>
      <code class="code html4strict">
       snd_via8233_load="YES"
      </code>
     </p>
     <p>
      Now you can install other music players, mp3blaster, xmms (if you're using X-windows)
     </p>
     <p>
      Optional:
Change the number of channels(?):
     </p>
     <pre class="code">
      sysctl hw.snd.pcm0.vchans=4
     </pre>
    </div>
    <h2 class="sectionedit73">
     <a id="dvd_cd_burning_with_freebsd" name="dvd_cd_burning_with_freebsd">
      DVD/CD Burning with FreeBSD
     </a>
    </h2>
    <div class="level2">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/creating-dvds.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/creating-dvds.html">
       http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/creating-dvds.html
      </a>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://networking.ringofsaturn.com/Unix/FreeBSD-Burning.php" rel="nofollow" title="http://networking.ringofsaturn.com/Unix/FreeBSD-Burning.php">
       http://networking.ringofsaturn.com/Unix/FreeBSD-Burning.php
      </a>
     </p>
     <p>
      Installation of burn software:
     </p>
     <pre class="code">
      cd /usr/ports/sysutils/cdrtools
make
make install

cd /usr/ports/sysutils/dvd+rw-tools
make
make install
     </pre>
     <p>
      If you are running X, you might want to try out 'K3b' which has a nicer
      <acronym title="Graphical User Interface">
       GUI
      </acronym>
     </p>
     <p>
      Another way (you might need to change the speed, or cd0 to cd1, depending on model &amp; how it's connected):
     </p>
     <pre class="code">
      growisofs -dvd-compat -speed=6 -Z /dev/cd0=&lt;/path/to/file.iso&gt;
     </pre>
     <p>
      <code class="code html4strict">
       Executing 'builtin_dd if=
       <span class="sc2">
        &lt;some_iso_file&gt;
       </span>
       of=/dev/pass0 obs=32k seek=0'
/dev/pass0: "Current Write Speed" is 6.1x1352KBps.
      32768/4196419584 ( 0.0%) @0.0x, remaining 12806:21 RBU 100.0% UBU 100.0%
      32768/4196419584 ( 0.0%) @0.0x, remaining 21343:55 RBU 100.0% UBU 100.0%
      32768/4196419584 ( 0.0%) @0.0x, remaining 27747:06 RBU 100.0% UBU 100.0%
      32768/4196419584 ( 0.0%) @0.0x, remaining 34150:17 RBU 100.0% UBU 100.0%
      32768/4196419584 ( 0.0%) @0.0x, remaining 42687:51 RBU 100.0% UBU 100.0%
      32768/4196419584 ( 0.0%) @0.0x, remaining 49091:01 RBU 100.0% UBU 100.0%
      32768/4196419584 ( 0.0%) @0.0x, remaining 55494:12 RBU 100.0% UBU 100.0%
    5111808/4196419584 ( 0.1%) @1.1x, remaining 409:57 RBU 100.0% UBU  50.5%
   30375936/4196419584 ( 0.7%) @5.5x, remaining 75:25 RBU 100.0% UBU  97.9%
   58195968/4196419584 ( 1.4%) @6.0x, remaining 42:39 RBU 100.0% UBU  97.9%
   86048768/4196419584 ( 2.1%) @6.0x, remaining 31:50 RBU 100.0% UBU  97.9%
  113901568/4196419584 ( 2.7%) @6.0x, remaining 25:41 RBU 100.0% UBU  97.9%
  141754368/4196419584 ( 3.4%) @6.0x, remaining 21:55 RBU 100.0% UBU  97.9%
  169607168/4196419584 ( 4.0%) @6.0x, remaining 19:47 RBU 100.0% UBU  97.4%
:-( unable to WRITE@LBA=14dc0h: Input/output error
:-( write failed: Input/output error
/dev/pass0: flushing cache
:-( unable to FLUSH CACHE: Input/output error
:-( unable to SYNCHRONOUS FLUSH CACHE: Input/output error
      </code>
     </p>
     <p>
      For cd-rom burning (no dvd-r, dvd+r, or dvd+-rw and such) you can use the free version of cdrecord. It doesn't do DVD media, at least, not in the free version.
Usage:
     </p>
     <pre class="code">
      cdrecord -v -multi -data speed=32 dev=1,1,0 &lt;/path/to/file.iso&gt;
     </pre>
     <p>
      '-v' means 'verbose', -multi  enables multi-session, -data =?
     </p>
     <p>
      Your 'dev'-line will likely be different, find out the correct values for your cd/dvd burner by entering:
     </p>
     <pre class="code">
      cdrecord -scanbus
     </pre>
     <p>
      Adjust the burn speed if needed, make sure you don't burn faster than your recordable/rewritable media is capable of.
     </p>
    </div>
    <h2 class="sectionedit74">
     <a id="dacal_dc-300" name="dacal_dc-300">
      DACAL DC-300
     </a>
    </h2>
    <div class="level2">
     <p>
      The 'DACAL DC-300 CD Library II' is a 150 cd-changer / jukebox system, with an USB connection for controlled ejecting/inserting disks (there is no cdrom device inside, it's just for catalogizing your cd collection)
The device comes with Windows drivers &amp; cd catalog software, and you can connect multiple Dacal DC300 units to another, allowing you to control/catalog/store more than 150 cd's.
The manufacturer does not provide drivers or support for Linux or FreeBSD/NetBSD/OpenBSD for its DC-300 unit.
     </p>
     <p>
      Manufacturer Product
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.dacal.com.tw/dc300.htm" rel="nofollow" title="http://www.dacal.com.tw/dc300.htm">
       http://www.dacal.com.tw/dc300.htm
      </a>
     </p>
     <p>
      I recently got some of these, as they were a lot cheaper than the 'Imation Disc Stakka' (a similar device, which just holds 100 disks). I also have 2 defective "Kubik Multiple CD-ROM 240 DISK CHANGER" -devices / -Jukebox units, which do have internal cd-rom drives (2 speed scsi cd-rom.. no dvd) waiting for extensive revisioning/upgrading.
     </p>
     <p>
      There are two tools for controlling the Dacal units, I'll start with the 
smallest one:
     </p>
     <p>
      There is a sourceforge project for a Linux changer control application, and it works on FreeBSD
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://sourceforge.net/projects/dacal" rel="nofollow" title="http://sourceforge.net/projects/dacal">
       http://sourceforge.net/projects/dacal
      </a>
      Make sure you've installed Linux compatibility &amp; Libusb (/usr/ports/devel/libusb), then download Dacal.c from 
Download
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://sourceforge.net/project/showfiles.php?group_id=115831&amp;package_id=125747&amp;release_id=383972" rel="nofollow" title="http://sourceforge.net/project/showfiles.php?group_id=115831&amp;package_id=125747&amp;release_id=383972">
       http://sourceforge.net/project/showfiles.php?group_id=115831&amp;package_id=125747&amp;release_id=383972
      </a>
     </p>
     <p>
      Now compile it (I've had to edit 'Dacal.c' and remove the line '#inculde &lt;malloc.h&gt;' before compiling):
     </p>
     <pre class="code">
      gcc Dacal.c -o Dacal -I/usr/local/include -L. -lnsl -lm -lc -L/usr/local/lib -lusb
     </pre>
     <p>
      or:
     </p>
     <pre class="code">
      gcc Dacal.c -o dacal -I/usr/local/include -L/usr/local/lib -lusb
     </pre>
     <p>
      Copy the created binary executable to a folder in your path:
     </p>
     <pre class="code">
      cp dacal /usr/local/bin
     </pre>
     <p>
      The website also provides a compile.sh script, but that didn't work for me:
     </p>
     <p>
      Let's see if it works, by using 'dacal' to scan for Dacal devices on the usb bus:
     </p>
     <pre class="code">
      dacal --list
     </pre>
     <p>
      <code class="code html4strict">
       Scanning for 'DACAL Co.' devices...
Scan complete. Found 2 devices.
Available 'DACAL Co.' devices:
Dev#    Bus     Device  DeviceID        Identifier
  1     /de     /de      9914   DACAL Co.
  2     /de     /de      9972   DACAL Co.
      </code>
      Test it, ejecting disk number 2 from my first Dacal device (having a device id 9914):
     </p>
     <pre class="code">
      dacal 9914 2
     </pre>
     <p>
      For re-inserting, use the same command with the same number as the one you used for ejecting.
     </p>
     <p>
      Method 2:
     </p>
     <p>
      I came acros
      <a class="urlextern" href="http://sourceforge.net/projects/libcdorganizer/" rel="nofollow" title="http://sourceforge.net/projects/libcdorganizer/">
       libcdorganizer
      </a>
      "control cd organizer devices with a plugin-based architecture. Currently supports Dacal DC-300 and KDS CDM-751". 
I've tried compiling the source, and days later somehow I ended up downloading FreeBSD-i386 binaries, which worked nicely:
Installation:
Go to the
      <a class="urlextern" href="http://sourceforge.net/project/showfiles.php?group_id=177574" rel="nofollow" title="http://sourceforge.net/project/showfiles.php?group_id=177574">
       download url for libcdorganizer
      </a>
      , and download the latest FreeBSD binaries for libcdorganizer, libcdorganizer-modules, and libcdorganizer-utilities.
     </p>
     <p>
      Extract the files:
     </p>
     <pre class="code">
      cd /
tar -jxvf &lt;?&gt;/libcdorganizer-freebsd-i386-2.1.1.tar.bz2
tar -zxvf &lt;?&gt;/libcdorganizer-utilities-freebsd-i386-2.1.0.tar.bz2
tar -zxvf &lt;?&gt;/libcdorganizer-modules-freebsd-i386-2.1.0.tar.bz2
     </pre>
     <pre class="code">
      /usr/local/bin/lcdoctl -p
     </pre>
     <p>
      <code class="code html4strict">
       dacalDC300 - Id = 10170
      </code>
      Use the Id value you get (here it is 10170, your will be different) for identiyfing the DACAL units. Every unit probably has an unique number, you might want to write it with a sticker on the device itself. Without the correct ID value, it will give the error "Could not find device by id: 4294967295"
     </p>
     <p>
      /usr/local/bin/lcdoctl -e 20 -d 10170
     </p>
     <p>
      Connecting more than one DACAL unit (daisy chaining them with USB cables) works too, you will see the unit id's of the other DACAL  units with the same 'lcdoctl -p' command.
     </p>
     <p>
      If ejecting or inserting the cd does not work (for example when something is mechanically blocking the ejector), the display of the DACAL unit will show a '505' (or SOS) code, which you can overcome
     </p>
     <p>
      Lets try to eject cd in the last slot (number 150, as slot numbering starts with 1, not with 0):
     </p>
     <pre class="code">
      /usr/local/bin/lcdoctl -e 150 -d 10170
     </pre>
     <p>
      Ejecting a disk when the ejector is already out won't work, and won't produce any error message.
The ejector will automatically retract/pull back  when idle for too long.
     </p>
     <p>
      Inserting the disk:
     </p>
     <pre class="code">
      /usr/local/bin/lcdoctl -i 0 -d 10170
     </pre>
     <p>
      The number (here 0) behind the '-i' parameer is just ignored by the utility, as the DC-300 only rotates its caroussel when ejecting.
     </p>
     <p>
      Maybe in the near future, I'll build a web interface for it, and attach it to my MySQL database.. throw in a slot-loading dvd-writer, and have 3(units)x 150(dvd-r)x 4.5GB = just enough storage (2000GB, or 2TB for short) for all my mp3 music files ;)
     </p>
     <p>
      By the way, I've disabled UHID  in the kernel, but can't confirm this 
step is required to 
get things working -
      <a class="urlextern" href="http://www.apcupsd.com/manual/USB_Configuration.html" rel="nofollow" title="http://www.apcupsd.com/manual/USB_Configuration.html">
       http://www.apcupsd.com/manual/USB_Configuration.html
      </a>
     </p>
    </div>
    <h2 class="sectionedit75">
     <a id="sis-pm_ctl" name="sis-pm_ctl">
      SIS-PM CTL
     </a>
    </h2>
    <div class="level2">
     <p>
      A few days ago, I've bought a Gembird SilverShield SIS-PM 4 socket USB 
controlled power outlet. It comes with a control application for Windows, but I've 
also seen a Linux application for controlling the 4 controllable 
power sockets on it. It's certainly not expensive: I've paid 
less than 30 euro for it. I didn't know for sure if I'd be able to get 
this Gembird SIS-PM working with FreeBSD, but I tried, and was 
succesfull (using Linux emulation).
     </p>
     <p>
      By the way, I've disabled UHID in the kernel, but can't confirm this step is required to get things working
     </p>
     <p>
      Linux tools are available at
      <a class="urlextern" href="http://sispmctl.sourceforge.net" rel="nofollow" title="http://sispmctl.sourceforge.net">
       http://sispmctl.sourceforge.net
      </a>
      using LibUSB). 
I've downloaded the most recent version at the sispmctl website
     </p>
     <p>
      Make sure you've installed LibUSB:
     </p>
     <pre class="code">
      cd /usr/ports/devel/libusb
make
make install
     </pre>
     <p>
      Compiling the Linux sispmctl tool:
     </p>
     <pre class="code">
      cd /usr/src
tar -zvxf sispmctl-2.4b.tar.gz
cd /usr/src/sispmctl-2.4b
./configure
cd /usr/src/sispmctl-2.4b/src
gcc sispm_ctl.c nethelp.c main.c socket.c -o sispm_ctl -I/usr/local/include -L/usr/local/lib -lusb
     </pre>
     <p>
      Test it (the next command enables power on the first socket)
     </p>
     <pre class="code">
      ./sispm_ctl -o 1
     </pre>
     <p>
      <code class="code html4strict">
       Accessing Gembird #0 USB device /dev/ugen0
Switched outlet 1 on
      </code>
      Switching socket number 1 off can be done with the parameter '-f 1'
     </p>
     <p>
      Read the safety instructions in the booklet provided with the device:
Maximum load current 10A. Don't switch high inductive loads, such as big 
motors, electric drills, washing machines. Personally I would not switch 
all sockets on at the same time, depending on the devices I've 
connected, and would leave a few seconds in between.
     </p>
     <p>
      references:
      <a class="urlextern" href="http://www.freebsd.de/archive/de-bsd-questions/de-bsd-questions.200606/0096.html" rel="nofollow" title="http://www.freebsd.de/archive/de-bsd-questions/de-bsd-questions.200606/0096.html">
       http://www.freebsd.de/archive/de-bsd-questions/de-bsd-questions.200606/0096.html
      </a>
      sispm_ctl.c:33:17: usb.h: No such file or directory
      <a class="urlextern" href="http://66.102.9.104/search?q=cache:BDrz7-Rs2MgJ:osdir.com/ml/lib.libusb.devel.general/2007-01/msg00038.html+freebsd+usb.h&amp;hl=nl&amp;ct=clnk&amp;cd=7&amp;gl=nl&amp;client=firefox-a" rel="nofollow" title="http://66.102.9.104/search?q=cache:BDrz7-Rs2MgJ:osdir.com/ml/lib.libusb.devel.general/2007-01/msg00038.html+freebsd+usb.h&amp;hl=nl&amp;ct=clnk&amp;cd=7&amp;gl=nl&amp;client=firefox-a">
       http://66.102.9.104/search?q=cache:BDrz7-Rs2MgJ:osdir.com/ml/lib.libusb.devel.general/2007-01/msg00038.html+freebsd+usb.h&amp;hl=nl&amp;ct=clnk&amp;cd=7&amp;gl=nl&amp;client=firefox-a
      </a>
      ?
     </p>
    </div>
    <h2 class="sectionedit76">
     <a id="external_usb_20_harddisk_drive" name="external_usb_20_harddisk_drive">
      External USB 2.0 harddisk drive
     </a>
    </h2>
    <div class="level2">
     <p>
      After installing my new kernel, it works without problems (the device requires that the jumper on the IDE harddisk is set to 'master'):
Plug it in, and check if it's detected by FreeBSD:
     </p>
     <pre class="code">
      dmesg
     </pre>
     <p>
      <code class="code html4strict">
       umass0: Genesyslogic USB Mass Storage Device, rev 2.00/0.33, addr 2
da0 at umass-sim0 bus 0 target 0 lun 0
da0:
       <span class="sc2">
        &lt;WDC WD20 00JB-00EVA0 0811&gt;
       </span>
       Fixed Direct Access SCSI-0 device
da0: 40.000MB/s transfers
da0: 190782MB (390721968 512 byte sectors: 255H 63S/T 24321C)
      </code>
     </p>
     <p>
      Creating a new mountpoint, and mount the device
     </p>
     <pre class="code">
      cd /mnt/
mkdir usb
mount /dev/da0&lt;tab key to use autocomplete&gt;
     </pre>
     <p>
      <code class="code html4strict">
       da0     da0s1   da0s1a  da0s1b  da0s1c  da0s1d  da0s1e  da0s1f  da0s2   da0s2c  da0s2d
      </code>
     </p>
     <pre class="code">
      mount /dev/da0s1a /mnt/usb
     </pre>
     <p>
      If the partition on the drive is FAT32, NTFS or Ext2FS you might need the '-t &lt;fstype&gt;'  parameter of mount, e.g.:
     </p>
     <pre class="code">
      mount -t msdosfs /dev/da0s2 /mnt/usb
     </pre>
     <p>
      (?) check for correctness
     </p>
    </div>
    <h1 class="sectionedit77">
     <a id="some_possibly_useful_scripts" name="some_possibly_useful_scripts">
      Some (possibly useful) scripts
     </a>
    </h1>
    <div class="level1">
     <p>
      Here are some scripts I regularly use to perform various tasks.
     </p>
     <p>
      Some basic shell scripting info at
      <a class="urlextern" href="http://www.hsrl.rutgers.edu/ug/shell_help.html" rel="nofollow" title="http://www.hsrl.rutgers.edu/ug/shell_help.html">
       How to write a shell script
      </a>
     </p>
    </div>
    <h2 class="sectionedit78">
     <a id="reboot_safety_protection_against_accidental_use" name="reboot_safety_protection_against_accidental_use">
      reboot safety protection against accidental use
     </a>
    </h2>
    <div class="level2">
     <p>
      I manage several servers remotely, and it happened to me, more than once, that I rebooted the wrong machine, because I didn't notice I was entering the command in the wrong terminal window.
So I came up with a small shell script, that will 'wrap around' the original reboot command, providing some protection against quick fingers by requiring the hostname to be entered as an extra parameter. This way, as a safety measure, I will have to enter 'reboot freebsd62' (replacing freebsd62 with the name of the host I want to reboot) instead of just 'reboot' to restart the machine.
As root:
     </p>
     <pre class="code">
      mv /sbin/reboot /sbin/reboot-unsafe
nano /sbin/reboot
     </pre>
     <p>
      <code class="code html4strict">
       #!/bin/sh
HOSTNAME=`hostname -s`
if [ "$1" = "$HOSTNAME" ]; then
 echo Now rebooting `hostname -s` $2 $3 $4 $5 $6 $7
 /sbin/reboot-unsafe $2 $3 $4 $5 $6 $7
 exit 127
fi
echo Safety lock for reboot, requiring hostname
echo "Usage: reboot [hostname] [extra parameters]"
echo "E.g:  reboot $HOSTNAME"
      </code>
     </p>
     <pre class="code">
      chmod ugo+rx /sbin/reboot
     </pre>
     <p>
      Test it (make sure you have no other large tasks running in the background, like kernel compiles that you better not abort):
     </p>
     <pre class="code">
      reboot
     </pre>
     <p>
      It shouldn't reboot, but just give you the syntax of the new reboot command.
     </p>
     <p>
      You can always use the old reboot command if you want to, by entering:
     </p>
     <pre class="code">
      reboot-unsafe
     </pre>
    </div>
    <h2 class="sectionedit79">
     <a id="ff_find-file" name="ff_find-file">
      ff (find-file)
     </a>
    </h2>
    <div class="level2">
     <p>
      Usage:
     </p>
     <pre class="code">
      ff &lt;i&gt;some-pattern&lt;/i&gt;
     </pre>
     <p>
      Will find files down the directory structure which have a filename containing '
      <em>
       some-pattern
      </em>
      '
     </p>
     <pre class="code">
      nano /bin/ff
     </pre>
     <p>
      <code class="code html4strict">
       #!/bin/sh
    find . -print | grep -i "$1"
      </code>
     </p>
     <pre class="code">
      chmod ugo+x /bin/ff
     </pre>
    </div>
    <h2 class="sectionedit80">
     <a id="forall" name="forall">
      forall
     </a>
    </h2>
    <div class="level2">
     <pre class="code">
      nano /bin/forall
     </pre>
     <p>
      <code class="code html4strict">
       #!/bin/sh
    if [ 1 = `expr 2 \&gt; $#` ]
    then
      echo Usage: $0 [directory] [command_to_run] [optional_arguments]
      echo Where [directory] is the directory containing the filenames you want to use as a parameter of [command_to_run]
      exit 1
    fi
    dir=$1
    shift
    find $dir -type f -print | xargs "$@"
      </code>
     </p>
     <pre class="code">
      chmod ugo+x /bin/forall
     </pre>
     <p>
      Example:
     </p>
     <pre class="code">
      forall /etc cat
     </pre>
     <p>
      Will run cat /etc/&lt;firstfile&gt;, cat /etc/&lt;nextfile&gt;, cat /etc/&lt;nextfile&gt;,  , cat /etc/&lt;lastfile&gt;
     </p>
    </div>
    <h2 class="sectionedit81">
     <a id="beep" name="beep">
      beep
     </a>
    </h2>
    <div class="level2">
     <p>
      Sometimes, you might want to have an audible beep coming from your pc's 
internal speaker to get your attention. You can use it in scripts you 
write, or wherever it suits you:
     </p>
     <p>
      nano /usr/local/bin/beep
      <code class="code html4strict">
       #!/bin/sh
/usr/bin/perl -e 'print "\a"'
      </code>
     </p>
     <p>
      There must be an even easier way for this.. haven't found it though.
(like /usr/ports/audio/beep .. but that requires 'device speaker' in the 
kernel, doesn't it? )
     </p>
    </div>
    <h1 class="sectionedit82">
     <a id="enhancing_security" name="enhancing_security">
      Enhancing security
     </a>
    </h1>
    <div class="level1">
     <p>
      Blocking
      <acronym title="Secure Shell">
       SSH
      </acronym>
      /
      <acronym title="File Transfer Protocol">
       FTP
      </acronym>
      access from IP's which repeatedly fail authentication for ssh, ftp,  (configurable):
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.fail2ban.org/wiki/index.php/ChangeLog" rel="nofollow" title="http://www.fail2ban.org/wiki/index.php/ChangeLog">
       http://www.fail2ban.org/wiki/index.php/ChangeLog
      </a>
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
     </p>
    </div>
    <h2 class="sectionedit83">
     <a id="putty_ssh-client" name="putty_ssh-client">
      PuTTY / SSH-client
     </a>
    </h2>
    <div class="level2">
     <p>
      To connect from a windows machine to this FreeBSD machine you will need a ssh-client. A good one is Putty.
I suggest you download the full installation package, as it will also include nice tools for key-management.
     </p>
     <p>
      To get putty to connect to a ssh-server (like the one our FreeBSD machine is running)
Go to  Start  Programs  Putty  PuTTYgen (the authentication-key generator)
Click on 'Generate' and follow the instructions. After a key has been created, you can optionally protect it with a password (so whenever this key is loaded in your authentication-key agent, this password is asked). Click on "save private key" and "save public key" to save both keys under meaningful names like: key_freebsd62-private.ppk and key_freebsd62-public.ppk (ppk file extension is needed for PuTTY agent).
     </p>
     <p>
      Read on with
      <a class="urlextern" href="http://the.earth.li/~sgtatham/putty/0.58/htmldoc/Chapter9.html" rel="nofollow" title="http://the.earth.li/~sgtatham/putty/0.58/htmldoc/Chapter9.html">
       http://the.earth.li/~sgtatham/putty/0.58/htmldoc/Chapter9.html
      </a>
      (chapter 8 too)
     </p>
     <p>
      You might notice there's a problem with the 'Home' and 'End' keys, they're just generating the '~'-character.
To fix this, enter:
     </p>
     <pre class="code">
      export TERM=linux
     </pre>
     <p>
      Add the same command to ~/.bash_profile, or ~/.bashrc, or ~/.profile, and everything.
     </p>
     <p>
      If the backspace key doesn't work as expected, there are a few ways to fix it.
      <a class="urlextern" href="http://unix.derkeiler.com/Mailing-Lists/FreeBSD/questions/2007-09/threads.html#01152" rel="nofollow" title="http://unix.derkeiler.com/Mailing-Lists/FreeBSD/questions/2007-09/threads.html#01152">
       http://unix.derkeiler.com/Mailing-Lists/FreeBSD/questions/2007-09/threads.html#01152
      </a>
      Fixing the backspace key can be done inside the putty configuration. In putty, click 'Change Settings'  Terminal  Keyboard
Here, set 'The Backspace key' to 'Control-H'. Save, re-login, and test.
     </p>
     <p>
      If connecting to your FreeBSD machine takes a long time, there might be a problem with reverse
      <acronym title="Domain Name System">
       DNS
      </acronym>
      lookups.
You can add the following line aftet the last line in /etc/ssh/sshd_config:
      <code class="code html4strict">
       UseDNS no
      </code>
      Which will disable
      <acronym title="Domain Name System">
       DNS
      </acronym>
      lookups.
You will have to restart OpenSSH for this to work.
     </p>
    </div>
    <h2 class="sectionedit84">
     <a id="password-less_login_with_ssh" name="password-less_login_with_ssh">
      Password-less login with ssh
     </a>
    </h2>
    <div class="level2">
     <p>
      If you have accounts on more than one server (e.g. ServerA and ServerB), it is possible to login from ServerA to ServerB, without having to enter a password. 
This is done by creating a key from the computer you are logging in -from- (ServerA), and adding this key to the .ssh/autorized_keys file in the homedir of the user account on the server you are logging in -to- (ServerB)
     </p>
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://wordpress.uberdose.com/unix/ssh-automatic-login.html" rel="nofollow" title="http://wordpress.uberdose.com/unix/ssh-automatic-login.html">
       http://wordpress.uberdose.com/unix/ssh-automatic-login.html
      </a>
     </p>
     <p>
      (Any comments from other professionals on my choice of rsa vs. dsa are welcome)
     </p>
     <p>
      Configure sshd to allow access based on private key authentication:
     </p>
     <pre class="code">
      nano /etc/ssh/sshd_config
     </pre>
     <p>
      <code class="code html4strict">
       #AuthorizedKeysFile     .ssh/authorized_keys
AuthorizedKeysFile     .ssh/authorized_keys
      </code>
     </p>
     <p>
      On ServerA, where &lt;freebsd_username_on_ServerA&gt; is the user that should get passwordless access to ServerB:
     </p>
     <pre class="code">
      su &lt;freebsd_username_on_ServerA&gt;
ssh-keygen -t rsa
     </pre>
     <p>
      <code class="code html4strict">
       Generating public/private rsa key pair.
Enter file in which to save the key (/home/
       <span class="sc2">
        &lt;freebsd_username_on_ServerA&gt;
       </span>
       /.ssh/id_rsa):  (just press enter)
Enter passphrase (empty for no passphrase):  (just press enter)
Enter same passphrase again:  (just press enter)
Your identification has been saved in /home/
       <span class="sc2">
        &lt;freebsd_username_on_ServerA&gt;
       </span>
       /.ssh/id_rsa.
Your public key has been saved in /home/
       <span class="sc2">
        &lt;freebsd_username_on_ServerA&gt;
       </span>
       /.ssh/id_rsa.pub.
The key fingerprint is:
35:c3:4c:89:cb:e5:08:13:d4:23:49:3f:07:c9:eb:d6
       <span class="sc2">
        &lt;freebsd_username_on_ServerA&gt;
       </span>
       @freebsd62.example.org
      </code>
     </p>
     <p>
      Now, the file .ssh/id_rsa.pub exists, and contains the public key, which we will copy to ServerB.
There are two ways to do this. Method 1: copy the file to ServerB with "scp", and then logging into the ServerB to add the contents of id_rsa.pub to .ssh/authorized_keys; Method 2, which I will use, uses cat &amp; ssh with a network pipe. cat sends the contents of id_rsa.pub to ssh trough a pipe, and on the ServerB side, cat is used again to add the key directly to the file .ssh/authorized_keys on ServerB:
     </p>
     <p>
      Make sure you are the correct user (use 'su' if you need to), then:
     </p>
     <pre class="code">
      cat ~/.ssh/id_rsa.pub | ssh &lt;ServerB&gt; -l &lt;username_on_ServerB&gt; 'cat &gt;&gt;.ssh/authorized_keys'
     </pre>
     <p>
      If this doesn't work, you can try the 'longer' method:
     </p>
     <pre class="code">
      scp ~/.ssh/id_rsa.pub &lt;username_on_ServerB&gt;@&lt;ServerB&gt;:~ 
ssh &lt;ServerB&gt; -l &lt;username_on_ServerB&gt; -C cat \~/id_rsa.pub \&gt;\&gt; \~/.ssh/authorized_keys
     </pre>
     <p>
      Test it:
     </p>
     <pre class="code">
      ssh &lt;ServerB&gt; -l &lt;username_on_ServerB&gt;
     </pre>
     <p>
      If you want to make a
      <acronym title="Secure Shell">
       SSH
      </acronym>
      connection from your Windows pc to your FreeBSD server, use PuTTY. If you don't want to enter your password everytime you connect to your FreeBSD machine, you can use the Pageant (Putty
      <acronym title="Secure Shell">
       SSH
      </acronym>
      authentication agent) application to remember your passwords and enter them for you. This application comes with the PuTTY Windows installer, which you can find on the
      <a class="urlextern" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html" rel="nofollow" title="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">
       PuTTY website
      </a>
      .
     </p>
     <p>
      Read the
      <a class="urlextern" href="http://the.earth.li/~sgtatham/putty/0.58/htmldoc/Chapter9.html" rel="nofollow" title="http://the.earth.li/~sgtatham/putty/0.58/htmldoc/Chapter9.html">
       PuTTY manual, Chapter 9
      </a>
      or follow
      <a class="urlextern" href="http://blog.danbartels.com/archive/2004/10/06/211.aspx" rel="nofollow" title="http://blog.danbartels.com/archive/2004/10/06/211.aspx">
       these PuTTY/PuTTYgen/PageAnt configuration instructions with nice screenshots
      </a>
      (skip the SourceForge related stuff, that's not required)
     </p>
     <p>
      You can create a shortcut of your .PPK file, and place it in the Start Menu  Startup folder, so your key gets loaded upon windows boot.
     </p>
    </div>
    <h2 class="sectionedit85">
     <a id="other" name="other">
      Other
     </a>
    </h2>
    <div class="level2">
     <p>
      Check which TCP sockets are listening:
     </p>
     <pre class="code">
      sockstat -4
     </pre>
     <p>
      Increasing security by disallowing normal users to list/enter root folder:
     </p>
     <pre class="code">
      chmod 700 /root
     </pre>
     <p>
      (this is about the same as 'chmod go-rx /root')
     </p>
     <p>
      Clear the /tmp folder on a regular basis:
/etc/rc.conf:
     </p>
     <pre class="code">
      clear_tmp_enable="YES"
     </pre>
     <p>
      Increasing security by disallowing normal users to see processes of other users:
     </p>
     <pre class="code">
      nano /etc/sysctl.conf
  security.bsd.see_other_uids=0
     </pre>
     <p>
      Increasing security by using Blowfish-encryption for passwords
      <a class="urlextern" href="http://www.bsdforen.de/showthread.php?t=2174" rel="nofollow" title="http://www.bsdforen.de/showthread.php?t=2174">
       http://www.bsdforen.de/showthread.php?t=2174
      </a>
     </p>
     <pre class="code">
      nano /etc/login.conf
  :	passwd_format=blf:\
     </pre>
     <p>
      (note: between ':' and 'p' is a TAB, not a space!)
Below :ignoretime@:\, add:
     </p>
     <pre class="code">
      :	idletime=30:\
     </pre>
     <p>
      Inactive users will be logged out after 30 minutes.
Rebuild login-database:
     </p>
     <pre class="code">
      cap_mkdb /etc/login.conf
     </pre>
     <p>
      Change root password:
     </p>
     <pre class="code">
      passwd
     </pre>
     <p>
      And for other users:
     </p>
     <pre class="code">
      passwd &lt;username&gt;
     </pre>
     <pre class="code">
      more /etc/master.passwd
     </pre>
     <p>
      Passwords should start with $2.
Change the adduser tool to Blowfish:
     </p>
     <pre class="code">
      nano /etc/auth.conf
  crypt_default=blf
     </pre>
    </div>
    <h2 class="sectionedit86">
     <a id="openvpn" name="openvpn">
      OpenVPN
     </a>
    </h2>
    <div class="level2">
     <p>
      A VPN (Virtual Private Network) allows users that are not directly connected to your network to 'log in' to your network from any location (e.g. over the internet) and use all network resources that are available to regular users that are directly connected you your network.
This VPN software works in Linux, FreeBSD and Windows. (v2.0.6)
     </p>
     <p>
      <a class="wikilink2" href="/my_freebsd_installation_and_configuration_guide/official_openvpn_site" rel="nofollow" title="official_openvpn_site">
       http://www.openvpn.net
      </a>
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://openvpn.net/bridge.html" rel="nofollow" title="http://openvpn.net/bridge.html">
       http://openvpn.net/bridge.html
      </a>
      (only windows and Linux examples)
      <br/>
      BEST for bridging:
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      <a class="urlextern" href="http://www.mired.org/home/mwm/papers/FreeBSD-OpenVPN-Bridging.html" rel="nofollow" title="http://www.mired.org/home/mwm/papers/FreeBSD-OpenVPN-Bridging.html">
       http://www.mired.org/home/mwm/papers/FreeBSD-OpenVPN-Bridging.html
      </a>
      <br/>
     </p>
     <p>
      Others, possibly old:
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.ubergeek.co.uk/howtos/openvpn-freebsd-pf-windows-howto.html" rel="nofollow" title="http://www.ubergeek.co.uk/howtos/openvpn-freebsd-pf-windows-howto.html">
       http://www.ubergeek.co.uk/howtos/openvpn-freebsd-pf-windows-howto.html
      </a>
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://openvpn.net/install.html" rel="nofollow" title="http://openvpn.net/install.html">
       http://openvpn.net/install.html
      </a>
      <br/>
      Windows
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      : OpenVPN
      <acronym title="Graphical User Interface">
       GUI
      </acronym>
      <a class="urlextern" href="http://openvpn.net/INSTALL-win32.html" rel="nofollow" title="http://openvpn.net/INSTALL-win32.html">
       http://openvpn.net/INSTALL-win32.html
      </a>
      <br/>
     </p>
     <p>
      Installation:
     </p>
     <pre class="code">
      portinstall security/openvpn
     </pre>
     <p>
      First decide if you need routing or bridging (
      <a class="urlextern" href="http://openvpn.net/howto.html#vpntype" rel="nofollow" title="http://openvpn.net/howto.html#vpntype">
       http://openvpn.net/howto.html#vpntype
      </a>
      )
I need 'bridiging', because (quote):
"you would like to allow browsing of Windows file shares across the VPN without setting up a Samba or WINS server."
     </p>
     <p>
      I've got a 10.0.0.0/255.0.0.0 private network. I know that all of the clients don't use the 10.*.*.* network, which is vital to avoid problems.
     </p>
     <p>
      server-bridge and secret cannot be used together  must use
      <acronym title="Secure Sockets Layer">
       SSL
      </acronym>
      /TLS keys)
      <a class="urlextern" href="http://openvpn.net/howto.html#pki" rel="nofollow" title="http://openvpn.net/howto.html#pki">
       http://openvpn.net/howto.html#pki
      </a>
      cp -R /usr/local/share/doc/openvpn/easy-rsa /home/&lt;my_freebsd_username&gt;
     </p>
     <p>
      Follow the instructions in the 'Creating Certificates'-section of this page:
      <a class="urlextern" href="http://www.ubergeek.co.uk/howtos/openvpn-freebsd-pf-windows-howto.html" rel="nofollow" title="http://www.ubergeek.co.uk/howtos/openvpn-freebsd-pf-windows-howto.html">
       http://www.ubergeek.co.uk/howtos/openvpn-freebsd-pf-windows-howto.html
      </a>
      Copy the resulting files: ca.crt, and the right clientXXX.crt/clientXXX.key file combination to the client's 'config' folder.
     </p>
     <p>
      Client configuration file:
     </p>
     <pre class="code">
      dev tap
remote vpnserver.example.org 1194

tls-client
ca ca.crt
cert sebastiaan.crt
key sebastiaan.key
     </pre>
     <p>
      WORK IN PROGRESS BELOW. DO NOT USE/COPY
     </p>
     <p>
      Configuration:
Edit /etc/rc.conf to have openvpn start on next boot, and to configure basic the type of network (routed/bridged, tun/tap)
     </p>
     <pre class="code">
      nano /etc/rc.conf
     </pre>
     <pre class="code">
      openvpn_enable="YES"  # YES or NO
openvpn_if="tun"
     </pre>
     <p>
      For a bridged network:
     </p>
     <pre class="code">
      cloned_interfaces="bridge0"
ifconfig_bridge0="addm rl1 up"
     </pre>
     <p>
      Edit the OpenVPN configuration files:
     </p>
     <pre class="code">
      mkdir /usr/local/etc/openvpn
nano /usr/local/etc/openvpn/openvpn.conf
     </pre>
     <p>
      Copy/paste the following configuration data:
     </p>
     <pre class="code">
     </pre>
     <p>
      Next, start the VPN server:
     </p>
     <pre class="code">
      /usr/local/etc/rc.d/openvpn start
     </pre>
     <p>
      Check which(udp or tcp) port numbers OpenVPN uses, and configure port forwarding on your router accordingly (port number 1194 or 5000?)
     </p>
     <p>
      If you have a working basic configuration, you might want to add bridging. Bridiging in FreeBSD is done differently than it is done in Linux.
      <a class="urlextern" href="http://www.shorewall.net/OPENVPN.html" rel="nofollow" title="http://www.shorewall.net/OPENVPN.html">
       http://www.shorewall.net/OPENVPN.html
      </a>
      or search on "openvpn freebsd bridge"
      <a class="urlextern" href="http://markun.onohara.to/2007/10/15/freebsd-62release-openvpn-20-b.html" rel="nofollow" title="http://markun.onohara.to/2007/10/15/freebsd-62release-openvpn-20-b.html">
       http://markun.onohara.to/2007/10/15/freebsd-62release-openvpn-20-b.html
      </a>
     </p>
    </div>
    <h1 class="sectionedit87">
     <a id="copying_freebsd_to_another_harddisk" name="copying_freebsd_to_another_harddisk">
      Copying FreeBSD to another harddisk
     </a>
    </h1>
    <div class="level1">
     <p>
      After you have installed FreeBSD, I'm going to show you how to copy the complete installation to another drive. This also works if you have created a virtual machine in VMware and want to copy the files to a real harddrive.
There are a few ways to do this:
     </p>
    </div>
    <h4>
     <a id="dd" name="dd">
      dd
     </a>
    </h4>
    <div class="level4">
     <p>
      The easiest is using 'dd'. This makes a 1:1 copy of harddisk-A to harddisk-B.
I think it's comparable with Norton Ghosts 'clone entire disk' function.
     </p>
     <p>
      It's best done in FreeBSD 'single user mode', to prevent data corruption.
Switch to single user mode (entering 'shutdown now' will do the trick), alternatively you can reboot, and at the boot prompt press the space bar.
You'll see the boot prompt:
      <code class="code html4strict">
       Type '?' for a list of commands, or 'help' for more detailed help
      </code>
      Enter:
     </p>
     <pre class="code">
      boot -s
     </pre>
     <p>
      <code class="code html4strict">
       Enter full pathname of shell or RETURN for /bin/sh:
      </code>
      Press the enter key and you will see the root prompt:
      <code class="code html4strict">
       #
      </code>
     </p>
     <p>
      WARNING: if you have the device names wrong (or if your mistakenly mix 'if' with 'of'), you will destroy the data on the original harddisk.
     </p>
     <pre class="code">
      dd if=/dev/ad0 of=/dev/ad1 bs=1M
     </pre>
     <p>
      if = where dd pulls the data from (remember 'i' as in 'IN')
of = where dd puts the data to (remember 'o' as in 'OUT')
bs = the blocksize, or how many bytes of data to read/write at once.
     </p>
     <p>
      Depending on the size of your 'from'-harddisk, and the read/write speeds, it will take a while to finish (and it won't tell you how long it takes)
Most harddisks nowadays are capable of 25MB/second writes or better. If your original harddisk is 80GB, it'll take less than an hour to finish.
     </p>
     <p>
      After copying is done, umount all partitions (by hand?), and shutdown your computer (so you can disconnect cables from the newly prepared harddisk)
     </p>
    </div>
    <h4>
     <a id="dump_restore" name="dump_restore">
      dump / restore
     </a>
    </h4>
    <div class="level4">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      (english):
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/backup-basics.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/backup-basics.html">
       http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/backup-basics.html
      </a>
      (
      <a class="urlextern" href="http://www.freebsd.org/doc/nl/books/handbook/backup-basics.html" rel="nofollow" title="http://www.freebsd.org/doc/nl/books/handbook/backup-basics.html">
       dutch version here
      </a>
      )
      <br/>
      <a class="urlextern" href="http://www.unixcities.com/howto/index.html" rel="nofollow" title="http://www.unixcities.com/howto/index.html">
       http://www.unixcities.com/howto/index.html
      </a>
      <br/>
      =
      <a class="urlextern" href="http://lantech.geekvenue.net/chucktips/jason/chuck/1004897633/index_html" rel="nofollow" title="http://lantech.geekvenue.net/chucktips/jason/chuck/1004897633/index_html">
       http://lantech.geekvenue.net/chucktips/jason/chuck/1004897633/index_html
      </a>
      <br/>
      Here is a good article on the subject
      <a class="urlextern" href="http://www.bsdguides.org/guides/freebsd/misc/migrate_harddrive.php" rel="nofollow" title="http://www.bsdguides.org/guides/freebsd/misc/migrate_harddrive.php">
       Migrating FreeBSD From One Harddrive To Another
      </a>
      . It's currently better than my text.
     </p>
     <p>
      To copy a prepared FreeBSD 6.2 installation to a new hard disk drive, first use the FreeBSD installation cdrom and install the base system on the new harddisk (create and mount the correct partitions!)
(to make sure you don't overwrite your existing installation and the the bootsector is written correctly, do this on another pc, or disconnect the harddisk with the fully prepared FreeBSD 6.2 installation, and connect the new hard disk drive instead)
Write down the device names of your partitions and where you've mounted them (e.g.: /dev/ad0s1a is mounted on '/', /dev/ad0s1d is mounted on '/usr', /dev/ad0s1e is mounted on '/var', /dev/ is swap)
     </p>
     <p>
      If you're done, connect both harddisks (and make sure that the 'full' one is booted from)
When FreeBSD has booted, mount the partitions of the second harddisk at /mnt/newroot/
The device names (/dev/ may differ, depending on how you've connected the new hardisk and how you've partitioned it.
     </p>
     <pre class="code">
      mount /dev/ad2s1a /mnt/newroot
mount /dev/ad2s1d /mnt/newroot/usr
mount /dev/ad2s1e /mnt/newroot/var
mount /dev/ad2s1f /mnt/newroot/tmp
     </pre>
     <p>
      You don't need to mount the swap partition.
     </p>
     <p>
      /sbin/dump -0uan -f - /usr | gzip -2 | ssh -c blowfish \
     </p>
     <pre class="code">
      &lt;username_on_target_machine&gt;@&lt;target_machine.example.org&gt; dd of=/mnt/&lt;large_storage_space_disk&gt;/dump-usr-&lt;sourcemachine_identifier&gt;.gz
DUMP: WARNING: should use -L when dumping live read-write filesystems!
 ls -al / | grep snap
  drwxrwxr-x   2 root  operator     512 Sep  4 01:47 .snap
chmod 0770 /.snap/
ls -al / | grep snap
  drwxrwx---   2 root  operator     512 Sep  4 01:47 .snap
     </pre>
     <p>
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
     </p>
     <pre class="code">
      dump -L ...
     </pre>
     <pre class="code">
      mkdir /mnt/root
mount /dev/ad2s1a /mnt/root
mkdir /mnt/root/var
mount /dev/ad2s1f /mnt/root/var
mkdir /mnt/root/var/maildir
mkdir /mnt/root/usr/local/www
mount /dev/ad2s1d /mnt/root/var/maildir
mount /dev/ad2s1e /mnt/root/var/www
?cd /dir; dump 0af - / | restore xf -
     </pre>
     <pre class="code">
      cd /mnt/root; dump -oaf - /var | restore xf -
cd /mnt/root/var; dump -oaf - /var | restore xf -
cp -Rp /var/www /mnt/root/var/www
     </pre>
     <pre class="code">
      umount /mnt/root/var/maildir
umount /mnt/root/var/www
umount /mnt/root/var
umount /mnt/root
reboot
     </pre>
    </div>
    <h1 class="sectionedit88">
     <a id="things_to_do_after_copying_all_to_a_new_harddisk" name="things_to_do_after_copying_all_to_a_new_harddisk">
      'Things to do' after copying all to a new harddisk
     </a>
    </h1>
    <div class="level1">
     <p>
      Remember that the copy of the disk you've just created contains a lot of security sensitive information: passwords (in different locations), private ssh-keys, mysql databases &amp; root password, and perhals even
      <acronym title="Secure Sockets Layer">
       SSL
      </acronym>
      certificates.
Make sure to change passwords, ssh-keys, and remove all other private stuff if you're using this disk copy to quickly setup another server!
.ssh
     </p>
     <p>
      If you'll be using this copy of your FreeBSD installation in another server, It's likely that some device names will change, for example, the name of the network interface changed from /dev/em0 to /dev/sk0 when I put the drive in another pc, so I had to edit /etc/rc.conf.
Edit /etc/rc.conf to correct the hostname and network settings too (and adjust /etc/hosts and /etc/resolv.conf too)
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Configure all ethernet ports, ip adresses, netmasks + other configs containing the old ip address, routers, dns servers, timeservers &amp;
        <acronym title="Internet Service Provider">
         ISP
        </acronym>
        -smtp-servers.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Note all hosts, printers, routers, etc in /etc/hosts with correct ip. Making notes of the MAC-addresses will help you in the future if you want to set up
        <acronym title="Dynamic Host Configuration Protocol">
         DHCP
        </acronym>
        or for problem locating.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Adjust backups scripts to new data locations.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Change the passwords for root and the existing users, both 'normal' password entries, and entries in /usr/local/userdb (and run the correct update utility)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Generate new
        <acronym title="Secure Shell">
         SSH
        </acronym>
        keys.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Install the correct site certificates for
        <acronym title="Secure Sockets Layer">
         SSL
        </acronym>
        and IMAPS. (or remove them)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        mutt e-mail reader configuration (stored passwords and servers in muttrc)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        postfix aliases aanpassen / fetchmail pop3-retreival configuration / procmail recipes
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Updat the ports-tree: 'portsnap update'
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Check installed ports and packages for security issued: 'portaudit -Fda'
       </div>
      </li>
      <li class="level1">
       <div class="li">
        ntpd -gq
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Check clamav-freshclam.sh (check if the antivirus definitions are updated periodically)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Protect phpMyAdmin with .htaccess passwords.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Setup the firewall
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Scripts monitoring all services, tools for restarting services
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Install real
        <acronym title="Secure Sockets Layer">
         SSL
        </acronym>
        certificates
       </div>
      </li>
      <li class="level1">
       <div class="li">
        limit MySQL access to specific IP's
       </div>
      </li>
     </ul>
     <p>
      <a class="urlextern" href="http://debian.chains.ch/chroot/chroot.html" rel="nofollow" title="http://debian.chains.ch/chroot/chroot.html">
       http://debian.chains.ch/chroot/chroot.html
      </a>
      <a class="urlextern" href="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm" rel="nofollow" title="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm">
       http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm
      </a>
      <a class="urlextern" href="http://fuse4bsd.creo.hu/localcgi/man-cgi.cgi?mount_nullfs+8" rel="nofollow" title="http://fuse4bsd.creo.hu/localcgi/man-cgi.cgi?mount_nullfs+8">
       http://fuse4bsd.creo.hu/localcgi/man-cgi.cgi?mount_nullfs+8
      </a>
     </p>
    </div>
    <h1 class="sectionedit89">
     <a id="backup_with_freebsd" name="backup_with_freebsd">
      Backup with FreeBSD
     </a>
    </h1>
    <div class="level1">
     <p>
      See also: rsync
     </p>
     <p>
      Demands:
     </p>
     <ol>
      <li class="level1">
       <div class="li">
        Harddisk based backup (but in the future I want to use dvd-disks)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        FreeBSD/Linux/Windows* compatible, one tool for all os's
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Network based (over the internet to another location)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        transmitting only the file differences during backups, preserving bandwidth
       </div>
      </li>
      <li class="level1">
       <div class="li">
        detecting file renames / moves (by file checksum?), so preserving diskspace
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Diskspace conservative: no backupped file should be more than once in the backup
       </div>
      </li>
      <li class="level1">
       <div class="li">
        A Daily incremental backup should take less than 24hours :)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Verify-backup functionality (SHA1-hash?)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Ease of restore
       </div>
      </li>
      <li class="level1">
       <div class="li">
        No 'fatal backup-errors' when I haven't used my laptop (which is supposed to be backuped every day) for a few days
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Possibility to make 4.7GB big backup files that can be backed up to DVD.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Possibility to restore older versions of a file than the last backed-up
       </div>
      </li>
     </ol>
     <p>
      Backup system using hardlinks:
      <a class="urlextern" href="http://www.tim-bormann.de/index.php?section=134" rel="nofollow" title="http://www.tim-bormann.de/index.php?section=134">
       http://www.tim-bormann.de/index.php?section=134
      </a>
      <a class="urlextern" href="http://www.weak.org/pipermail/buug/2007-February/002890.html" rel="nofollow" title="http://www.weak.org/pipermail/buug/2007-February/002890.html">
       http://www.weak.org/pipermail/buug/2007-February/002890.html
      </a>
     </p>
     <p>
      Rdiff-backup:
      <a class="urlextern" href="http://solutionsfirst.com.au/~dave/backup/" rel="nofollow" title="http://solutionsfirst.com.au/~dave/backup/">
       http://solutionsfirst.com.au/~dave/backup/
      </a>
      <a class="urlextern" href="http://katastrophos.net/andre/blog/?p=19" rel="nofollow" title="http://katastrophos.net/andre/blog/?p=19">
       http://katastrophos.net/andre/blog/?p=19
      </a>
      <a class="urlextern" href="http://www.nongnu.org/rdiff-backup/old-list-archive/2002-February/000066.html" rel="nofollow" title="http://www.nongnu.org/rdiff-backup/old-list-archive/2002-February/000066.html">
       http://www.nongnu.org/rdiff-backup/old-list-archive/2002-February/000066.html
      </a>
      <a class="urlextern" href="http://pycs.net/lateral/stories/26.html" rel="nofollow" title="http://pycs.net/lateral/stories/26.html">
       http://pycs.net/lateral/stories/26.html
      </a>
     </p>
     <p>
      Unison:
      <a class="urlextern" href="http://www.cis.upenn.edu/~bcpierce/unison/" rel="nofollow" title="http://www.cis.upenn.edu/~bcpierce/unison/">
       http://www.cis.upenn.edu/~bcpierce/unison/
      </a>
      <a class="urlextern" href="http://web.bii.a-star.edu.sg/~francis/Unison/" rel="nofollow" title="http://web.bii.a-star.edu.sg/~francis/Unison/">
       http://web.bii.a-star.edu.sg/~francis/Unison/
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://support.zeus.com/zws/integration/2005/12/14/apache_mp3" rel="nofollow" title="http://support.zeus.com/zws/integration/2005/12/14/apache_mp3">
       http://support.zeus.com/zws/integration/2005/12/14/apache_mp3
      </a>
     </p>
     <p>
      Bacula
     </p>
     <p>
      pkg_add -r lynx
pkg_add -r ncftp
     </p>
     <p>
      $ perl -MCPAN -e shell
Are you ready for manual configuration? [yes]
CPAN build and cache directory? [/root/.cpan]
Cache size for build directory (in
      <acronym title="Megabyte">
       MB
      </acronym>
      )? [10]
Perform cache scanning (atstart or never)? [atstart]
Cache metadata (yes/no)? [yes]
Your terminal expects
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      -8859-1 (yes/no)? [yes]
File to save your history? [/root/.cpan/histfile]
Number of lines to save? [100]
Policy on building prerequisites (follow, ask or ignore)? [ask]
Where is your gzip program? [/usr/bin/gzip]
Where is your tar program? [/usr/bin/tar]
Where is your unzip program? [/usr/local/bin/unzip]
Where is your make program? [/usr/bin/make]
Where is your lynx program? [] /usr/local/bin/lynx
Where is your wget program? [/usr/local/bin/wget]
Warning: ncftpget not found in PATH
Where is your ncftpget program? []
Where is your ncftp program? [] /usr/local/bin/ncftp
Where is your ftp program? [/usr/bin/ftp]
Where is your gpg program? [/usr/local/bin/gpg]
What is your favorite pager program? [more]
What is your favorite shell? [/usr/local/bin/bash]
Your choice:  []
Your choice:  []
Your choice:  []
Timeout for inactivity during Makefile.PL? [0]
Your ftp_proxy?
Your http_proxy?
Your no_proxy?
Select your continent (or several nearby continents) [] 4
Select your country (or several nearby countries) [] 21
.. (4)
      <a class="urlextern" href="ftp://ftp.cpan.nl/pub/CPAN/" rel="nofollow" title="ftp://ftp.cpan.nl/pub/CPAN/">
       ftp://ftp.cpan.nl/pub/CPAN/
      </a>
      ..
Select as many URLs as you like (by number), put them on one line, separated by blanks, e.g. '1 4 5' []
Enter another
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      or RETURN to quit: []
install Apache::
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
     </p>
     <p>
      <a class="urlextern" href="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm" rel="nofollow" title="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm">
       http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm
      </a>
     </p>
     <pre class="code">
      cd /usr/local/etc/apache22/
nano httpd.conf
     </pre>
     <p>
      <code class="code html4strict">
       AddType audio/mpeg     mp3 MP3
AddType audio/playlist m3u M3U
AddType audio/x-scpls  pls PLS
AddType application/x-ogg ogg OGG
       <span class="sc2">
        &lt;Location
        <span class="sy0">
         /
        </span>
        songs&gt;
       </span>
       SetHandler perl-script
PerlHandler Apache::MP3
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        Location&gt;
       </span>
      </code>
     </p>
     <p>
      <code class="code html4strict">
       # Or use the Apache::MP3::Sorted subclass to get sortable directory listings
       <span class="sc2">
        &lt;Location
        <span class="sy0">
         /
        </span>
        songs&gt;
       </span>
       SetHandler perl-script
   PerlHandler Apache::MP3::Sorted
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        Location&gt;
       </span>
      </code>
      mount_nullfs /mnt/muziek/ /var/www/example.org/songs/
     </p>
     <p>
      - Unsatisfied dependencies detected during [L/LD/LDS/Apache-
      <acronym title="Motion Picture Experts Group Layer 3">
       MP3
      </acronym>
      -4.00.tar.gz] 
     </p>
     <pre class="code">
      CGI::Session
  Apache2::RequestRec
  Audio::Wav
  MP3::Info
  Inline::MakeMaker
  Ogg::Vorbis::Header
     </pre>
     <p>
      Shall I follow them and prepend them to the queue
of modules we are processing right now? [yes]
     </p>
     <p>
      Please provide a full path to 'apxs' executable
(press Enter if you don't have it installed):
Please provide the location of the Apache directory:
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      /usr/local/share/apache22/
     </p>
     <p>
      Do you want to install Inline::C? [y]
     </p>
     <p>
      Shall I  [y]
     </p>
     <p>
      named, rc.conf hostname + te starten apps
     </p>
     <p>
      <a class="urlextern" href="http://www.nongnu.org/rdiff-backup/examples.html" rel="nofollow" title="http://www.nongnu.org/rdiff-backup/examples.html">
       http://www.nongnu.org/rdiff-backup/examples.html
      </a>
      <a class="urlextern" href="http://www.nongnu.org/rdiff-backup/rdiff-backup.1.html" rel="nofollow" title="http://www.nongnu.org/rdiff-backup/rdiff-backup.1.html">
       http://www.nongnu.org/rdiff-backup/rdiff-backup.1.html
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm" rel="nofollow" title="http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm">
       http://search.cpan.org/~lds/Apache-MP3-4.00/MP3.pm
      </a>
      <a class="urlextern" href="http://perl.apache.org/docs/2.0/user/intro/start_fast.html" rel="nofollow" title="http://perl.apache.org/docs/2.0/user/intro/start_fast.html">
       http://perl.apache.org/docs/2.0/user/intro/start_fast.html
      </a>
      <a class="urlextern" href="http://httpd.apache.org/docs/2.0/mod/mod_dav.html" rel="nofollow" title="http://httpd.apache.org/docs/2.0/mod/mod_dav.html">
       http://httpd.apache.org/docs/2.0/mod/mod_dav.html
      </a>
     </p>
     <p>
      find . -mtime +1  # find files modified more than 48 hours ago
     </p>
     <p>
      Directories to backup:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        /etc
       </div>
      </li>
      <li class="level1">
       <div class="li">
        /usr/local/etc
       </div>
      </li>
      <li class="level1">
       <div class="li">
        homedirs of some users, including /root, especially:
       </div>
       <ul>
        <li class="level2">
         <div class="li">
          Firefox favorites (probably in homedir)
         </div>
        </li>
        <li class="level2">
         <div class="li">
          ~/.procmailrc mail delivery recipes
         </div>
        </li>
        <li class="level2">
         <div class="li">
          ~/.bashrc
         </div>
        </li>
       </ul>
      </li>
      <li class="level1">
       <div class="li">
        /var/named/etc/named
       </div>
      </li>
      <li class="level1">
       <div class="li">
        /var/www (including this document)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        /var/maildir, or any other place where I store e-mail.
       </div>
      </li>
      <li class="level1">
       <div class="li">
        /boot.config
       </div>
      </li>
      <li class="level1">
       <div class="li">
        /boot/loader.conf
       </div>
      </li>
      <li class="level1">
       <div class="li">
        /usr/src/sys/i386/conf/  (kernel configuration for i386 architecture)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        documents, notes,
       </div>
      </li>
     </ul>
     <p>
      <a class="urlextern" href="http://www.freebsddiary.org/bacula-tls.php" rel="nofollow" title="http://www.freebsddiary.org/bacula-tls.php">
       http://www.freebsddiary.org/bacula-tls.php
      </a>
      <br/>
      <a class="urlextern" href="http://www.devco.net/pubwiki/Bacula/TLS/" rel="nofollow" title="http://www.devco.net/pubwiki/Bacula/TLS/">
       http://www.devco.net/pubwiki/Bacula/TLS/
      </a>
      <br/>
     </p>
    </div>
    <h3 class="sectionedit90">
     <a id="bacula" name="bacula">
      bacula
     </a>
    </h3>
    <div class="level3">
     <p>
      WORK IN PROGRESS
     </p>
     <p>
      cd /usr/ports/sysutils/bacula-client/work/bacula-2.0.3/src/cats
nano ./grant_mysql_privileges
change:
     </p>
     <pre class="code">
      bindir=
     </pre>
     <p>
      into:
     </p>
     <pre class="code">
      bindir=/usr/local/bin
     </pre>
     <p>
      Save, exit, and:
./grant_mysql_privileges -p
      <code class="code html4strict">
       ...
Privileges for bacula granted.
      </code>
     </p>
     <p>
      same edit with next files, then:
$ ./create_mysql_database -p
Enter password:
Creation of bacula database succeeded.
     </p>
     <p>
      $ ./make_mysql_tables -p
Enter password:
Creation of Bacula MySQL tables succeeded.
     </p>
     <p>
      <a class="urlextern" href="http://www.onlamp.com/pub/a/onlamp/2004/01/09/bacula.html?page=2" rel="nofollow" title="http://www.onlamp.com/pub/a/onlamp/2004/01/09/bacula.html?page=2">
       http://www.onlamp.com/pub/a/onlamp/2004/01/09/bacula.html?page=2
      </a>
      The FreeBSD port creates this user and group for you
     </p>
     <pre class="code">
      cd /usr/ports/sysutils/bacula-server
make
make install
cd /usr/ports/sysutils/bacula-client
make
make install
     </pre>
     <pre class="code">
      cd /usr/local/etc/
cp bacula-dir.conf.sample bacula-dir.conf
cp bacula-fd.conf.sample bacula-fd.conf
cp bacula-sd.conf.sample bacula-sd.conf
     </pre>
     <p>
      To start the bacula daemons on a FreeBSD system, issue the following command:
     </p>
     <pre class="code">
      /usr/local/etc/rc.d/bacula.sh start
     </pre>
     <p>
      To confirm they are all running:
     </p>
     <pre class="code">
      ps auwx | grep bacula
     </pre>
     <p>
      <code class="code html4strict">
       root 63416 0.0 0.3 2040 1172 ?? Ss 4:09PM 0:00.01 /usr/local/sbin/bacula-sd -v -c /usr/local/etc/bacula-sd.conf
root 63418 0.0 0.3 1856 1036 ?? Ss 4:09PM 0:00.00 /usr/local/sbin/bacula-fd -v -c /usr/local/etc/bacula-fd.conf
root 63422 0.0 0.4 2360 1440 ?? Ss 4:09PM 0:00.00 /usr/local/sbin/bacula-dir -v -c /usr/local/etc/bacula-dir.conf
      </code>
     </p>
     <p>
      echo 'bacula=yes'  /etc/rc.conf
echo 'baculadir=yes'  /etc/rc.conf
echo 'baculasd=yes'  /etc/rc.conf
echo 'baculafd=yes'  /etc/rc.conf
     </p>
     <p>
      bacula conf:
     </p>
     <p>
      Pool {
     </p>
     <pre class="code">
      Maximum Volume Jobs = 8
Recycle = yes: na 8 backup-sessies? mag er begonnen worden met het opnieuw herbruiken van de 1e volume
RunBeforeJob = "/sbin/mount -o softdep,noatime /dev/sd4a /mnt/sd4a/"
RunAfterJob = "/sbin/umount /dev/sd4a"
Max Start Delay: uren dat gewacht moet worden na het niet kunnen bereiken van een fs totdat er een error verstuurd wordt.
Write Bootstrap: schrijf metadata ook naar fd
Pool Type = Backup
Accept Any Volume = yes
AutoPrune = yes
     </pre>
     <p>
      Mailserver Address
     </p>
     <p>
      <a class="urlextern" href="http://www.bacula.org/dev-manual/Conf-Diagram.png" rel="nofollow" title="http://www.bacula.org/dev-manual/Conf-Diagram.png">
       http://www.bacula.org/dev-manual/Conf-Diagram.png
      </a>
     </p>
    </div>
    <h2 class="sectionedit91">
     <a id="rsync" name="rsync">
      Rsync
     </a>
    </h2>
    <div class="level2">
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://samba.anu.edu.au/rsync/" rel="nofollow" title="http://samba.anu.edu.au/rsync/">
       http://samba.anu.edu.au/rsync/
      </a>
      Highly optimized file synchronization tool (network capable), transmits only the difference of the files (saving bandwidth &amp; time)
     </p>
     <p>
      Install package:  (version 2.6.6)
     </p>
     <pre class="code">
      pkg_add -r rsync
     </pre>
     <p>
      <a class="wikilink2" href="/my_freebsd_installation_and_configuration_guide/rsync_tips_tricks" rel="nofollow" title="rsync_tips_tricks">
       http://sial.org/howto/rsync/
      </a>
     </p>
     <p>
      I found out it's not a good idea to backup your maildir with rsync:
# Mail comes in (and gets backed up)
# You read it (the filename changes to mark it as 'seen', and the new 
file gets backed up)
# You move it to another folder (and guess.. it gets backed up again).
So almost every mail that comes in, is read, and gets sorted is 
therefore backed up 3 times!
     </p>
     <p>
      <a class="urlextern" href="http://www.linjection.org/download_linux_videos_mp3.html" rel="nofollow" title="http://www.linjection.org/download_linux_videos_mp3.html">
       http://www.linjection.org/download_linux_videos_mp3.html
      </a>
      Has a link to an mp3 of 'the rsync algorithm'
     </p>
     <p>
      to prevent rsync 'file has vanished' error messages:
      <a class="urlextern" href="http://samba.anu.edu.au/rsync/FAQ.html#10" rel="nofollow" title="http://samba.anu.edu.au/rsync/FAQ.html#10">
       http://samba.anu.edu.au/rsync/FAQ.html#10
      </a>
     </p>
    </div>
    <h2 class="sectionedit92">
     <a id="bounce" name="bounce">
      Bounce
     </a>
    </h2>
    <div class="level2">
     <p>
      This tool can forward incoming TCP or UDP network connections to another host/port.
Usefull if you want to redirect traffic from one port to another, or to another host.
There are firewall rules to do this, but sometimes I find it easier to use 'bounce'.
     </p>
     <p>
      Install package:  (version 1.0)
     </p>
     <pre class="code">
      pkg_add -r bounce
     </pre>
     <p>
      Usage: to divert traffic coming in on port 25 to another_host:25, use:
     </p>
     <pre class="code">
      bounce -p 25 another_host.example.org 25
     </pre>
     <p>
      Optional: add this command to /etc/rc.local to start it automatically when booting.
     </p>
    </div>
    <h2 class="sectionedit93">
     <a id="java_2_on_freebsd_v15" name="java_2_on_freebsd_v15">
      Java 2 on FreeBSD (v1.5)
     </a>
    </h2>
    <div class="level2">
     <p>
      New link,
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.freebsdfoundation.org/downloads/java.shtml" rel="nofollow" title="http://www.freebsdfoundation.org/downloads/java.shtml">
       http://www.freebsdfoundation.org/downloads/java.shtml
      </a>
      <a class="urlextern" href="http://www.freshports.org/search.php?query=diablo&amp;search=go&amp;num=10&amp;stype=name&amp;method=match&amp;deleted=excludedeleted&amp;start=1&amp;casesensitivity=caseinsensitive" rel="nofollow" title="http://www.freshports.org/search.php?query=diablo&amp;search=go&amp;num=10&amp;stype=name&amp;method=match&amp;deleted=excludedeleted&amp;start=1&amp;casesensitivity=caseinsensitive">
       http://www.freshports.org/search.php?query=diablo&amp;search=go&amp;num=10&amp;stype=name&amp;method=match&amp;deleted=excludedeleted&amp;start=1&amp;casesensitivity=caseinsensitive
      </a>
     </p>
     <p>
      stuff below is older:
     </p>
     <p>
      When running java, I got an error message (but the program runs without noticable problems):
      <code class="code html4strict">
       Java HotSpot(TM) Client VM warning: Can't detect initial thread stack location
      </code>
      Solution:
     </p>
     <pre class="code">
      mount -t linprocfs linprocfs /compat/linux/proc
     </pre>
     <p>
      or, add the following line to /etc/fstab:
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
     </p>
     <p>
      Not so good alternative, not tested:
      <a class="urlextern" href="http://www.sun.com/software/java2/download.html" rel="nofollow" title="http://www.sun.com/software/java2/download.html">
       http://www.sun.com/software/java2/download.html
      </a>
      follow the instructions on this page for downloading the three required files to /usr/ports/distfiles
     </p>
     <pre class="code">
      cd /usr/ports/java/jdk15
make
     </pre>
     <p>
      Warning: this will install X-Windows too.
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
     </p>
    </div>
    <h2 class="sectionedit94">
     <a id="pstree" name="pstree">
      pstree
     </a>
    </h2>
    <div class="level2">
     <p>
      This tool will show a overview of the running processes in a structured tree. This way you can see which process has started another process, etc.
portinstall -P pstree
      <a class="urlextern" href="http://forum.java.sun.com/thread.jspa?threadID=542672&amp;messageID=2634141" rel="nofollow" title="http://forum.java.sun.com/thread.jspa?threadID=542672&amp;messageID=2634141">
       http://forum.java.sun.com/thread.jspa?threadID=542672&amp;messageID=2634141
      </a>
     </p>
     <p>
      sysutils/pstree
     </p>
     <p>
      portinstall -P pstree
     </p>
    </div>
    <h2 class="sectionedit95">
     <a id="crypt-filesystem" name="crypt-filesystem">
      Crypt-FileSystem
     </a>
    </h2>
    <div class="level2">
     <p>
      I'd rather have TrueCrypt working on FreeBSD..
Some people are working on
      <a class="urlextern" href="http://groups.google.com/group/lucky.freebsd.ports/browse_thread/thread/45cdf5ac3cecfaaf" rel="nofollow" title="http://groups.google.com/group/lucky.freebsd.ports/browse_thread/thread/45cdf5ac3cecfaaf">
       patches for TrueCrypt 5.0 on FreeBSD 7.0 PRERELEASE/RC2
      </a>
      , but I wouldn't yet recommend to use it on stable machines, as there were some
      <a class="urlextern" href="http://lists.freebsd.org/pipermail/freebsd-ports/2008-February/046803.html" rel="nofollow" title="http://lists.freebsd.org/pipermail/freebsd-ports/2008-February/046803.html">
       stability issues
      </a>
      . (which may of course be fixed at the time you're reading this.
     </p>
     <p>
      In the meantime, here is another way to use encryption with the use of CFS (Cryptographic FileSystem):
     </p>
     <p>
      Quick start instructions:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        add the following entry to /etc/exports:
       </div>
      </li>
     </ul>
     <pre class="code">
      /usr/local/cfsd-bootstrap localhost
     </pre>
     <ul>
      <li class="level1">
       <div class="li">
        create the default CFS mountpoint (if you want to use a different
       </div>
      </li>
     </ul>
     <p>
      mountpoint, set the cfsd_mountpoint variable in /etc/rc.conf):
     </p>
     <pre class="code">
      mkdir /crypt
     </pre>
     <ul>
      <li class="level1">
       <div class="li">
        enable rpcbind, mountd and cfsd in /etc/rc.conf:
       </div>
      </li>
     </ul>
     <ul>
      <li class="level1">
       <div class="li">
        FreeBSD 4.x:
       </div>
      </li>
     </ul>
     <pre class="code">
      portmap_enable="YES"
    single_mountd_enable="YES"
    cfsd_enable="YES"
     </pre>
     <ul>
      <li class="level1">
       <div class="li">
        FreeBSD 5.x:
       </div>
      </li>
     </ul>
     <pre class="code">
      mountd_enable="YES"
    cfsd_enable="YES"
     </pre>
     <ul>
      <li class="level1">
       <div class="li">
        reboot the system
       </div>
      </li>
     </ul>
    </div>
    <h2 class="sectionedit96">
     <a id="monit_service_manager" name="monit_service_manager">
      monit Service Manager
     </a>
    </h2>
    <div class="level2">
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.tildeslash.com/monit" rel="nofollow" title="http://www.tildeslash.com/monit">
       http://www.tildeslash.com/monit
      </a>
     </p>
     <p>
      Monit is a tool which periodically checks if all the important 
services/daemons are running ok, if you're running out of 
memory/diskspace, etc etc. (monit-4.9)
     </p>
     <p>
      I had some problems today with clamd failing to load, and because I 
didn't notice it, some mails couldn't be delivered. Last week, I 
upgraded all my ports, and didn't notice the dhcp server/daemon 
(isc-dhcpd) 
wasn't automatically restarted after the upgrade, until some people 
started complaining.
     </p>
     <p>
      Now I've got it running to monitor the following services/daemons:
-apache
-dhcpd
-courier-imap (including courier-authdaemond)
-postfix
-clamd (including freshclam and clamsmtpd)
-spamassassin-daemon
mlnet (mldonkey, an e-donkey-/bittorrent-/etc. client with webinterface)
proftpd
samba (smbd/nmbd)
     </p>
     <p>
      Still have to configure:
-natd(?) NAT
-SABnzbd.py (newsgroup/usenet download manager with webinterface)
-mysql
-backup application(?)
-diskspace
-system load
-(probably even more, don't know yet)
     </p>
     <p>
      Installation (as root):
     </p>
     <pre class="code">
      cd /usr/ports/sysutils/monit
make
make install
     </pre>
     <p>
      Configuration: (
      <a class="urlextern" href="http://www.tildeslash.com/monit/doc/" rel="nofollow" title="http://www.tildeslash.com/monit/doc/">
       http://www.tildeslash.com/monit/doc/
      </a>
      )
     </p>
     <pre class="code">
      echo monit_enable=\"YES\" &gt;&gt; /etc/rc.conf
     </pre>
     <pre class="code">
      cp /usr/local/etc/monitrc.sample /usr/local/etc/monitrc
chmod 0700 /usr/local/etc/monitrc
     </pre>
     <p>
      <code class="code html4strict">
       set httpd port 2812 and
  allow localhost        # allow localhost
  allow 10.0.0.0/8       # and any host from 10.*.*.*
# no password required:
#  allow admin:monit      # require user 'admin' with password 'monit'
      </code>
     </p>
     <p>
      I want to send alerts (like services not running, hosts not 
accessible) to my e-mail address monit@example.org (replace this with your own address):
      <code class="code html4strict">
       set alert monit@example.org
      </code>
     </p>
     <p>
      In case e-mail alerts can't be delivered, they can be stored as files (optional):
     </p>
     <pre class="code">
      mkdir /var/monit
     </pre>
     <p>
      <code class="code html4strict">
       set eventqueue
  basedir /var/monit  # set the base directory where events will be stored
#  slots 100           # optionaly limit the queue size
       <span class="sc2">
        &lt;
        <a href="http://december.com/html/4/element/html.html">
         <span class="kw2">
          html
         </span>
        </a>
        &gt;
       </span>
       Start it:
  /usr/local/etc/rc.d/monit start
       <span class="sc2">
        &lt;
        <a href="http://december.com/html/4/element/html.html">
         <span class="kw2">
          html
         </span>
        </a>
        &gt;
       </span>
       Starting monit daemon with http interface at [localhost:2812]
      </code>
     </p>
     <p>
      To reload the monit configuration (after you've made changes to the files in the /usr/local/etc/monit.d folder):
     </p>
     <pre class="code">
      /usr/local/etc/rc.d/monit reload
     </pre>
     <p>
      Read more at: /usr/local/share/doc/monit/examples.html
     </p>
     <p>
      I'll have to see if I can make a mail2sms gateway, so I can receive 
notifications of problems on my phone
     </p>
     <pre class="code">
      $ mount /dev/ad0s2 /mnt/usb/
mount: /dev/ad0s2 on /mnt/usb: incorrect super block
     </pre>
     <p>
      Sure, it's fat32.. dhh..
     </p>
     <pre class="code">
      mount_msdosfs /dev/ad0s2 /mnt/usb/
#
ls /mnt/usb/
c-mon&amp;~2     marcco~1     ratata~1.rat
c-mon&amp;~1     fav.dat      ratata~1     settings.dat
#
     </pre>
     <p>
      Short filenames (8.3), like fat16.. Hey.. this is VFAT/Fat32, let's retry:
     </p>
     <pre class="code">
      umount /mnt/usb
     </pre>
     <pre class="code">
      $ mount_msdosfs -l /dev/ad0s2 /mnt/usb/
mount_msdosfs: /dev/ad0s2: Invalid argument
$ mount_msdosfs -o longnames /dev/ad0s2 /mnt/usb/
mount_msdosfs: /dev/ad0s2: Invalid argument
     </pre>
     <pre class="code">
      fsck_msdosfs /dev/da0s1
     </pre>
     <p>
      <code class="code html4strict">
       ** /dev/da0s1
** Phase 1 - Read and Compare FATs
FAT starts with odd byte sequence (00000000ffffffff)
Correct? [yn] y
FAT starts with odd byte sequence (00000000ffffffff)
Correct? [yn] y
** Phase 2 - Check Cluster Chains
** Phase 3 - Checking Directories
** Phase 4 - Checking for Lost Files
Next free cluster in FSInfo block (32689) not free
fix? [yn] y
117 files, 628340 free (157085 clusters)
      </code>
     </p>
     <p>
      cp -R /boot/kernel /boot/kernel.GENERIC
nano cvs-supfile
cvsup cvs-supfile
cd sys/i386/conf
nano FREEBSD62-4
$ config FREEBSD62-4
ERROR: version of config(8) does not match kernel!
      <a class="urlextern" href="http://www.freebsddiary.org/config.php" rel="nofollow" title="http://www.freebsddiary.org/config.php">
       http://www.freebsddiary.org/config.php
      </a>
      /usr/src/UPDATING
     </p>
     <pre class="code">
      make kernel-toolchain
      make -DALWAYS_CHECK_MAKE buildkernel KERNCONF=YOUR_KERNEL_HERE
      make -DALWAYS_CHECK_MAKE installkernel KERNCONF=YOUR_KERNEL_HERE
     </pre>
     <p>
      werktniet
     </p>
     <p>
      cd /usr/src
update world?/
     </p>
     <p>
      make buildworld
make installworld?
     </p>
     <p>
      <a class="urlextern" href="http://www.freebsd-nl.org/doc/nl/kernelconfig-building.html" rel="nofollow" title="http://www.freebsd-nl.org/doc/nl/kernelconfig-building.html">
       http://www.freebsd-nl.org/doc/nl/kernelconfig-building.html
      </a>
     </p>
     <p>
      Ping a host by it's MAC address (instead of it's IP)
Installation:
     </p>
     <pre class="code">
      portinstall arping
     </pre>
     <p>
      (/usr/ports/net/arping)
Usage:
     </p>
     <pre class="code">
      arping &lt;MAC_ADDRESS&gt;
     </pre>
     <p>
      (e.g.: 00:0e:a6:82:11:69)
enter 'arp -a' to see the arp/ip tables to test
nice -n -15 arping -n 1 00:50:fc:27:00:a9 ?
     </p>
     <p>
      Kplaylist
     </p>
     <p>
      kernel + base system upgrade:
-Install cvsup- (nogui?)
cd /usr/src
/etc/make.conf
/usr/src/cvs-supfile
     </p>
     <p>
      make update buildworld kernel
make installworld (dangerous)
     </p>
     <p>
      RELENG_6
(
      <a class="urlextern" href="http://www.freebsd-nl.org/doc/nl/cvs-tags.html" rel="nofollow" title="http://www.freebsd-nl.org/doc/nl/cvs-tags.html">
       http://www.freebsd-nl.org/doc/nl/cvs-tags.html
      </a>
      )
     </p>
     <p>
      edit /etc/make.conf or supfile to also update /usr/ports along the way
cd /usr/ports
make update
     </p>
     <p>
      MSDOSFS_LARGE
kernel tickrate = HZ=1000? tinky..
     </p>
     <p>
      /etc/sysctl.conf
net.inet6.ipv.v6only=0
     </p>
     <p>
      START
     </p>
    </div>
    <h4>
     <a id="install_the_system_sources" name="install_the_system_sources">
      Install the 'system sources'
     </a>
    </h4>
    <div class="level4">
     <p>
      Will install the sources for the basic system binaries. Needed for the 
update.
     </p>
     <pre class="code">
      /stand/sysinstall
     </pre>
     <p>
      Go to "Configure", "Distributions", "src", and select 'All'. Choose 
'exit' and follow the instruction to install. Choose Exit  Exit 
Installation when finished.
     </p>
     <p>
      <a class="urlextern" href="http://jk.yazzy.org/unmaintained/articles/freebsd/up-to-date-with-freebsd.php" rel="nofollow" title="http://jk.yazzy.org/unmaintained/articles/freebsd/up-to-date-with-freebsd.php">
       http://jk.yazzy.org/unmaintained/articles/freebsd/up-to-date-with-freebsd.php
      </a>
     </p>
    </div>
    <h4>
     <a id="install_cvsup" name="install_cvsup">
      Install CVSup
     </a>
    </h4>
    <div class="level4">
     <pre class="code">
      portinstall -P cvsup-without-gui
     </pre>
    </div>
    <h4>
     <a id="edit_the_cvsup_configuration" name="edit_the_cvsup_configuration">
      edit the cvsup configuration
     </a>
    </h4>
    <div class="level4">
     <p>
      Choose cvsup server (page 
bottom):
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/cvsup.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/cvsup.html">
       http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/cvsup.html
      </a>
      You can also install fastest-cvsup (pkg_add -r fastest_cvsup) and use 
'fastest_cvsup -q -c &lt;your country code&gt;' to find the fastest 
freebsd cvsup mirror in your country.
Or use fastest_cvsup in one go, after you've configured the cvs-supfile:
### cvsup -L 2 -h '(fastest_cvsup -q -c us)' /etc/cvs-supfile
     </p>
     <p>
      I've chosen to use FreeBSD 6-STABLE (RELENG_6), which contains the 
latest sources found to be STABLE-worthy. 
There is also 'HEAD' or 'CURRENT', which contains all the new stuff 
that will be coming in FreeBSD 7. But I'll stick with STABLE.
     </p>
     <p>
      My /etc/cvs-supfile :
      <code class="code html4strict">
       *default host=cvsup.nl.FreeBSD.org
*default base=/usr
*default prefix=/usr
*default release=cvs tag=RELENG_6
*default delete use-rel-suffix
src-all
      </code>
     </p>
     <p>
      Updating the ports tree can be done by cvsup by setting it up here, but 
I prefer using 
portsnap, as it's faster, uses less bandwidth, and it's more secure.
     </p>
    </div>
    <h4>
     <a id="modify_etc_makeconf" name="modify_etc_makeconf">
      modify /etc/make.conf
     </a>
    </h4>
    <div class="level4">
     <p>
      <code class="code html4strict">
       SUP_UPDATE=yes
SUP=/usr/local/bin/cvsup
SUPFILE=/etc/cvs-supfile
SUPFLAGS=-g -L 2 -z -h
       <span class="sc2">
        &lt;
        <a href="http://december.com/html/4/element/b.html">
         <span class="kw2">
          b
         </span>
        </a>
        &gt;
       </span>
       cvsup2.nl.freebsd.org
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        <a href="http://december.com/html/4/element/b.html">
         <span class="kw2">
          b
         </span>
        </a>
        &gt;
       </span>
       CFLAGS= -O -pipe
KERNCONF=
       <span class="sc2">
        &lt;
        <a href="http://december.com/html/4/element/b.html">
         <span class="kw2">
          b
         </span>
        </a>
        &gt;
       </span>
       FREEBSD62
       <span class="sc2">
        &lt;
        <span class="sy0">
         /
        </span>
        <a href="http://december.com/html/4/element/b.html">
         <span class="kw2">
          b
         </span>
        </a>
        &gt;
       </span>
      </code>
     </p>
    </div>
    <h4>
     <a id="update_the_kernel_and_system_sources" name="update_the_kernel_and_system_sources">
      update the kernel and system sources
     </a>
    </h4>
    <div class="level4">
     <p>
      make update
(or 'cvsup cvs-supfile'?)
     </p>
    </div>
    <h4>
     <a id="create_edit_the_kernel_config" name="create_edit_the_kernel_config">
      create/edit the kernel config
     </a>
    </h4>
    <div class="level4">
     <pre class="code">
      cd /usr/src/sys/i386/conf/
cp GENERIC FREEBSD62
nano FREEBSD62
     </pre>
     <p>
      I like to comment-out the following:
ident         FREEBSD62
#options	INET6
#cpu            I486_CPU
#cpu            I586_CPU
     </p>
     <p>
      options        MSDOSFS                 # MSDOS Filesystem
options		QUOTA
#device         uhid            # "Human Interface Devices"
     </p>
     <p>
      I've disabled uhid to get my sis-pm USB controlled 4 power socket 
working.
     </p>
     <ol>
      <li class="level1">
       <div class="li">
        Why does "options         MSDOSFS_LARGE " not work yet?
       </div>
      </li>
     </ol>
    </div>
    <h4>
     <a id="now" name="now">
      Now,
     </a>
    </h4>
    <div class="level4">
     <pre class="code">
      cd /usr/src
make buildworld
make buildkernel
     </pre>
     <p>
      (I like to split these two commands, as shown. You could however also 
'make buildworld buildkernel' (or even 'make buildworld buildkernel installkernel ').
     </p>
    </div>
    <h4>
     <a id="install_the_new_kernel" name="install_the_new_kernel">
      Install the new kernel
     </a>
    </h4>
    <div class="level4">
     <p>
      make installkernel
     </p>
    </div>
    <h4>
     <a id="updating_etc_files_using_mergemaster" name="updating_etc_files_using_mergemaster">
      Updating /etc/* files using mergemaster
     </a>
    </h4>
    <div class="level4">
     <pre class="code">
      mergemaster -p
     </pre>
     <p>
      This will update configuration files in /etc, unfortunately 
you're asked a lot of questions if you have already installed and 
configured a lot of application.
     </p>
    </div>
    <h4>
     <a id="install_the_world_binaries" name="install_the_world_binaries">
      Install the world binaries
     </a>
    </h4>
    <div class="level4">
     <p>
      make installworld
     </p>
     <p>
      The order: 'buildworld buildkernel installkernel installworld' is
important!
     </p>
    </div>
    <h3 class="sectionedit97">
     <a id="autologin" name="autologin">
      Autologin
     </a>
    </h3>
    <div class="level3">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.mail-archive.com/freesbie@gufi.org/msg00671.html" rel="nofollow" title="http://www.mail-archive.com/freesbie@gufi.org/msg00671.html">
       http://www.mail-archive.com/freesbie@gufi.org/msg00671.html
      </a>
     </p>
     <p>
      How to automatically login with a non-root user and run gnome 
(gnome-session without using gdm) or kde (without using kdm)
     </p>
     <p>
      This neat trick will auto-login with the specified username on tty1 (the 
window at Alt-F1..). You can then automatically run gnome or kde with 
the specified username.
     </p>
     <p>
      I didn't get KDE/Gnome autologin working with the GDM/KDM settings (it 
kept asking for a password), so I had to resort to another 
way to have it do auto log-in: trough the user's shell:
     </p>
     <p>
      First, we're going to have the user automatically logged in to the shell 
(steps 1,2,3), and to
     </p>
     <p>
      Step1&amp;2:
     </p>
     <pre class="code">
      nano /etc/gettytab
     </pre>
     <p>
      Add this to the bottom of the file (change 'my_freebsd_username' with an 
existing username you wish to use for auto-login):
      <code class="code html4strict">
       my_freebsd_username:\
	:al=my_freebsd_username:ht:np:sp#115200:
      </code>
     </p>
     <pre class="code">
      nano /etc/ttys
     </pre>
     <p>
      Change the line starting with 'ttyv0' (change 'Pc' with the username you 
wish to use for auto-login, I used 'my_freebsd_username')
      <code class="code html4strict">
       ttyv0	"/usr/libexec/getty my_freebsd_username"   cons25  on     secure
      </code>
     </p>
     <p>
      Reboot the system, and you will see that after the system has booted, 
you will have a shell prompt (instead of a login prompt).
     </p>
     <p>
      Step 3:
Change my_freebsd_username to the username you wish to use to auto-login, and edit the .profile of that user:
     </p>
     <pre class="code">
      su my_freebsd_username
cd ~my_freebsd_username
nano .profile
     </pre>
     <p>
      <code class="code html4strict">
       #default: do not start X:
STARTX="no"
#but if tty=0 and shell-level=1, do start X:
[ `tty` = "/dev/ttyv0" ]
       <span class="sc1">
        &amp;&amp; [ $SHLVL = "1" ] &amp;&amp; STARTX="yes"
       </span>
       <span class="sc1">
        [ $STARTX = "yes" ] &amp;&amp; {
       </span>
       <span class="sc1">
        #Sleep a second, because my computer is too fast:
       </span>
       <span class="sc1">
        #/bin/sleep 1
       </span>
       <span class="sc1">
        /usr/local/bin/startx -- :1
       </span>
       <span class="sc1">
        }
       </span>
       <span class="sc1">
        # Note to Linux users: change /dev/ttyv0 to /dev/tty1;
       </span>
       change /usr/local/bin/startx to /usr/bin/startx.
      </code>
     </p>
     <p>
      In the file /home/my_freebsd_username/.xinitrc you need to set the 
window manager to start (KDE, Gnome, or another), together with any 
other applications you wish to start with X-windows (I start my browser, 
e-mail client, chat/instant messaging client)
     </p>
     <p>
      <code class="code html4strict">
       #!/bin/sh

# screen saver after five minutes:
xset s 300

# fix that annoying backspace problem
xmodmap -e "keycode 22=BackSpace"

# Allow any application run on localhost to access this X session:
xhost +localhost

# Instant messaging / chat client (Pidgin, formerly known as GAIM):
pidgin
       <span class="sc1">
        &amp;
       </span>
       <span class="sc1">
        # E-mail client (Mozilla Thunderbird):
       </span>
       <span class="sc1">
        thunderbird &amp;
       </span>
       <span class="sc1">
        # Webbrowser (Mozilla Firefox):
       </span>
       <span class="sc1">
        firefox &amp;
       </span>
       <span class="sc1">
        # Konsole (shell) window:
       </span>
       <span class="sc1">
        konsole &amp;
       </span>
       <span class="sc1">
        # Background screen session (why?)
       </span>
       <span class="sc1">
        screen -dmS xsessie &amp;
       </span>
       <span class="sc1">
        # Audiomixer (set to 50% volume):
       </span>
       <span class="sc1">
        /usr/sbin/mixer 50:50
       </span>
       <span class="sc1">
        /usr/sbin/mixer pcm 100:100
       </span>
       <span class="sc1">
        # Start the VNC server, so remote computers can access this pc's desktop:
       </span>
       <span class="sc1">
        x11vnc -rfbauth ~/.vnc/passwd -forever -shared &amp;
       </span>
       <span class="sc1">
        # Start a VNC-viewer in listening mode (port 5500), with low quality settings, which make it faster over slow network links:
       </span>
       <span class="sc1">
        vncviewer -bgr233 -compresslevel 9 -quality 0 -listen 0 &amp;
       </span>
       <span class="sc1">
        # Start the Gnome desktop environment:
       </span>
       <span class="sc1">
        exec gnome-session
       </span>
       <span class="sc1">
        # Or, to use KDE:
       </span>
       <span class="sc1">
        # Start the KDE desktop environment:
       </span>
       <span class="sc1">
        #exec startkde
       </span>
      </code>
     </p>
    </div>
    <h2 class="sectionedit98">
     <a id="console_screen_saver" name="console_screen_saver">
      Console 'screen saver'
     </a>
    </h2>
    <div class="level2">
     <p>
      This will put your monitor in standy
 after you have not used it for a while (saving power, and thus money).
It will only work when you're on the console (not in X-windows):
     </p>
     <pre class="code">
      kldload green_saver.ko
     </pre>
     <p>
      Or add 'green_saver_load="YES"' to /etc/loader.conf, to have
it loaded on system startup.
     </p>
    </div>
    <h1 class="sectionedit99">
     <a id="printing_in_freebsd" name="printing_in_freebsd">
      Printing in FreeBSD
     </a>
    </h1>
    <div class="level1">
     <p>
      Installing a laser/deskjet or other printer in FreeBSD, and make it available to other computers through Samba for Windows computers.
I'll make it a multi-step project
     </p>
     <p>
      0. Preparations
1. Apsfilter
     </p>
     <p>
      Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.apsfilter.org/" rel="nofollow" title="http://www.apsfilter.org/">
       http://www.apsfilter.org/
      </a>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.onlamp.com/pub/a/bsd/2003/11/06/Big_Scary_Daemons.html" rel="nofollow" title="http://www.onlamp.com/pub/a/bsd/2003/11/06/Big_Scary_Daemons.html">
       http://www.onlamp.com/pub/a/bsd/2003/11/06/Big_Scary_Daemons.html
      </a>
     </p>
     <pre class="code">
      cd /usr/ports/print/apsfilter
make WITH_GHOSTSCRIPT_AFPL=yes BATCH=yes APSFILTER_ALL=yes install clean
     </pre>
     <p>
      I'm not 100% sure if it should be WITH_GHOSTSCRIPT_AFPL or WITH_GHOSTSCRIPT_GNU
     </p>
     <pre class="code">
      cd /usr/local/share/apsfilter
./SETUP
     </pre>
     <p>
      <code class="code html4strict">
       Found ghostscript version 8.60 ...
You have to upgrade at least to gs version 6.50!
But you should upgrade to gs 7.00 for full driver support
prior installing printers with SETUP.
Do you you want to continue? [Y/n] y
      </code>
      <code class="code html4strict">
       ... Licence ...
Accept license [Y|y|J|j|N|n] ? y
      </code>
      <code class="code html4strict">
       The Owner of your spooldir seems to be: root
The Group of your spooldir seems to be: daemon
Is this correct? [y/n] y
      </code>
      <code class="code html4strict">
       saving original printcap -&gt; /etc/printcap.orig
creating a working copy of printcap -&gt; /etc/printcap.old
      </code>
      <code class="code html4strict">
       It seems you have configured a printer with this script before.
Do you want to (a)dd another printer entry or
            to (o)verwrite the existing entries?
a/o? o
      </code>
      In the APSFILTER main menu:
      <code class="code html4strict">
       Select 1 (Printer Driver Selection)
 Select 3 (printer driver natively supported by ghostscript)
  My printer is a HP LaserJet 4L using the ljet4l, so I've entered '160' at the 'Enter number:' input. Choose for yourself.
  Do you want to use ljet4l? [Y|n] y

Select 2 (Interface Setup)
 The printer is connected trough a parallel cable, so in the interface setup, I've selected
 option 1 (local parallel/USB)
  The printer is connected to the first (and only) LPT port, FreeBSD calls this '/dev/lpt0':
  Full path of parallel print device: /dev/lpt0

Select 3 (Paper Format)
 Here in the Netherlands, A4 is the standard, so I've chosen
 option 1 (DIN A4)

To test if the settings work, we'll print a test page. Make sure your printer is powered on, and connected correctly.
Select T (Print Test Page)
 Select T (Print a test page)

If the testpage looked ok, you can now choose
option I (Install printer with values shown above)

** creating printcap entry for printer aps1...
   creating spooldir ...
   remember SETUP settings in printers apsfilterrc file...
** done.

Finish the installation with 'Q'.
      </code>
     </p>
     <p>
      Don't forget to send the APSFILTER author a snail-mail, as requested.
To restart the printer daemons:
     </p>
     <pre class="code">
      lpc restart all
/etc/rc.d/lpd restart
     </pre>
     <p>
      Backup your /etc/printcap file:
     </p>
     <pre class="code">
      cp -n /etc/printcap /etc/printcap-backup-&lt;current_date_without_spaces&gt;
     </pre>
     <p>
      1a. testing with lpr
Download lpr_testfile.ps  (or use google to find a .ps file)
Print it:
     </p>
     <pre class="code">
      /usr/bin/lpr lpr_testfile.ps
     </pre>
     <p>
      2. CUPS
2a. testing
3. Samba
3a. Windows network printer driver installation
3b. testing
4. print to pdf
     </p>
     <p>
      <a class="urlextern" href="http://www.newbie-net.de/anleitung_freebsd_cups.html" rel="nofollow" title="http://www.newbie-net.de/anleitung_freebsd_cups.html">
       http://www.newbie-net.de/anleitung_freebsd_cups.html
      </a>
      <a class="urlextern" href="http://www.freebsdforums.org/forums/showthread.php?s=&amp;threadid=15325&amp;perpage=15&amp;highlight=&amp;pagenumber=1" rel="nofollow" title="http://www.freebsdforums.org/forums/showthread.php?s=&amp;threadid=15325&amp;perpage=15&amp;highlight=&amp;pagenumber=1">
       http://www.freebsdforums.org/forums/showthread.php?s=&amp;threadid=15325&amp;perpage=15&amp;highlight=&amp;pagenumber=1
      </a>
     </p>
     <p>
      work in progress
     </p>
     <p>
      Print to
      <acronym title="Portable Document Format">
       PDF
      </acronym>
      using Samba (warning: dutch page):
      <a class="urlextern" href="http://machiel.generaal.net/index.php?subject=pdfprinter#subject_4" rel="nofollow" title="http://machiel.generaal.net/index.php?subject=pdfprinter#subject_4">
       http://machiel.generaal.net/index.php?subject=pdfprinter#subject_4
      </a>
     </p>
    </div>
    <h1 class="sectionedit100">
     <a id="p2p_and_other_music_movie_downloading_apps" name="p2p_and_other_music_movie_downloading_apps">
      P2P and other music/movie downloading apps
     </a>
    </h1>
    <div class="level1">
     <p>
      MLdonkey: edonkey, overket, kademlia(?)
SABnzbd: newsgroups
FTD4Linux: newsgroups index community/database
     </p>
    </div>
    <h2 class="sectionedit101">
     <a id="amule2" name="amule2">
      amule2
     </a>
    </h2>
    <div class="level2">
     <p>
      Installation:
     </p>
     <pre class="code">
      portinstall net-p2p/amule2
     </pre>
    </div>
    <h2 class="sectionedit102">
     <a id="mldonkey" name="mldonkey">
      MLdonkey
     </a>
    </h2>
    <div class="level2">
     <p>
      A
      <acronym title="Peer to Peer">
       P2P
      </acronym>
      client with web/http frontend
Official
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://mldonkey.sourceforge.net/Main_Page" rel="nofollow" title="http://mldonkey.sourceforge.net/Main_Page">
       http://mldonkey.sourceforge.net/Main_Page
      </a>
     </p>
     <p>
      Among the supported Peer2peer protocols are:
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Bittorrent (.torrent files)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Edonkey2000,Emule,Azareus
       </div>
      </li>
      <li class="level1">
       <div class="li">
        FastTrack (KaZaA) and OpenFT (giFT)
       </div>
      </li>
      <li class="level1">
       <div class="li">
        Gnutella, and many more
       </div>
      </li>
     </ul>
     <pre class="code">
      cd /usr/ports/net-p2p/mldonkey
make
make install
     </pre>
     <p>
      Add the following line to /etc/rc.conf:
      <code class="code html4strict">
       mlnet_enable="YES"
mlnet_user="
       <span class="sc2">
        &lt;my_freebsd_username&gt;
       </span>
       "
      </code>
      So mldonkey is started as a daemon upon next boot, with the permissions as &lt;my_freebsd_username&gt;. To increase security, you can create another user account and use this for running mlnet.
     </p>
     <p>
      Run it:
     </p>
     <pre class="code">
      su &lt;my_freebsd_username&gt;
mlnet
     </pre>
     <p>
      By default, mldonkey's web interface runs on
      <a class="urlextern" href="http://localhost:4080" rel="nofollow" title="http://localhost:4080">
       http://localhost:4080
      </a>
      This means you will either have to edit the configuration files, or really login using a browser on the same FreeBSD machine.
If you're seeing the '403 Forbidden - Connection from &lt;X.X.X.X&gt; rejected (see downloads.ini, allowed_ips) MLDonkey/2.9.1 at &lt;my.dotted.ip.address&gt; Port 4080"-error, you're not accessing the mlnet/mldonkey web interface from localhost.
     </p>
     <pre class="code">
      nano &lt;my_freebsd_userame&gt;/.mldonkey/downloads.ini:
     </pre>
     <p>
      Change the 'allowed_ips'-line to include the ip's you're connecting from (this example allows local/private networks 192.168.*.* and 10.*.*.* to connect):
      <code class="code html4strict">
       allowed_ips = [ "127.0.0.1"; "10.0.0.1/8"; "192.168.0.1/16"; ]
      </code>
      Note: mlnet writes its configuration when it closes to the files. So first close mlnet, then edit the configuration files, then re-start mlnet.
     </p>
     <p>
      With a webbrowser, go to: http:/ /&lt;your.freebsd.machine.ipaddress&gt;:4080
It will complain about an empty admin password. To fix this, in the upper-right input bar/field enter:
      <code class="code html4strict">
       useradd admin
       <span class="sc2">
        &lt;your_mothers_maiden_name&gt;
       </span>
      </code>
      Replace &lt;your_mothers_maiden_name&gt; with a password of your own. Preferably shorter. :)
     </p>
     <p>
      If you want allow others to access mldonkey, they don't need admin access.
Add another 'regular' user account for them (replace &lt;login&gt; and &lt;password&gt;):
      <code class="code html4strict">
       useradd
       <span class="sc2">
        &lt;login&gt;
       </span>
       <span class="sc2">
        &lt;password&gt;
       </span>
      </code>
     </p>
     <p>
      Don't know yet what's the solution to the next error I saw when I tried 
the same on my other box:
      <code class="code html4strict">
       gmake[1]: *** [lablgtktop] Segmentation fault: 11 (core dumped)
      </code>
      Perhaps I'll make the world again. And make it a better place for all of 
us to live in, with less errors.
     </p>
    </div>
    <h2 class="sectionedit103">
     <a id="sabnzbd" name="sabnzbd">
      SABnzbd
     </a>
    </h2>
    <div class="level2">
     <p>
      A newsgroup download tool, capable of handling NZB-files, with integrated PAR2 checker, extracter, and a web interface.
Where you would use a tool like 'GrabIt' on Windows, SABnzbd does the same job, but better, for UNIX (Linux, BSD, etc)
     </p>
     <p>
      Installation:
     </p>
     <pre class="code">
      cd /usr/ports/sabnzbd
make
make install
     </pre>
     <p>
      &lt;
      <img alt="FIXME" class="middle" src="/my_freebsd_installation_and_configuration_guide/lib/images/smileys/fixme.gif"/>
      &gt;
Aug2007: I think the most recent version of 
CherryPy doesn't work with the SABnzbd-version I'm currently using, with the following error:
     </p>
     <p>
      <code class="code html4strict">
       Traceback (most recent call last):
  File "/usr/local/bin/SABnzbd.py", line 37, in ?
    import cherrypy
ImportError: No module named cherrypy
      </code>
     </p>
     <p>
      Re-install it:
     </p>
     <pre class="code">
      export PYTHONPATH="/usr/local/lib/python2.5/site-packages/"
cd /usr/ports/news/sabnzbd
make deinstall
make clean
make
make install
     </pre>
     <p>
      If you get any errir when doig make install about missing directories:
     </p>
     <pre class="code">
      mkdir /usr/local/share/sabnzbd
mkdir /usr/local/share/doc/sabnzbd
     </pre>
     <pre class="code">
      cd /usr/ports/www/py-cherrypy
make deinstall
cd /usr/ports/www/py-cherrypy-old
make deinstall
make clean
make
make install
     </pre>
     <p>
      <code class="code html4strict">
       ****************************************************************************
Check /usr/local/share/SABnzbd for SABnzbd.ini.sample and templates
See /usr/local/share/doc/SABnzbd for README.txt etc
****************************************************************************
===&gt;   Registering installation for SABnzbd-0.2.5
      </code>
     </p>
     <p>
      I like to have all configuration files in /etc or /usr/local/etc, which I backup regularly. So I'll move SABnzbd's configuration file there:
     </p>
     <pre class="code">
      cd /usr/local/share/SABnzbd
mv SABnzbd.ini /usr/local/etc/
ln -s /usr/local/etc/SABnzbd.ini SABnzbd.ini
     </pre>
     <p>
      Configuration is done in the SABnzbd.ini file, which we just moved to /usr/locale/etc
The things you want to edit are:
      <code class="code html4strict">
       username =
       <span class="sc2">
        &lt;some username&gt;
       </span>
       password =
       <span class="sc2">
        &lt;some password&gt;
       </span>
       download_dir = ...
  complete_dir = ...
  nzb_backup_dir = ...
  cache_dir = ...
  log_dir = ...
  dirscan_dir = ...
      </code>
      And, do not forget to enter your newsserver in the [servers] section of the same file.
     </p>
     <p>
      Start it:
     </p>
     <pre class="code">
      /usr/local/bin/SABnzbd.py -d -f /usr/local/share/SABnzbd/SABnzbd.ini
     </pre>
     <p>
      You might want to put this line in /etc/rc.local to have it start up at boot (you can also use 'su' to run it as another user, but make sure that the directories mentioned in SABnzbd.ini are writable for that user).
Or, even easier: add this crontab entry for the user you want to run SABnzbd as:
      <code class="code html4strict">
       @reboot         /usr/local/bin/screen -dmS nzb /usr/local/bin/SABnzbd.py -f /usr/local/etc/SABnzbd.ini
      </code>
     </p>
     <p>
      Test it by opening a web browser to
      <a class="urlextern" href="http://localhost:8080/sabnzbd/connections/" rel="nofollow" title="http://localhost:8080/sabnzbd/connections/">
       http://localhost:8080/sabnzbd/connections/
      </a>
      To allow other computers to access SABnzbd or to use another port number, edit the correct sections in SABnzbd.ini
     </p>
    </div>
    <h2 class="sectionedit104">
     <a id="rtorrent_-_console_bittorrent-p2p_client" name="rtorrent_-_console_bittorrent-p2p_client">
      rtorrent - Console Bittorrent-p2p client
     </a>
    </h2>
    <div class="level2">
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://libtorrent.rakshasa.no/" rel="nofollow" title="http://libtorrent.rakshasa.no/">
       http://libtorrent.rakshasa.no/
      </a>
     </p>
     <p>
      This is a bittorrent client with all the feautures you will find in other clients like Azureus, but all console-based.
     </p>
     <p>
      Installation (as root):
     </p>
     <pre class="code">
      cd /usr/src 
wget http://libtorrent.rakshasa.no/downloads/libtorrent-0.11.0.tar.gz
tar -zxvf libtorrent-0.11.0.tar.gz
cd libtorrent-0.11.0
./configure
make
make install
     </pre>
     <p>
      cd /usr/src
     </p>
     <pre class="code">
      wget http://libtorrent.rakshasa.no/downloads/rtorrent-0.7.0.tar.gz
tar -zxvf rtorrent-0.7.0.tar.gz
cd rtorrent-0.7.0
./configure
make
make install
     </pre>
     <p>
      Go back to your non-root user account, then:
     </p>
     <pre class="code">
      cp /usr/src/rtorrent-0.7.0/doc/rtorrent.rc ~/.rtorrent.rc
nano ~/.rtorrent.rc
     </pre>
     <p>
      According to some manpage, this will increase the processing speed for hashing the already downloaded parts (
      <a class="urlextern" href="http://libtorrent.rakshasa.no/wiki/RTorrentPerformanceTuning" rel="nofollow" title="http://libtorrent.rakshasa.no/wiki/RTorrentPerformanceTuning">
       http://libtorrent.rakshasa.no/wiki/RTorrentPerformanceTuning
      </a>
      ). Add the lines:
     </p>
     <pre class="code">
      hash_read_ahead = 8
  hash_max_tries = 5
  hash_interval = 10
     </pre>
     <p>
      Now let's start it in a screen session:
     </p>
     <pre class="code">
      screen rtorrent
     </pre>
     <p>
      You can add torrent files by entering the
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      to the torrent file
Use CTRL-q to quit (download will not continue) or CTRL-A D (screen detach hotkey) to detach this window
     </p>
     <p>
      I might want to start this program everytime my FreeBSD boots, next time.
     </p>
    </div>
    <h1 class="sectionedit105">
     <a id="voip_telephony" name="voip_telephony">
      VOIP telephony
     </a>
    </h1>
    <div class="level1">
    </div>
    <h2 class="sectionedit106">
     <a id="asterisk_pbx" name="asterisk_pbx">
      Asterisk* PBX
     </a>
    </h2>
    <div class="level2">
     <p>
      The Asterisk* PBX software package allows me to set-up a telephone system. I have special hardware for this (a Linksys Sipura SPA-3000 (or SPA3K as some call it), and a
      <a class="urlextern" href="http://www.grandstream.com/gxp2000.html" rel="nofollow" title="http://www.grandstream.com/gxp2000.html">
       Grandstream GXP2000 VoIP phone
      </a>
      . Together with my VoipBuster account I will use Asterisk* to manage my home telephone system, my business telephone line, and route calls over the cheapest path from caller to callee.
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.asterisk.org" rel="nofollow" title="http://www.asterisk.org">
       http://www.asterisk.org
      </a>
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.voip-info.org" rel="nofollow" title="http://www.voip-info.org">
       http://www.voip-info.org
      </a>
      <br/>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://www.voxilla.com" rel="nofollow" title="http://www.voxilla.com">
       http://www.voxilla.com
      </a>
      <br/>
     </p>
     <p>
      Note: Asterisk, is way too complicated to have you up and running (with configured hardware) in a few minutes. I put it here for completeness, not as a quick-tutorial how to get it running at your site. There is a lot of documentation available on Asterisk.
     </p>
     <p>
      Work in progress: I'm working on 'My Asterisk PBX Installation and 
Configuration Guide', to help you understand and use asterisk telephony 
system in no-time. For more configuration, browse to my
      <a class="urlextern" href="http://wiki.pcprobleemloos.nl/my_asterisk_pbx_installation_and_configuration_guide/" rel="nofollow" title="http://wiki.pcprobleemloos.nl/my_asterisk_pbx_installation_and_configuration_guide/">
       "My Asterisk installation and 
configuration guide"
      </a>
      page. You'll find a lot of extensions.conf 
examples there.
     </p>
     <p>
      Install port:  (version 1.2.9.1_2)
     </p>
     <pre class="code">
      cd /usr/ports/net/asterisk
     </pre>
     <p>
      Check which version will be installed when you would use the ports tree:
     </p>
     <pre class="code">
      cat distfiles
     </pre>
     <p>
      Visit the Asterisk.org website to check if any serious bugs have been found after this release.
     </p>
     <p>
      There are a lot of bugfixes and othe updates since the version in the ports got updated, but lets install anyway:
     </p>
     <pre class="code">
      make
make install
     </pre>
     <p>
      There's a known problem with mpg123 (&amp; Asterisk), where mpg123 is eating CPU time up to 100%, this should solve it: (yet untested)
      <a class="urlextern" href="http://astrecipes.net/?n=152" rel="nofollow" title="http://astrecipes.net/?n=152">
       http://astrecipes.net/?n=152
      </a>
     </p>
     <p>
      Some other information about this:
      <a class="urlextern" href="http://www.voip-info.org/wiki/view/Asterisk+FreeBSD" rel="nofollow" title="http://www.voip-info.org/wiki/view/Asterisk+FreeBSD">
       http://www.voip-info.org/wiki/view/Asterisk+FreeBSD
      </a>
      <a class="urlextern" href="http://www.faktortel.com.au/support-asterisk-musiconhold.shtml" rel="nofollow" title="http://www.faktortel.com.au/support-asterisk-musiconhold.shtml">
       http://www.faktortel.com.au/support-asterisk-musiconhold.shtml
      </a>
     </p>
     <p>
      There is an add-on to change the pitch of your voice: (yet untested)
      <a class="urlextern" href="http://www.lobstertech.com/code/voicechanger/" rel="nofollow" title="http://www.lobstertech.com/code/voicechanger/">
       http://www.lobstertech.com/code/voicechanger/
      </a>
      ?
     </p>
     <p>
      I should have a look at this site, it might have some good configuration examples:
     </p>
     <p>
      <a class="urlextern" href="http://astrecipes.net/" rel="nofollow" title="http://astrecipes.net/">
       http://astrecipes.net/
      </a>
      (didn't have much examples)
     </p>
     <p>
      <code class="code html4strict">
       Options for asterisk 1.4.3                      
                       
                              [X] OGGVORBIS  Enable Ogg Vorbis support                 
                              [X] ODBC       Enable ODBC support                       
                              [ ] POSTGRES   Enable PostgreSQL support                 
                              [ ] RADIUS     Enable RADIUS accounting support          
                              [X] SNMP       Enable SNMP support                       
                              [X] H323       Enable H.323 support                      
                              [X] JABBER     Enable Jabber and Gtalk support           
                              [ ] ZAPTEL     Enable Zaptel support                     
                      
      </code>
      (I disabled POSTGRES, RADIUS, and ZAPTEL)
     </p>
     <p>
      voip-info.org
     </p>
    </div>
    <h1 class="sectionedit107">
     <a id="won_t_run_on_under_freebsd" name="won_t_run_on_under_freebsd">
      Won't run on/under FreeBSD
     </a>
    </h1>
    <div class="level1">
     <p>
      The following software I want to use is not yet FreeBSD compatible (as far as I can see):
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        TrueCrypt
        <a class="urlextern" href="http://www.truecrypt.org/" rel="nofollow" title="http://www.truecrypt.org/">
         http://www.truecrypt.org/
        </a>
       </div>
      </li>
     </ul>
     <p>
      <a class="urlextern" href="http://lists.freebsd.org/pipermail/freebsd-ports/2005-December/028155.html" rel="nofollow" title="http://lists.freebsd.org/pipermail/freebsd-ports/2005-December/028155.html">
       http://lists.freebsd.org/pipermail/freebsd-ports/2005-December/028155.html
      </a>
     </p>
    </div>
    <h1 class="sectionedit108">
     <a id="references" name="references">
      References
     </a>
    </h1>
    <div class="level1">
     <p>
      A lot of information in this guide comes from the
      <a class="urlextern" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/install-steps.html" rel="nofollow" title="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/install-steps.html">
       FreeBSD Handbook on FreeBSD Installation
      </a>
      . Bookmark it, it's good! It's
      <a class="urlextern" href="http://www.freebsd.org/doc/" rel="nofollow" title="http://www.freebsd.org/doc/">
       translated in many different languages
      </a>
      , and there is
      <a class="urlextern" href="http://www.freebsd.org/docs.html" rel="nofollow" title="http://www.freebsd.org/docs.html">
       some more official and unofficial documentation here
      </a>
      .
     </p>
     <p>
      I've discovered another site which contains
      <a class="urlextern" href="http://www.engr.colostate.edu/~reinholz/freebsd/freebsd.html" rel="nofollow" title="http://www.engr.colostate.edu/~reinholz/freebsd/freebsd.html">
       installation instructions and general help on FreeBSD (6.0) topics
      </a>
      <br/>
     </p>
     <p>
      <a class="urlextern" href="http://www.bsdguides.org/guides/freebsd/" rel="nofollow" title="http://www.bsdguides.org/guides/freebsd/">
       BSD Guides has some nice FreeBSD guides too
      </a>
     </p>
     <p>
      I don't get the impression it gets updated a lot, but in the past
      <a class="urlextern" href="http://www.freebsddiary.org/chronological.php" rel="nofollow" title="http://www.freebsddiary.org/chronological.php">
       The FreeBSD Diary
      </a>
      helped me out a lot.
     </p>
     <p>
      <a class="urlextern" href="http://www.freebsdwiki.net" rel="nofollow" title="http://www.freebsdwiki.net">
       http://www.freebsdwiki.net
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://www.freebsdmadeeasy.com/" rel="nofollow" title="http://www.freebsdmadeeasy.com/">
       http://www.freebsdmadeeasy.com/
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://www.bsdguides.org" rel="nofollow" title="http://www.bsdguides.org">
       http://www.bsdguides.org
      </a>
      - Doing stuff with FreeBSD, OpenBSD, NetBSD &amp; Mac OSX
     </p>
     <p>
      <a class="urlextern" href="http://www.bsdzone.net/links/" rel="nofollow" title="http://www.bsdzone.net/links/">
       http://www.bsdzone.net/links/
      </a>
      - FreeBSD help, how-to guides and more
     </p>
     <p>
      <a class="urlextern" href="http://www.madpenguin.org/cms/?m=show&amp;id=1853" rel="nofollow" title="http://www.madpenguin.org/cms/?m=show&amp;id=1853">
       http://www.madpenguin.org/cms/?m=show&amp;id=1853
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://linux.about.com/bl_freebsd_inst_conf.htm" rel="nofollow" title="http://linux.about.com/bl_freebsd_inst_conf.htm">
       http://linux.about.com/bl_freebsd_inst_conf.htm
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://elibrary.fultus.com/technical/topic/com.fultus.freebsd/index.html" rel="nofollow" title="http://elibrary.fultus.com/technical/topic/com.fultus.freebsd/index.html">
       http://elibrary.fultus.com/technical/topic/com.fultus.freebsd/index.html
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://www.freebsd.org/ports" rel="nofollow" title="http://www.freebsd.org/ports">
       http://www.freebsd.org/ports
      </a>
      - the FreeBSD ports collection
     </p>
     <p>
      <a class="urlextern" href="http://www2.ocean.washington.edu/unix.tutorial.html" rel="nofollow" title="http://www2.ocean.washington.edu/unix.tutorial.html">
       http://www2.ocean.washington.edu/unix.tutorial.html
      </a>
      - 'generic' Unix Tutorial, focussed on usage, no installation.
     </p>
     <p>
      <a class="urlextern" href="http://www.sshkeychain.org/mirrors/SSH-with-Keys-HOWTO/SSH-with-Keys-HOWTO-4.html" rel="nofollow" title="http://www.sshkeychain.org/mirrors/SSH-with-Keys-HOWTO/SSH-with-Keys-HOWTO-4.html">
       http://www.sshkeychain.org/mirrors/SSH-with-Keys-HOWTO/SSH-with-Keys-HOWTO-4.html
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://www.openaddict.com/quick_and_dirty_guide_to_deploying_a_freebsd_6_1_server.html" rel="nofollow" title="http://www.openaddict.com/quick_and_dirty_guide_to_deploying_a_freebsd_6_1_server.html">
       http://www.openaddict.com/quick_and_dirty_guide_to_deploying_a_freebsd_6_1_server.html
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://www.littlewhitedog.com/content-72.html" rel="nofollow" title="http://www.littlewhitedog.com/content-72.html">
       http://www.littlewhitedog.com/content-72.html
      </a>
      How To Install a Secure BSD System
     </p>
     <p>
      <a class="urlextern" href="http://www.openaddict.com/installing_freebsd_6_1.html" rel="nofollow" title="http://www.openaddict.com/installing_freebsd_6_1.html">
       http://www.openaddict.com/installing_freebsd_6_1.html
      </a>
      Installing FreeBSD 6.1
     </p>
     <p>
      <a class="urlextern" href="http://www.a1poweruser.com/Free_guide_index.php" rel="nofollow" title="http://www.a1poweruser.com/Free_guide_index.php">
       http://www.a1poweruser.com/Free_guide_index.php
      </a>
     </p>
    </div>
    <h3 class="sectionedit109">
     <a id="i_m_currently_working_on" name="i_m_currently_working_on">
      I'm currently working on ...
     </a>
    </h3>
    <div class="level3">
     <ul>
      <li class="level1">
       <div class="li">
        freebsd mouse usb selecting text slow, polling problem?
       </div>
      </li>
     </ul>
     <p>
      It takes half a second or more to 'start selecting'  the text where I've clicked.
 	That is, when trying to select a piece of text in X, if I do it too fast, it misses a part.
     </p>
     <pre class="code">
      The same goes for resising windows, and other mouse stuff
I've tried the 'solution' to revert to PS/2, but that didn't make a difference
     </pre>
     <ul>
      <li class="level1">
       <div class="li">
        Completing the routing section of this guide (natd?)
       </div>
      </li>
     </ul>
     <p>
      <a class="urlextern" href="http://freebsd.rogness.net/redirect.cgi?basic/gateway.html" rel="nofollow" title="http://freebsd.rogness.net/redirect.cgi?basic/gateway.html">
       http://freebsd.rogness.net/redirect.cgi?basic/gateway.html
      </a>
     </p>
     <ul>
      <li class="level1">
       <div class="li">
        Structuring this guide, perhaps splitting it into multiple pages
       </div>
      </li>
      <li class="level1">
       <div class="li">
        check google coverage
       </div>
      </li>
     </ul>
    </div>
    <h1 class="sectionedit110">
     <a id="improving_this_guide" name="improving_this_guide">
      Improving this guide
     </a>
    </h1>
    <div class="level1">
     <p>
      You are welcome to send any links, fixes, comments, or compliments to 
the e-mail address listed at the top of this guide.
     </p>
     <p>
      umass0: Unsupported ATAPI command 0x4a - trying anyway
umass0: Unsupported ATAPI command 0xac - trying anyway
     </p>
     <p>
      When I power up my Plextor PX-716AL external USB 2.0 DVD burner, 'dmesg' detects it:
      <code class="code html4strict">
       umass0: PLEXTOR DVDR   PX-716AL, rev 2.00/4.13, addr 2
cd0 at umass-sim0 bus 0 target 0 lun 0
cd0:
       <span class="sc2">
        &lt;PLEXTOR DVDR   PX-716AL
        <span class="nu0">
         1.01
        </span>
        &gt;
       </span>
       Removable CD-ROM SCSI-0 device
cd0: 1.000MB/s transfers
      </code>
      However, there's something wrong with the speed (just 1.000MB/s will surely result in a lot of buffer underruns). If I disconnect and reconnect the USB cable, the troughput (at 40.000MB/s) is ok, as shown by the 'dmesg' output:
      <code class="code html4strict">
       umass0: PLEXTOR DVDR   PX-716AL, rev 2.00/4.13, addr 2
cd0 at umass-sim0 bus 0 target 0 lun 0
cd0:
       <span class="sc2">
        &lt;PLEXTOR DVDR   PX-716AL
        <span class="nu0">
         1.01
        </span>
        &gt;
       </span>
       Removable CD-ROM SCSI-0 device 
cd0: 40.000MB/s transfers
cd0: cd present [2213904 x 2048 byte records]
      </code>
      Maybe I'll take some time to check if it has something to do with a kernel option about usb / uhid / ugen. Probably I'll try to remember it and remember to unplug/replug the usb connector when I've touched the Plextor's power switch.
     </p>
    </div>
    <h2 class="sectionedit111">
     <a id="reverse_ssh" name="reverse_ssh">
      reverse ssh
     </a>
    </h2>
    <div class="level2">
     <p>
      ssh -nNT -R 8022:10.0.0.123:22 @example.org
     </p>
     <p>
      copy paste select text gnome terminal
      <a class="urlextern" href="http://lifehacker.com/photogallery/Top-10-Gnome-Tweaks/2424543" rel="nofollow" title="http://lifehacker.com/photogallery/Top-10-Gnome-Tweaks/2424543">
       http://lifehacker.com/photogallery/Top-10-Gnome-Tweaks/2424543
      </a>
     </p>
     <p>
      Game Integrity 20004-error in Wolfenstein: Enemy Territory:
      <a class="urlextern" href="http://forums.pcbsd.org/viewtopic.php?p=62892" rel="nofollow" title="http://forums.pcbsd.org/viewtopic.php?p=62892">
       http://forums.pcbsd.org/viewtopic.php?p=62892
      </a>
     </p>
    </div>
    <h2 class="sectionedit112">
     <a id="pxe_windows_xp_installation" name="pxe_windows_xp_installation">
      PXE Windows XP installation
     </a>
    </h2>
    <div class="level2">
     <p>
      I'm trying to boot a laptop with a broken cd-rom drive from the network, using PXE.
The following text and links describe my progress. It is not working at the moment.
     </p>
     <p>
      Best link one so far:
      <a class="urlextern" href="http://unattended.sourceforge.net/step-by-step.php" rel="nofollow" title="http://unattended.sourceforge.net/step-by-step.php">
       http://unattended.sourceforge.net/step-by-step.php
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://www.kegel.com/linux/pxe.html" rel="nofollow" title="http://www.kegel.com/linux/pxe.html">
       http://www.kegel.com/linux/pxe.html
      </a>
     </p>
     <p>
      <a class="urlextern" href="http://www.netbsd.org/docs/network/netboot/tftpd.html#freebsd" rel="nofollow" title="http://www.netbsd.org/docs/network/netboot/tftpd.html#freebsd">
       http://www.netbsd.org/docs/network/netboot/tftpd.html#freebsd
      </a>
      tftp    dgram   udp     wait    root    /usr/libexec/tftpd      tftpd -s /tftpboot
tftp    dgram   udp     wait    root    /usr/libexec/tftpd      tftpd -l -s /mnt//install
     </p>
     <pre class="code">
      tftp localhost
     </pre>
     <p>
      <code class="code html4strict">
       tftp&gt; get test.txt
tftp&gt; quit
      </code>
     </p>
     <p>
      If you try to download a non-existing file, you'll see the following error:
      <code class="code html4strict">
       Error code 1: File not found
      </code>
     </p>
     <p>
      Try to download the file you want to use (the one you set up in dhcpd.conf)
I will assume you've already installed the dhcp server ( net/isc-dhcp3-server )
The
      <acronym title="Dynamic Host Configuration Protocol">
       DHCP
      </acronym>
      server/daemon needs a few configuration options to allow PXE boots:
     </p>
     <pre class="code">
      next-server 1.2.3.4;
  filename "pxeboot";
  option root-path "1.2.3.4:/";
     </pre>
     <pre class="code">
      echo dhcpd_enable=YES &gt;&gt; /etc/rc.conf
/usr/local/etc/rc.d/isc-dhcpd start
     </pre>
     <p>
      inetd_enable=YES
     </p>
     <p>
      <a class="urlextern" href="http://www.freebsd-nl.org/doc/nl/network-diskless.html" rel="nofollow" title="http://www.freebsd-nl.org/doc/nl/network-diskless.html">
       http://www.freebsd-nl.org/doc/nl/network-diskless.html
      </a>
      <a class="urlextern" href="http://syslinux.zytor.com/pxe.php" rel="nofollow" title="http://syslinux.zytor.com/pxe.php">
       http://syslinux.zytor.com/pxe.php
      </a>
      <a class="urlextern" href="http://silent.gumph.org/content/4/7/071-diskless-windows-pxe.html" rel="nofollow" title="http://silent.gumph.org/content/4/7/071-diskless-windows-pxe.html">
       http://silent.gumph.org/content/4/7/071-diskless-windows-pxe.html
      </a>
      <a class="urlextern" href="http://tomclegg.net/pxe" rel="nofollow" title="http://tomclegg.net/pxe">
       http://tomclegg.net/pxe
      </a>
      <a class="urlextern" href="http://www.hanewin.de/remote-boot.htm" rel="nofollow" title="http://www.hanewin.de/remote-boot.htm">
       http://www.hanewin.de/remote-boot.htm
      </a>
     </p>
     <p>
      And after you've installed windows unattended, you might want to install OpenOffice.org as well:
OpenOffice.org unattended installation for Windows:
      <a class="urlextern" href="http://www.msfn.org/board/openofficeorg_t12044.html" rel="nofollow" title="http://www.msfn.org/board/openofficeorg_t12044.html">
       http://www.msfn.org/board/openofficeorg_t12044.html
      </a>
     </p>
    </div>
    <h2 class="sectionedit113">
     <a id="how_to_mount_an_iso_image" name="how_to_mount_an_iso_image">
      How to mount an ISO image
     </a>
    </h2>
    <div class="level2">
     <p>
      Mounting an
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      image with FreeBSD (mount, mdconfig)
      <a class="urlextern" href="http://www.redantigua.com/mount-iso.html" rel="nofollow" title="http://www.redantigua.com/mount-iso.html">
       http://www.redantigua.com/mount-iso.html
      </a>
      :
     </p>
     <pre class="code">
      mkdir /mnt/iso
mdconfig -a -t vnode -u 0 -f /path/to/iso/image/file.iso
mount -t cd9660 /dev/md0 /mnt/iso
     </pre>
     <p>
      To unmount:
     </p>
     <pre class="code">
      mount -u /mnt/iso
mdconfig -d -u 0
     </pre>
     <p>
      You can mount multiple
      <acronym title="International Organization for Standardization">
       ISO
      </acronym>
      's at the same time, just replace '0' and 'md0' with '1' and 'md1', or '2' and 'md2' and so on, and use another mount point instead of /mnt/iso
     </p>
     <p>
      If you have a NRG (Nero Burning Rom image file), you can convert it with nrg2iso:
Installation:
     </p>
     <pre class="code">
      portinstall sysutils/nrg2iso
     </pre>
     <p>
      Usage:
     </p>
     <pre class="code">
      nrg2iso &lt;image.nrg&gt; &lt;image.iso&gt;
     </pre>
     <p>
      &lt;image.iso&gt; will be created from image.nrg
If the iso file is created, you can mount it
     </p>
    </div>
    <h2 class="sectionedit114">
     <a id="openarena" name="openarena">
      OpenArena
     </a>
    </h2>
    <div class="level2">
     <p>
      A 3D shoot-em-up: OpenArena is an open-source content package, together with the
      <acronym title="GNU General Public License">
       GPL
      </acronym>
      'd Quake III Arena 3D engine.
     </p>
     <p>
      <acronym title="Uniform Resource Locator">
       URL
      </acronym>
      :
      <a class="urlextern" href="http://openarena.ws/" rel="nofollow" title="http://openarena.ws/">
       http://openarena.ws/
      </a>
     </p>
     <p>
      Installation:
     </p>
     <pre class="code">
      cd /usr/ports/games/openarena
make
make install
     </pre>
     <p>
      As my NVidia graphics card is already configured in X, there's nothing important left to configure.
     </p>
     <p>
      Run it:
     </p>
     <pre class="code">
      openarena
     </pre>
     <p>
      One time however, I did receive an error when starting openarena:
      <code class="code html4strict">
       Sys_Error: GLimp_Init() - could not load OpenGL subsystem
      </code>
      The next day it worked just fine, and I don't remember doing anything special..
     </p>
    </div>
    <div class="comment_wrapper">
     <h2>
      <a id="discussion__section" name="discussion__section">
       Please leave a comment or any feedback!
      </a>
     </h2>
     <div class="level2 hfeed">
      <div class="hentry">
       <div class="comment_head">
        <a id="comment_7fa77f731373281b4c961187cdb006b0" name="comment_7fa77f731373281b4c961187cdb006b0">
        </a>
        <span class="vcard author">
         <span class="fn">
          Sebastiaan Giebels
         </span>
        </span>
        ,
        <abbr class="published" title="2010-12-16T03:16:28Z">
         2010/12/16 03:16
        </abbr>
       </div>
       <div class="comment_body entry-content">
        test comment
       </div>
       <div class="comment_buttons">
        <form action="/my_freebsd_installation_and_configuration_guide/doku.php#discussion__comment_form" class="button discussion__reply" method="get">
         <div class="no">
          <input name="id" type="hidden" value="start"/>
          <input name="do" type="hidden" value="show"/>
          <input name="comment" type="hidden" value="reply"/>
          <input name="cid" type="hidden" value="7fa77f731373281b4c961187cdb006b0"/>
          <input class="button" title="Reply" type="submit" value="Reply"/>
         </div>
        </form>
       </div>
      </div>
      <div class="comment_form">
       <form accept-charset="utf-8" action="/my_freebsd_installation_and_configuration_guide/doku.php" id="discussion__comment_form" method="post">
        <div class="no">
         <input name="id" type="hidden" value="start"/>
         <input name="do" type="hidden" value="show"/>
         <input name="comment" type="hidden" value="add"/>
         <input name="reply" type="hidden" value=""/>
         <input name="user" type="hidden" value="199.30.80.113"/>
         <div class="comment_name">
          <label class="block" for="discussion__comment_name">
           <span>
            Real name:
           </span>
           <input class="edit" id="discussion__comment_name" name="name" size="50" tabindex="1" type="text" value=""/>
          </label>
         </div>
         <div class="comment_mail">
          <label class="block" for="discussion__comment_mail">
           <span>
            E-Mail:
           </span>
           <input class="edit" id="discussion__comment_mail" name="mail" size="50" tabindex="2" type="text" value=""/>
          </label>
         </div>
         <div class="comment_address">
          <label class="block" for="discussion__comment_address">
           <span>
            To make sure you are human and not a spammer, enter the unix command to list the contents of a directory:
           </span>
           <input class="edit" id="discussion__comment_address" name="address" size="50" tabindex="4" type="text" value=""/>
          </label>
         </div>
         <div class="comment_text">
          <div id="discussion__comment_toolbar">
           Enter your comment
          </div>
          <textarea class="edit" cols="80" id="discussion__comment_text" name="text" rows="10" tabindex="5">
          </textarea>
         </div>
         <input accesskey="s" class="button comment_submit" id="discussion__btn_submit" name="submit" tabindex="7" title="Save [S]" type="submit" value="Save"/>
         <input accesskey="p" class="button comment_preview_button" id="discussion__btn_preview" name="preview" title="Preview [P]" type="button" value="Preview"/>
         <div class="clearer">
         </div>
         <div id="discussion__comment_preview">
         </div>
        </div>
       </form>
      </div>
     </div>
    </div>
    <!-- wikipage stop -->
   </div>
   <div class="clearer">
   </div>
   <div class="stylefoot">
    <div class="meta">
     <div class="user">
     </div>
     <div class="doc">
      start.txt  Last modified: 2010/12/18 00:31 by sebastiaan.giebels
     </div>
    </div>
    <div class="bar" id="bar__bottom">
     <div class="bar-left" id="bar__bottomleft">
     </div>
     <div class="bar-right" id="bar__bottomright">
      <form action="/my_freebsd_installation_and_configuration_guide/start" class="button btn_login" method="get">
       <div class="no">
        <input name="do" type="hidden" value="login"/>
        <input name="sectok" type="hidden" value="88d91df5a21601a2ee4bea31e92db78c"/>
        <input class="button" title="Login" type="submit" value="Login"/>
       </div>
      </form>
      <form action="/my_freebsd_installation_and_configuration_guide/start" class="button btn_index" method="get">
       <div class="no">
        <input name="do" type="hidden" value="index"/>
        <input accesskey="x" class="button" title="Sitemap [X]" type="submit" value="Sitemap"/>
       </div>
      </form>
      <a class="nolink" href="#dokuwiki__top">
       <input class="button" onclick="window.scrollTo(0, 0)" title="Back to top" type="button" value="Back to top"/>
      </a>
     </div>
     <div class="clearer">
     </div>
    </div>
   </div>
   <div class="license">
    Except where otherwise noted, content on this wiki is licensed under the following license:
    <a class="urlextern" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license">
     CC Attribution-Noncommercial-Share Alike 3.0 Unported
    </a>
   </div>
  </div>
  <div class="footerinc">
   <a href="/my_freebsd_installation_and_configuration_guide/feed.php" title="Recent changes RSS feed">
    <img alt="Recent changes RSS feed" height="15" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/button-rss.png" width="80"/>
   </a>
   <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" title="CC Attribution-Noncommercial-Share Alike 3.0 Unported">
    <img alt="" height="15" src="/my_freebsd_installation_and_configuration_guide/lib/images/license/button/cc-by-nc-sa.png" width="80"/>
   </a>
   <a href="http://www.dokuwiki.org/donate" title="Donate">
    <img alt="Donate" height="15" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/button-donate.gif" width="80"/>
   </a>
   <a href="http://www.php.net" title="Powered by PHP">
    <img alt="Powered by PHP" height="15" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/button-php.gif" width="80"/>
   </a>
   <a href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0">
    <img alt="Valid XHTML 1.0" height="15" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/button-xhtml.png" width="80"/>
   </a>
   <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS">
    <img alt="Valid CSS" height="15" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/button-css.png" width="80"/>
   </a>
   <a href="http://dokuwiki.org/" title="Driven by DokuWiki">
    <img alt="Driven by DokuWiki" height="15" src="/my_freebsd_installation_and_configuration_guide/lib/tpl/default/images/button-dw.png" width="80"/>
   </a>
  </div>
  <div class="no">
   <img alt="" height="1" src="/my_freebsd_installation_and_configuration_guide/lib/exe/indexer.php?id=start&amp;1436825536" width="1"/>
  </div>
 </body>
</html>