<!DOCTYPE html>
<!--[if lt IE 7 ]&gt; &lt;html lang="en-US" class="ie6"&gt; &lt;![endif]-->
<!--[if IE 7 ]&gt;    &lt;html lang="en-US" class="ie7"&gt; &lt;![endif]-->
<!--[if IE 8 ]&gt;    &lt;html lang="en-US" class="ie8"&gt; &lt;![endif]-->
<!--[if IE 9 ]&gt;    &lt;html lang="en-US" class="ie9"&gt; &lt;![endif]-->
<!--[if (gt IE 9)|!(IE)]&gt;&lt;!-->
<html lang="en-US">
 <!--&lt;![endif]-->
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="English" name="language"/>
  <meta content="b514fe651e1e9f1a3fcfb84f9d582f88" name="p:domain_verify"/>
  <link href="/wp-content/themes/xbs/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700" rel="stylesheet" type="text/css"/>
  <link href="http://fonts.googleapis.com/css?family=Vollkorn" rel="stylesheet" type="text/css"/>
  <!-- Bootstrap -->
  <link href="/wp-content/themes/xbs/bootstrap/less_compiled/bootstrap.css" rel="stylesheet"/>
  <link href="/wp-content/themes/xbs/style.css?1436366152" media="all" rel="stylesheet" type="text/css"/>
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]&gt;
        &lt;script src="/wp-content/themes/xbs/bootstrap/assets/js/html5shiv.js"&gt;&lt;/script&gt;
    &lt;![endif]-->
  <!--[if !(IE 6) ]&gt;
        &lt;script src="/wp-content/themes/xbs/bootstrap/assets/js/respond.min.js"&gt;&lt;/script&gt;
    &lt;![endif]-->
  <!--[if lt IE 8]&gt;
        &lt;link rel="stylesheet" type="text/css" href="/wp-content/themes/xbs/css/ie.css"/&gt;
    &lt;![endif]-->
  <!--[if lte IE 6]&gt;
        &lt;link rel="stylesheet" type="text/css" href="/wp-content/themes/xbs/css/ie6.css"/&gt;
    &lt;![endif]-->
  <!--[if lt IE 9]&gt;
                    &lt;![endif]-->
  <script>
   jvcf7_loading_url= "/wp-content/plugins/contact-form-7/images/ajax-loader.gif";
    jvcf7_invalid_field_design = "theme_1";
	jvcf7_show_label_error = "yes";
  </script>
  <!-- This site is optimized with the Yoast WordPress SEO plugin v2.2.1 - https://yoast.com/wordpress/plugins/seo/ -->
  <title>
   Stop Being Afraid Of Promises And Be Awesome Instead - XB Software
  </title>
  <meta content="This article is about solving problems connected with asynchronous operations in JavaScript with promise objects." name="description"/>
  <meta content="promises, promise object, deferred object, commonjs promises," name="keywords"/>
  <link href="http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/" rel="canonical"/>
  <link href="https://plus.google.com/+Xbsoftware/posts" rel="publisher"/>
  <meta content="en_US" property="og:locale"/>
  <meta content="ru_RU" property="og:locale:alternate"/>
  <meta content="article" property="og:type"/>
  <meta content="Stop Being Afraid Of Promises And Be Awesome Instead - XB Software" property="og:title"/>
  <meta content="This article is about solving problems connected with asynchronous operations in JavaScript with promise objects." property="og:description"/>
  <meta content="http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/" property="og:url"/>
  <meta content="XB Software" property="og:site_name"/>
  <meta content="All posts" property="article:tag"/>
  <meta content="javascript" property="article:tag"/>
  <meta content="javascript development" property="article:tag"/>
  <meta content="Promises" property="article:tag"/>
  <meta content="tutorials" property="article:tag"/>
  <meta content="Blog" property="article:section"/>
  <meta content="2014-01-17T08:24:55+00:00" property="article:published_time"/>
  <meta content="2014-04-15T16:33:47+00:00" property="article:modified_time"/>
  <meta content="2014-04-15T16:33:47+00:00" property="og:updated_time"/>
  <meta content="http://xbsoftware.com/wp-content/uploads/2014/01/2.png" property="og:image"/>
  <!-- / Yoast WordPress SEO plugin. -->
  <link href="/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.7.1" rel="stylesheet"/>
  <link href="/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=2.7.1" rel="stylesheet"/>
  <link href="/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.7.1" rel="stylesheet"/>
  <link href="/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.0.3" rel="stylesheet"/>
  <link href="/wp-content/plugins/fancier-author-box/css/ts-fab.min.css?ver=1.4" rel="stylesheet"/>
  <link href="/wp-content/plugins/jquery-validation-for-contact-form-7/css/jvcf7_validate.css?ver=4.0" rel="stylesheet"/>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js?ver=4.0" type="text/javascript">
  </script>
  <script src="http://xbsoftware.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1" type="text/javascript">
  </script>
  <script type="text/javascript">
   /* &lt;![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.7.1","is_admin":"0","ajaxurl":"http:\/\/xbsoftware.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]&gt; */
  </script>
  <script src="/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.7.1" type="text/javascript">
  </script>
  <script src="/wp-content/plugins/fancier-author-box/js/ts-fab.min.js?ver=1.4" type="text/javascript">
  </script>
  <script src="/wp-content/plugins/wp-ajaxify-comments/js/wp-ajaxify-comments.min.js?ver=1.3.0" type="text/javascript">
  </script>
  <script type="text/javascript">
   function addHandler(object, event, handler) {
		if (typeof object.addEventListener != 'undefined') 
			object.addEventListener(event, handler, false);
		else
			if (typeof object.attachEvent != 'undefined')
				object.attachEvent('on' + event, handler);
			else 
				throw 'Incompatible browser';
	}
  </script>
  <script type="text/javascript">
   /* &lt;![CDATA[ */if (!window["WPAC"]) var WPAC = {};WPAC._Options = {debug:false,selectorCommentForm:"#commentform",selectorCommentsContainer:"#comments",selectorCommentPagingLinks:"#comments [class^='nav-'] a",selectorCommentLinks:"#comments a[href*=\"/comment-page-\"]",selectorRespondContainer:"#respond",selectorErrorContainer:"p:parent",popupCornerRadius:5,popupMarginTop:10,popupWidth:30,popupPadding:5,popupFadeIn:400,popupFadeOut:400,popupTimeout:3000,popupBackgroundColorLoading:"#000",popupTextColorLoading:"#fff",popupBackgroundColorSuccess:"#008000",popupTextColorSuccess:"#fff",popupBackgroundColorError:"#f00",popupTextColorError:"#fff",popupOpacity:70,popupTextAlign:"center",popupTextFontSize:"Default font size",popupZindex:1000,scrollSpeed:500,autoUpdateIdleTime:0,textPosted:"Your comment has been posted. Thank you!",textPostedUnapproved:"Your comment has been posted and is awaiting moderation. Thank you!",textReloadPage:"Reloading page. Please wait&hellip;",textPostComment:"Posting your comment. Please wait&hellip;",textRefreshComments:"Loading comments. Please wait&hellip;",textUnknownError:"Something went wrong, your comment has not been posted.",selectorPostContainer:"",commentPagesUrlRegex:"",asyncLoadTrigger:"DomReady",disableUrlUpdate:false,disableScrollToAnchor:false,disableCache:false,commentsEnabled:true,version:"1.3.0"};WPAC._Callbacks = {"beforeSelectElements": function(dom) {},"beforeUpdateComments": function(newDom, commentUrl) {},"afterUpdateComments": function(newDom, commentUrl) {},"beforeSubmitComment": function() {}};/* ]]&gt; */
  </script>
  <link href="http://xbsoftware.ru/blog_temp/promise-objekty-v-javascript/" hreflang="ru" rel="alternate"/>
  <link href="http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/" hreflang="en" rel="alternate"/>
  <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js">
  </script>
  <script type="text/javascript">
   (function($){
        $(document).ready(function(){
            function add_wpac_support(){
                $("#comment").bbcode({tag_bold:true,tag_italic:true,tag_underline:true,tag_quote:true,tag_link:true,tag_image:false,button_image:false});
            }
            function comment_form_validate(){
                $('#commentform').validate({
                    rules: {
                        author: {
                            required: true
                        },
                        email: {
                            required: true,
                            email: true
                        },
                        comment: {
                            required: true
                        },
                        'mc-value': {
                            required: true
                        }

                    },

                    messages: {
                        email: {
                            email: "Please enter a valid email address."
                        }
                    }
                });
                $('.comment-form input,.comment-form textarea').focus(function(){
                    $('.comment-respond .result_message').remove();
                })
            }
            if( window.WPAC ){
                WPAC._ShowMessage = function (message, type) {
                    if($('.comment-respond .result_message').length){
                        $('.comment-respond .result_message').html(message);
                    } else {
                        $('.comment-respond').append('&lt;div class="result_message"&gt;'+ message + '&lt;/div&gt;');
                    }
                    if(type=='success'){
                        $('.section-leave-comments').addClass('gray_bg');
                    }
                }
                WPAC._Callbacks["onAfterUpdateComments"] = function(){
                    add_wpac_support();
                    comment_form_validate();
                }

            }
            add_wpac_support();
            comment_form_validate();

        });
    })(jQuery)
  </script>
  <script type="text/javascript">
   var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45125951-1']);
    _gaq.push(['_setDomainName', 'xbsoftware.com']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <a href="https://plus.google.com/100824646313272709881/">
   <div class="google_plus">
   </div>
  </a>
 </head>
 <body>
  <div class="global">
   <!-- Yandex.Metrika counter -->
   <script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter22683433 = new Ya.Metrika({id:22683433,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
   </script>
   <noscript>
    <div>
     <img alt="" src="//mc.yandex.ru/watch/22683433" style="position:absolute; left:-9999px;"/>
    </div>
   </noscript>
   <!-- /Yandex.Metrika counter -->
   <div class="social_buttons social_buttons_fixed hidden-xs">
    <a class="icon32 google_plus" href="https://plus.google.com/100824646313272709881" rel="publisher" target="_blank">
    </a>
    <a class="icon32 facebook" href="https://www.facebook.com/xbsoftware" target="_blank">
    </a>
    <a class="icon32 twitter" href="https://twitter.com/xbsoftware" target="_blank">
    </a>
    <a class="icon32 linkedin" href="http://www.linkedin.com/company/xb-software-ltd-?trk=top_nav_home" target="_blank">
    </a>
    <a class="icon32 rss rss_on_blog" href="/blog/feed" target="_blank">
    </a>
   </div>
   <div class="top_line">
   </div>
   <header class="header">
    <div class="request-link-area " data-offset-top="20" data-spy="affix">
     <div class="container">
      <a class="request pull-right" href="http://xbsoftware.com/request-a-quote/" onclick="_gaq.push(['_trackPageview', '/request-a-quote']); return true;">
       <i class="icon arrow_small_right">
       </i>
       Request a quote
      </a>
     </div>
    </div>
    <div class="container">
     <div class="has_langs">
      <ul class="list-inline nav-localization">
       <li class="lang-item lang-item-3 lang-item-ru ">
        <a href="http://xbsoftware.ru/blog/promise-objekty-v-javascript/" hreflang="ru">
         ru
        </a>
       </li>
       <li class="lang-item lang-item-4 lang-item-en current-lang">
        <a href="http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/" hreflang="en">
         en
        </a>
       </li>
      </ul>
     </div>
     <div class="logo_width header_logo">
      <div class="logo">
       <a href="http://xbsoftware.com ">
        <span>
         XB Software - software development company
        </span>
       </a>
      </div>
     </div>
     <nav class="collapse navbar-collapse navbar-ex1-collapse header-menu-part">
      <ul class=" nav-pills navbar-right nav-header-menu" id="menu-header-menu">
       <li class="menu-item-first menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-21 dropdown" id="menu-item-21">
        <a href="http://xbsoftware.com/about-us/">
         About us
         <span class="caret">
         </span>
        </a>
        <ul class=" dropdown-menu" role="menu">
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-638" id="menu-item-638">
          <a href="http://xbsoftware.com/testimonials/">
           Testimonials
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-639" id="menu-item-639">
          <a href="http://xbsoftware.com/technology-expertise/">
           Technology Expertise
          </a>
         </li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-930" id="menu-item-930">
          <a href="http://xbsoftware.ru/vakansii/">
           Jobs
          </a>
         </li>
        </ul>
       </li>
       <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-24 dropdown" id="menu-item-24">
        <a href="http://xbsoftware.com/services/">
         Services
         <span class="caret">
         </span>
        </a>
        <ul class=" dropdown-menu" role="menu">
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-640" id="menu-item-640">
          <a href="/services/#web_development">
           Web Development
          </a>
         </li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-641" id="menu-item-641">
          <a href="/services/#business_analysis">
           Business Analysis
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2355" id="menu-item-2355">
          <a href="http://xbsoftware.com/services/qa-software-testing/">
           QA and Software Testing
          </a>
         </li>
        </ul>
       </li>
       <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2575" id="menu-item-2575">
        <a href="http://xbsoftware.com/qa-outsourcing-dedicated-testing-team/">
         QA Outsourcing
        </a>
       </li>
       <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-505 dropdown" id="menu-item-505">
        <a href="http://xbsoftware.com/products/">
         Products
         <span class="caret">
         </span>
        </a>
        <ul class=" dropdown-menu" role="menu">
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1728" id="menu-item-1728">
          <a href="http://xbsoftware.com/products/enjoycss/">
           EnjoyCSS
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1437" id="menu-item-1437">
          <a href="http://xbsoftware.com/products/enjoyhint/">
           EnjoyHint
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2760" id="menu-item-2760">
          <a href="http://xbsoftware.com/products/ganttpro/">
           GanttPRO
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2251" id="menu-item-2251">
          <a href="http://xbsoftware.com/products/kickerplay/">
           KickerPlay
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-859" id="menu-item-859">
          <a href="http://xbsoftware.com/products/webix/">
           Webix
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2061" id="menu-item-2061">
          <a href="http://xbsoftware.com/products/webix-crm/">
           Webix CRM
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-858" id="menu-item-858">
          <a href="http://xbsoftware.com/products/xb-staff-manager/">
           XB Staff Manager
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-860" id="menu-item-860">
          <a href="http://xbsoftware.com/products/xbtrack-bug-task-tracker/">
           XBtrack
          </a>
         </li>
        </ul>
       </li>
       <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-644 dropdown" id="menu-item-644">
        <a href="http://xbsoftware.com/projects-overview/">
         Portfolio
         <span class="caret">
         </span>
        </a>
        <ul class=" dropdown-menu" role="menu">
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-643" id="menu-item-643">
          <a href="http://xbsoftware.com/projects-overview/">
           Projects Overview
          </a>
         </li>
         <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-414" id="menu-item-414">
          <a href="http://xbsoftware.com/case-studies/">
           Case Studies
          </a>
         </li>
        </ul>
       </li>
       <li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-118" id="menu-item-118">
        <a href="http://xbsoftware.com/blog/">
         Blog
        </a>
       </li>
       <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22" id="menu-item-22">
        <a href="http://xbsoftware.com/contact-us/">
         Contact us
        </a>
       </li>
       <li class="menu-item-last menu-item menu-item-type-post_type menu-item-object-page menu-item-2576" id="menu-item-2576">
        <a href="http://xbsoftware.com/qa-outsourcing-dedicated-testing-team/">
         QA Outsourcing
        </a>
       </li>
      </ul>
     </nav>
     <span class="search-icon">
     </span>
     <div class="search-wrapper">
      <form action="http://xbsoftware.com/" class="searchform" id="searchform" method="get">
       <fieldset class="border-radius-4">
        <input id="search" name="s" placeholder="Search" type="text" value=""/>
        <input id="post_type" name="post_type" type="hidden" value="post"/>
        <input alt="Search" class="pull-right" src="/wp-content/themes/xbs/images/blog/search-icon.png" type="image"/>
       </fieldset>
      </form>
      <span class="hide-search-form">
      </span>
     </div>
    </div>
   </header>
   <div class="gradient minus_gradient_height">
   </div>
   <div class="container ">
    <div class="col-sm-9 ie-col-9 v-padding30">
     <div class="navigation">
      <p id="breadcrumbs">
       <span xmlns:v="http://rdf.data-vocabulary.org/#">
        <span typeof="v:Breadcrumb">
         <a href="http://xbsoftware.com" property="v:title" rel="v:url">
          XB Software
         </a>
         <span class="breadcrumbs-divider">
         </span>
         <span rel="v:child" typeof="v:Breadcrumb">
          <a href="http://xbsoftware.com/blog/" property="v:title" rel="v:url">
           Blog
          </a>
          <span class="breadcrumbs-divider">
          </span>
          <span class="breadcrumb_last">
           Stop Being Afraid Of Promises And Be Awesome Instead
          </span>
         </span>
        </span>
       </span>
      </p>
     </div>
     <a class="pull-right all-post-link" href="/blog/">
      <i class="icon all-posts">
      </i>
      All posts
     </a>
     <section class="clear category-post">
      <h1 class="blog_header post_title">
       Stop Being Afraid Of Promises And Be Awesome Instead
      </h1>
      <p>
       <span class="post_author">
        By Vladimir Dashukevich |
       </span>
       <span class="post_date">
        January 17, 2014
       </span>
      </p>
      <p>
       Every day we struggle with the asynchronous world of JavaScript. That was a real war two years ago. All these animations, requests to the servers with clever API forcing us to make requests for each entity in their database, as well as usual timeouts made us write lots of callbacks. Lets see a short example of how we can get all shops with ingredients for an apple pie.
       <span id="more-312">
       </span>
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f2b338975300" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         connection.request({
                	entity: "pie",
                	type: "apple"
      	}, function(results){
                	connection.request({
                          	entity: "shop",
                          	goods: results.ingredients
                	}, function(shops){
                          	//go shopping
                	}, function(error){
                          	console.log("Error again");
                	});
      	}, function(e){
                	console.log("Error");
      	});
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f2b338975300-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f2b338975300-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f2b338975300-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f2b338975300-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f2b338975300-10">
             10
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-11">
             11
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f2b338975300-12">
             12
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-13">
             13
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f2b338975300-14">
             14
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f2b338975300-15">
             15
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-1">
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f2b338975300-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "pie"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              type
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "apple"
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f2b338975300-4">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              results
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-5">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f2b338975300-6">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "shop"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              goods
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              results
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-i">
              ingredients
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f2b338975300-8">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              shops
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //go shopping
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f2b338975300-10">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              error
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-11">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              console
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              log
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "Error again"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f2b338975300-12">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-13">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              e
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f2b338975300-14">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              console
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              log
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "Error"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f2b338975300-15">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0040 seconds] -->
      <p>
       Here we can see four callbacks: two for getting results and two for handling errors. It doesnt look pretty, does it? Ok, but what if we have a more complicated example with cache and lots of modules. All the requested data may be used by some modules or widgets in your application, and each of them will make a call to the server to get the data. Of course, we should keep in mind progress elements that have to be shown in the right place until we get responses. The only way out is to synchronize all requests. And here is the hero that will save the day  a promise object.
      </p>
      <p style="text-align: center;">
       <img alt="promises" class="img-responsive alignnone size-full wp-image-319" height="238" src="/wp-content/uploads/2014/01/2.png" width="299"/>
      </p>
      <h2 style="text-align: left;">
       Use of Promises
      </h2>
      <p>
       There are plenty of sources that provide information about it. For example, the most basic specification known under the name
       <a href="http://wiki.commonjs.org/wiki/Promises/A" rel="nofollow" target="_blank" title="commonjs promises A">
        CommonJS Promises/A
       </a>
       and its a bit extended version
       <a href="http://promises-aplus.github.io/promises-spec/" rel="nofollow" target="_blank" title="promises A+">
        Promises/A+
       </a>
       .
       <br/>
       To make a long story short, the promise object stores the current state of request. It means that every piece of code that has reference to this object may know about this request and its state, whether it is fulfilled, failed or still in progress. Also, we may attach some handlers that will be called when the state of the request changes.
       <br/>
       There are many types of promises:
       <a href="http://wiki.commonjs.org/wiki/Promises" rel="nofollow" target="_blank" title="promises">
        A, B, C, D, KISS
       </a>
       . All of them use the same concept of storing the current state of object, but have a different set of methods and names for the promise object. However, all of them try to make our life easier by hiding all transport, error handling and collecting results logic, as well as giving us a way to deal with business logic.
       <br/>
       Lets see a small and useful example. We have an object that is called connection to request something from the server. It has a method request that takes request parameters and returns a promise object. We have to wait for a response and show a progress element for better user experience. In this example, I wont use any library to create promises, its just a pseudocode to explain the point.
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f3e242685618" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var Progress = function(){
      	var elem = this.element = document.createElement("DIV");
      	elem.className = "waitingAnimation";
};

Progress.prototype = {
      	showUntilRequestsAreFinished: function(promise){
                	var progressElement = this.element;
                	document.body.appendChild(progressElement);

                	promise.then(function(){
                          	document.body.removeChild(progressElement);
                	}, function(){
                          	document.body.removeChild(progressElement);
                	})
      	};
};

var onError = function(){
      	alert("error");
};

var promiseForAllChainOfRequests = connection.request({
      	entity: "pie",
      	type: "apple"
}).then(function getIngredients(pie){
      	//success, we have data about pie, and we will return only its ingredients
      	return pie.ingredients;
}, onError).then(function requestShops(ingredients){
      	//this function will be fired right after the previous one
      	return connection.request({
                	entity: "shop",
                	goods: ingredients
      	};
}, onError).then(function showAllOpenedShops(shops){
      	//this function will be fired when request for shops will be finished
      	//do smth
}, onError);

progress = new Progress();
progress.showUntilRequestsAreFinished(promiseForAllChainOfRequests);
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-10">
             10
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-11">
             11
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-12">
             12
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-13">
             13
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-14">
             14
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-15">
             15
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-16">
             16
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-17">
             17
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-18">
             18
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-19">
             19
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-20">
             20
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-21">
             21
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-22">
             22
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-23">
             23
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-24">
             24
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-25">
             25
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-26">
             26
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-27">
             27
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-28">
             28
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-29">
             29
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-30">
             30
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-31">
             31
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-32">
             32
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-33">
             33
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-34">
             34
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-35">
             35
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-36">
             36
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-37">
             37
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-38">
             38
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-39">
             39
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f3e242685618-40">
             40
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f3e242685618-41">
             41
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              Progress
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              elem
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              this
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              element
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              createElement
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "DIV"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              elem
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              className
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "waitingAnimation"
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-4">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-5">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-6">
             <span class="crayon-v">
              Progress
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              prototype
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              showUntilRequestsAreFinished
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              promise
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-8">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              progressElement
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              this
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              element
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              body
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              appendChild
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              progressElement
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-10">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-11">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              promise
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-12">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              body
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              removeChild
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              progressElement
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-13">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-14">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              body
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              removeChild
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              progressElement
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-15">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-16">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-17">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-18">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-19">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              onError
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-20">
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              alert
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "error"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-21">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-22">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-23">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              promiseForAllChainOfRequests
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-24">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "pie"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-25">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              type
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "apple"
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-26">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              getIngredients
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-27">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //success, we have data about pie, and we will return only its ingredients
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-28">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              ingredients
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-29">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              onError
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              requestShops
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              ingredients
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-30">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //this function will be fired right after the previous one
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-31">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-32">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "shop"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-33">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              goods
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              ingredients
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-34">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-35">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              onError
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              showAllOpenedShops
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              shops
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-36">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //this function will be fired when request for shops will be finished
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-37">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //do smth
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-38">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              onError
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-39">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f3e242685618-40">
             <span class="crayon-v">
              progress
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              new
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              Progress
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f3e242685618-41">
             <span class="crayon-v">
              progress
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              showUntilRequestsAreFinished
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              promiseForAllChainOfRequests
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0100 seconds] -->
      <p>
       Nice. Weve separated two different modules. A module to show the progress and a module to analyze data from the server. For now we dont need to bother about calling the stop method to remove progress element from DOM. We can forget about it and it will be self-removed. Besides, the problem with two nested callbacks was solved. We may read all this code as an English text, if we give right names to the functions: Request a pie, then get ingredients, then request shops, then show all opened shops.
      </p>
      <p>
       That was the easiest part of the way of using promises. Lets add cache and two independent widgets that will request almost the same data from the server. First of all, we should create a cache that will always return a promise object. If there is already a value in cache, this promise object will be already fulfilled and the method then will be called immediately. If there is no such value, it will be requested on the server. A key for each value is a stringified JSON for request. Here is a code snippet:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f48628459160" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var createCache = function(connection){
      	var cache = {};
      	return {
                	get: function(requestJSON){
                          	var key = JSON.stringify(requestJSON),
                                   	newPromise = new Promise(),
                                   	value;

                          	if (cache.hasOwnProperty(key)){
                                   	value = cache[key];

                                   	//check is it already promise or not
                                   	if (value.hasOwnProperty("then")){
                                             	newPromise = value
                                   	} else {
                                             	newPromise.fulfill(value));
                                   	}
                          	} else {
                                   	connection.request(requestJSON, function(results){
                                             	cache[key] = results;
                                             	newPromise.fulfill(results);
                          	      	}, function(e){
                                             	delete cache[key];
                                             	newPromise.reject(e);
                                   	});
                          	}

                          	return newPromise;
                	}
      	}
};
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-10">
             10
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-11">
             11
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-12">
             12
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-13">
             13
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-14">
             14
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-15">
             15
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-16">
             16
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-17">
             17
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-18">
             18
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-19">
             19
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-20">
             20
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-21">
             21
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-22">
             22
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-23">
             23
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-24">
             24
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-25">
             25
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-26">
             26
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-27">
             27
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-28">
             28
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-29">
             29
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f48628459160-30">
             30
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f48628459160-31">
             31
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              createCache
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-4">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              get
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              requestJSON
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-5">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              key
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              JSON
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              stringify
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              requestJSON
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-6">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              newPromise
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              new
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              Promise
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              value
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-8">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              if
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              hasOwnProperty
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              key
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-10">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              value
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-v">
              key
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-11">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-12">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //check is it already promise or not
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-13">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              if
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              value
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              hasOwnProperty
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "then"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-14">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              newPromise
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              value
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-15">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              else
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-16">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              newPromise
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              fulfill
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              value
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-17">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-18">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              else
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-19">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              requestJSON
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              results
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-20">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-v">
              key
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              results
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-21">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              newPromise
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              fulfill
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              results
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-22">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              e
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-23">
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              delete
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-v">
              key
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-24">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              newPromise
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              reject
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              e
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-25">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-26">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-27">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-28">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              newPromise
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-29">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f48628459160-30">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f48628459160-31">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0076 seconds] -->
      <p>
       Its the simplest implementation of cache without timeout to invalidate values and set methods. It has just one method get. When we try to get some value from cache, it will return a promise object. The promise object may be either fulfilled or wait for response. As you can see, if we call the method get two times, well get the same promise object. It helps us prevent two similar requests to the server. Also, we can keep all our widgets or modules independent. Lets see how we can use the cache in our app.
      </p>
      <p>
       We have two widgets: one to show the ingredients for the chosen pie and the other to show shops where we can buy all of them. These are two independent widgets that dont know about each other. We should also use our progress module. We need to change it a little bit and add another argument to the showUntilRequestsAreFinished method that will store a reference to the element above, which progress should be shown. Lets see the code:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f52295709224" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var shopsWidget = function(cache, parent){
      	      	return {
                          	showShopsForIngredients: function(applePieId){
                                   	return cache.get({
                                             	entity: "pie",
                                             	id: applePieId
                                   	}).then(function(pie){
                                             	return pie.ingredients;
                                   	}).then(function(ingredients){
                                             	return cache.get({
                                                       	entity: "shop",
                                                       	goods: ingredients
                                             	});
                                   	}).then(function(shops){
                                             	//create a list of shops
                                   	});
                          	}
                	}
      	},
      	recipeWidget = function(cache, parent){
                	return {
                          	showRecipe: function(applePieId){
                                   	return cache.get({
                                             	entity: "pie",
                                             	id: applePieId
                                   	}).then(function(pie){
                                             	//show recipe somewhere
                                   	});
                          	}
                	}
      	};

var cache = createCache(connection),
      	applePieId = "idFromUrl",
      	progress = new Progress();

//... lots of code

var shopsParentElement = document.getElementById("listOfShopsId"),
      	shops = shopsWidget(cache, shopsParentElement),
      	promiseThatWillBeFinishedAfterPopulatingAllShops = shops.showShopsForIngredients(applePieId);

progress.showUntilRequestsAreFinished(promiseThatWillBeFinishedApterPopulatingAllShops, shopsParentElement);

//... second pile of code

setTimeout(function(){
      	var recipeParentElement = document.getElementById("recipeElementId"),
                	recipe = recipeWidget(cache, recipeParentElement),
                	promiseThatWillBeFinishedAfterGettingRecipe = recipe.showRecipe(applePieId);

      	progress.showUntilRequestsAreFinished(promiseThatWillBeFinishedAfterGettingRecipe, recipeParentElement);
}, 1);
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-10">
             10
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-11">
             11
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-12">
             12
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-13">
             13
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-14">
             14
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-15">
             15
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-16">
             16
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-17">
             17
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-18">
             18
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-19">
             19
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-20">
             20
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-21">
             21
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-22">
             22
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-23">
             23
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-24">
             24
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-25">
             25
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-26">
             26
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-27">
             27
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-28">
             28
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-29">
             29
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-30">
             30
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-31">
             31
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-32">
             32
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-33">
             33
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-34">
             34
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-35">
             35
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-36">
             36
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-37">
             37
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-38">
             38
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-39">
             39
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-40">
             40
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-41">
             41
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-42">
             42
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-43">
             43
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-44">
             44
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-45">
             45
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-46">
             46
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-47">
             47
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-48">
             48
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-49">
             49
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-50">
             50
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-51">
             51
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f52295709224-52">
             52
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f52295709224-53">
             53
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              shopsWidget
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              parent
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              showShopsForIngredients
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              applePieId
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-4">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              get
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-5">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "pie"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-6">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              id
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              applePieId
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-8">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              ingredients
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              ingredients
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-10">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              get
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-11">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "shop"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-12">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              goods
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              ingredients
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-13">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-14">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              shops
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-15">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //create a list of shops
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-16">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-17">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-18">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-19">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-20">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              recipeWidget
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              parent
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-21">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-22">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              showRecipe
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              applePieId
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-23">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              get
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-24">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "pie"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-25">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              id
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              applePieId
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-26">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-27">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //show recipe somewhere
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-28">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-29">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-30">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-31">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-32">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-33">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              createCache
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-34">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              applePieId
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "idFromUrl"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-35">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              progress
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              new
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              Progress
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-36">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-37">
             <span class="crayon-c">
              //... lots of code
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-38">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-39">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              shopsParentElement
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              getElementById
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "listOfShopsId"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-40">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              shops
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              shopsWidget
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              shopsParentElement
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-41">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              promiseThatWillBeFinishedAfterPopulatingAllShops
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              shops
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              showShopsForIngredients
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              applePieId
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-42">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-43">
             <span class="crayon-v">
              progress
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              showUntilRequestsAreFinished
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              promiseThatWillBeFinishedApterPopulatingAllShops
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              shopsParentElement
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-44">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-45">
             <span class="crayon-c">
              //... second pile of code
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-46">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-47">
             <span class="crayon-e">
              setTimeout
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-48">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              recipeParentElement
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              getElementById
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "recipeElementId"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-49">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              recipe
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              recipeWidget
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              cache
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              recipeParentElement
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-50">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              promiseThatWillBeFinishedAfterGettingRecipe
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              recipe
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              showRecipe
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              applePieId
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-51">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f52295709224-52">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              progress
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              showUntilRequestsAreFinished
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              promiseThatWillBeFinishedAfterGettingRecipe
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              recipeParentElement
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f52295709224-53">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-cn">
              1
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0129 seconds] -->
      <p>
       As you can see, all these modules make the same request to get an apple pie recipe by its id. But our clever cache prevents us from repeating this action and in the second time (for recipeWidget that is in another event loop because of timeout) it will return the promise that is created by the first call (for shopsWidget). These two widgets wait for the same response from server. When a response comes the shopsWidget gets all data first of all, and only after it makes another call for the shops, the recipeWidget will get the same data.
      </p>
      <h2>
       A Real Promise Implementation
      </h2>
      <p>
       Well, the pseudocode looks great but it has one big disadvantage: it doesnt work. There are two ways to solve this problem: create your own SuperMegaCoolestPromiseWithBlackjack or use the existing libraries.
       <br/>
       The first way is great, if you dont want to depend on some third-party libraries. You may choose whatever implementation you like and add some more methods. But you should be careful, there are lots of tricky stuff around it. Thats why we have here the second way.
       <br/>
       As I said, there are lots of libraries to create promises:
      </p>
      <ol>
       <li>
        <a href="https://github.com/kriskowal/q" rel="nofollow" target="_blank" title="read more">
         Q
        </a>
       </li>
       <li>
        <a href="https://github.com/cujojs/when" rel="nofollow" target="_blank" title="read more">
         when.js
        </a>
       </li>
       <li>
        <a href="https://github.com/tildeio/rsvp.js?utm_source=javascriptweekly" rel="nofollow" target="_blank" title="read more">
         RSVP.js
        </a>
       </li>
       <li>
        Deferred (as a part of jQuery or Dojo)
       </li>
       <li>
        Many others like WinJS, and so on.
       </li>
      </ol>
      <p>
       All of them support the model that is described in specification (but be careful with jQuery 1.9 and less. Its implementation of promises is a bit different. The method then doesnt return a promise and you cant chain all your requests).
       <br/>
       Before diving into the implementation of promises, I should explain one more thing, that is a deferred object. As you understood, a promise object represents the current state of some async operation. You can read its state, but you cant change it. To change the state of promise you should use the deferred object connected with it. All deferred objects have at least two methods (to reject and fulfill the connected promise) and one property (connection with this deferred object promise). These methods are often named reject and resolve (fulfill). The deferred object can also have a notify method to show progress.
       <br/>
       All libraries, of course, have a constructor for deferred objects and usual promises that have then and some other fancy methods. Lets look closer to their APIs.
      </p>
      <h3>
       1. Q.js
      </h3>
      <p>
       Its a small library for creating promises (~2.5 KB minified and gzipped). It can be used with nodejs and in a browser. Also Q can exchange promises with jQuery, Dojo, When.js, WinJS, and more. It creates a global object Q that is a function. A promise can be created like this: Q(some value). Q.defer() is used to create deferred object that can be rejected, resolved (or fulfilled, the same as resolved), notified (to show progress). The deferred object is used to control the state of promise. For example, wed like to make some asynchronous action, return a promise object and resolve (or reject) it when the action will be finished. Lets see another implementation of the recipeWidget:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f5d223393517" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var recipeWidget = (function(connection){
      	                	return {
                                   	getRecipe: function(applePieId){
                                             	var deferred = Q.defer();

                                             	connection.request({
                                                       	entity: "pie",
                                                       	id: applePieId
                                             	}, function(pie){
                                                       	//or deferred.fulfill(pie) it's the same
                                                       	deferred.resolve(pie);  	
                          	                	}, function(error){
                                                       	deferred.reject(error);  	
                                             	});

                                             	return deferred.promise;
                                   	}
                          	})(connection);
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-10">
             10
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-11">
             11
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-12">
             12
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-13">
             13
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-14">
             14
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-15">
             15
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-16">
             16
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f5d223393517-17">
             17
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f5d223393517-18">
             18
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              recipeWidget
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              getRecipe
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              applePieId
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-4">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              Q
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              defer
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-5">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-6">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "pie"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-8">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              id
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              applePieId
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-10">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              //or deferred.fulfill(pie) it's the same
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-11">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              resolve
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
             <span class="crayon-h">
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-12">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              error
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-13">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              reject
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              error
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
             <span class="crayon-h">
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-14">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-15">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-16">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              promise
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f5d223393517-17">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f5d223393517-18">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0048 seconds] -->
      <p>
       There is also another way to create promises and change their status. You should call the method Promise and pass a callback. This callback is named a resolver and has two arguments: a function to fulfill and reject the created promise:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f66973346268" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         Q.Promise(function(resolve, reject){
                          	connection.request({
                                   	entity: "pie",
                                   	id: applePieId
                          	}, function(pie){
                                   	resolve(pie);      	
                          	}, function(error){
                                   	reject(error);      	
                          	});
                	});
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f66973346268-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f66973346268-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f66973346268-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f66973346268-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f66973346268-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f66973346268-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f66973346268-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f66973346268-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f66973346268-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f66973346268-10">
             10
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f66973346268-1">
             <span class="crayon-v">
              Q
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              Promise
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              resolve
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              reject
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f66973346268-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f66973346268-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "pie"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f66973346268-4">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              id
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              applePieId
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f66973346268-5">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f66973346268-6">
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              resolve
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pie
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
             <span class="crayon-h">
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f66973346268-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              error
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f66973346268-8">
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              reject
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              error
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
             <span class="crayon-h">
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f66973346268-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f66973346268-10">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0029 seconds] -->
      <p>
       Ok. The deferred object has quite a simple interface. The most interesting part of this library is the promise object. It includes a lot of useful methods and these are the most important:
      </p>
      <ol>
       <li>
        then  the same as in the specification;
       </li>
       <li>
        inspect  returns an object with the current state of the promise and its value;
       </li>
       <li>
        all  returns a promise that will be fulfilled when all promises that are passed in array as an argument are fulfilled;
       </li>
       <li>
        spread  is like then, but spreads the array into a variadic fulfillment handler. It means that if we apply it to the promise that we get from that all method, the amount of arguments will be the same as the length of an array that is passed to the all:
        <br/>
        <!-- Crayon Syntax Highlighter v2.7.1 -->
        <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f6d297402037" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title">
          </span>
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon">
            </div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon">
            </div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon">
            </div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon">
            </div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon">
            </div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon">
            </div>
           </div>
          </div>
         </div>
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
         </div>
         <div class="crayon-plain-wrap">
          <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
           Q.all([promiseA, promiseB, promiseC ]).spread(function(valueOrReasonOfRejectionForPromiseA, 
valueOrReasonOfRejectionForPromiseB, valueOrReasonOfRejectionForPromiseC){
//do sth
});
          </textarea>
         </div>
         <div class="crayon-main" style="">
          <table class="crayon-table">
           <tr class="crayon-row">
            <td class="crayon-nums " data-settings="show">
             <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-num" data-line="crayon-55a56291b2f6d297402037-1">
               1
              </div>
              <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f6d297402037-2">
               2
              </div>
              <div class="crayon-num" data-line="crayon-55a56291b2f6d297402037-3">
               3
              </div>
              <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f6d297402037-4">
               4
              </div>
             </div>
            </td>
            <td class="crayon-code">
             <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
              <div class="crayon-line" id="crayon-55a56291b2f6d297402037-1">
               <span class="crayon-v">
                Q
               </span>
               <span class="crayon-sy">
                .
               </span>
               <span class="crayon-e">
                all
               </span>
               <span class="crayon-sy">
                (
               </span>
               <span class="crayon-sy">
                [
               </span>
               <span class="crayon-v">
                promiseA
               </span>
               <span class="crayon-sy">
                ,
               </span>
               <span class="crayon-h">
               </span>
               <span class="crayon-v">
                promiseB
               </span>
               <span class="crayon-sy">
                ,
               </span>
               <span class="crayon-h">
               </span>
               <span class="crayon-i">
                promiseC
               </span>
               <span class="crayon-h">
               </span>
               <span class="crayon-sy">
                ]
               </span>
               <span class="crayon-sy">
                )
               </span>
               <span class="crayon-sy">
                .
               </span>
               <span class="crayon-e">
                spread
               </span>
               <span class="crayon-sy">
                (
               </span>
               <span class="crayon-t">
                function
               </span>
               <span class="crayon-sy">
                (
               </span>
               <span class="crayon-v">
                valueOrReasonOfRejectionForPromiseA
               </span>
               <span class="crayon-sy">
                ,
               </span>
               <span class="crayon-h">
               </span>
              </div>
              <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f6d297402037-2">
               <span class="crayon-v">
                valueOrReasonOfRejectionForPromiseB
               </span>
               <span class="crayon-sy">
                ,
               </span>
               <span class="crayon-h">
               </span>
               <span class="crayon-v">
                valueOrReasonOfRejectionForPromiseC
               </span>
               <span class="crayon-sy">
                )
               </span>
               <span class="crayon-sy">
                {
               </span>
              </div>
              <div class="crayon-line" id="crayon-55a56291b2f6d297402037-3">
               <span class="crayon-c">
                //do sth
               </span>
              </div>
              <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f6d297402037-4">
               <span class="crayon-sy">
                }
               </span>
               <span class="crayon-sy">
                )
               </span>
               <span class="crayon-sy">
                ;
               </span>
              </div>
             </div>
            </td>
           </tr>
          </table>
         </div>
        </div>
        <!-- [Format Time: 0.0015 seconds] -->
       </li>
       <li>
        methods to check the state of promise: isReject, isPending, isFulfilled;
       </li>
       <li>
        timeout  returns a promise that will be rejected if it isnt fulfilled during the certain period of time;
       </li>
       <li>
        lots of sugar methods like thenResolve, thenReject, that can be replaced with the then method.
       </li>
      </ol>
      <p>
       Lets see a real example of using this library. In first example, we will request three images one by one (for preventing fast loading Ill add some delay with Fiddler). Each request will create a new deferred object and return a promise. When image is loaded Ill resolve corresponding promise and made a next request. Here is the code:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f75588305538" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var galary = document.getElementById("images"),
		imgs = ["img1", "img2", "img3"	],
		requestImage = function(parent, url){
			var img = document.createElement("IMG"),
				deferred = Q.defer();

			img.src = url;
			img.onload = function(){
				deferred.resolve(this);
				this.onload = null;
			};

			parent.appendChild(img);

			return deferred.promise;
		};

		requestImage(galary, imgs.shift()).then(function(){
			return requestImage(galary, imgs.shift());	
		}).then(function(){
			return requestImage(galary, imgs.shift());
		});
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-10">
             10
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-11">
             11
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-12">
             12
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-13">
             13
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-14">
             14
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-15">
             15
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-16">
             16
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-17">
             17
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-18">
             18
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-19">
             19
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-20">
             20
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f75588305538-21">
             21
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f75588305538-22">
             22
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              getElementById
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "images"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              imgs
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-s">
              "img1"
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "img2"
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "img3"
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              requestImage
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-r">
              parent
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              url
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-4">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              img
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              document
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              createElement
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "IMG"
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-5">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              Q
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              defer
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-6">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              img
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              src
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              url
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-8">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              img
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              onload
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              resolve
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-r">
              this
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-10">
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              this
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              onload
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              null
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-11">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-12">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-13">
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              parent
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              appendChild
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              img
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-14">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-15">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              promise
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-16">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-17">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-18">
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              requestImage
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              imgs
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              shift
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-19">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              requestImage
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              imgs
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              shift
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
             <span class="crayon-h">
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-20">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f75588305538-21">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              requestImage
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              imgs
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              shift
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f75588305538-22">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0066 seconds] -->
      <p>
       <img alt="promises 1" class="img-responsive size-full wp-image-330 aligncenter" height="181" src="/wp-content/uploads/2014/01/promises1_1.png" width="731"/>
      </p>
      <p>
       Its not the best solution for loading images one by one because its quite long. In the second example, Ill download all images at the same time and show when all of them are loaded. Ill use method all:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f7d978239410" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         Q.all([requestImage(galary, imgs[0]), requestImage(galary, imgs[1]), requestImage(galary, imgs[2])]).then(function(){
			galary.style.display = "block";
		});
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f7d978239410-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f7d978239410-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f7d978239410-3">
             3
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f7d978239410-1">
             <span class="crayon-v">
              Q
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              all
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-e">
              requestImage
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              imgs
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-cn">
              0
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              requestImage
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              imgs
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-cn">
              1
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              requestImage
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              imgs
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-cn">
              2
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f7d978239410-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              galary
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              style
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              display
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "block"
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f7d978239410-3">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0023 seconds] -->
      <p>
       <img alt="promises 2" class="img-responsive size-full wp-image-331 aligncenter" height="167" src="/wp-content/uploads/2014/01/promises2_1.png" width="731"/>
      </p>
      <h3 style="text-align: left;">
       2.When.js
      </h3>
      <p>
       This library is almost the same as the previous one. To create a deferred object we should use when.defer(). The deferred and the promise object have the same methods. However, there are some fancy sugar methods that can make our life a bit simpler:
      </p>
      <p>
       1) All array method: map, reduce, some. They are similar to the array methods;
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f84310152069" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var promise = when.map(["apple", "orange", "kiwi"], function(fruit){
                          	var deferred = when.defer();

                          	connection.request({
                                   	entity: "pie",
                                   	type: fruit
                          	}, function(pies){
                                   	deferred.resolve(pies);
                          	}, function(reason){
                                   	deferred.reject(reason);
                          	});

                          	return deferred.promise;
                	});
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f84310152069-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f84310152069-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f84310152069-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f84310152069-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f84310152069-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f84310152069-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f84310152069-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f84310152069-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f84310152069-9">
             9
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f84310152069-10">
             10
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f84310152069-11">
             11
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f84310152069-12">
             12
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f84310152069-13">
             13
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f84310152069-14">
             14
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f84310152069-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              promise
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              when
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              map
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              [
             </span>
             <span class="crayon-s">
              "apple"
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "orange"
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "kiwi"
             </span>
             <span class="crayon-sy">
              ]
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              fruit
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f84310152069-2">
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              when
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              defer
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f84310152069-3">
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f84310152069-4">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              connection
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              request
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f84310152069-5">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              entity
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-s">
              "pie"
             </span>
             <span class="crayon-sy">
              ,
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f84310152069-6">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              type
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              fruit
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f84310152069-7">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pies
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f84310152069-8">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              resolve
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              pies
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f84310152069-9">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              reason
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f84310152069-10">
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              reject
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              reason
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f84310152069-11">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f84310152069-12">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f84310152069-13">
             <span class="crayon-h">
             </span>
             <span class="crayon-st">
              return
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              deferred
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              promise
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f84310152069-14">
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0040 seconds] -->
      <p>
       2) any  this method takes an array of promises and returns a promise that will be fulfilled when one of the promises from array is fulfilled;
      </p>
      <h3>
       3. RSVP.js
      </h3>
      <p>
       Its the smallest library for creating promise objects. It has the same method to create deferred objects. It has a classic Promise/A+ implementation.
       <br/>
       Besides, it is extended with events. You may subscribe to and unsubscribe from some events like created, chained, fulfilled, rejected. It also includes a build-in EventTarget module that can turn some of your objects into the event target and all event handlers may be bound with this object:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f8c244947953" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var object = {};

RSVP.EventTarget.mixin(object);

object.on("finished", function(event) {
  // handle event
});

object.trigger("finished", { detail: value });
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f8c244947953-1">
             1
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f8c244947953-2">
             2
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f8c244947953-3">
             3
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f8c244947953-4">
             4
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f8c244947953-5">
             5
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f8c244947953-6">
             6
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f8c244947953-7">
             7
            </div>
            <div class="crayon-num crayon-striped-num" data-line="crayon-55a56291b2f8c244947953-8">
             8
            </div>
            <div class="crayon-num" data-line="crayon-55a56291b2f8c244947953-9">
             9
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f8c244947953-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              object
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f8c244947953-2">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f8c244947953-3">
             <span class="crayon-v">
              RSVP
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-v">
              EventTarget
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              mixin
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              object
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f8c244947953-4">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f8c244947953-5">
             <span class="crayon-t">
              object
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              on
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "finished"
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              event
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f8c244947953-6">
             <span class="crayon-h">
             </span>
             <span class="crayon-c">
              // handle event
             </span>
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f8c244947953-7">
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
            <div class="crayon-line crayon-striped-line" id="crayon-55a56291b2f8c244947953-8">
            </div>
            <div class="crayon-line" id="crayon-55a56291b2f8c244947953-9">
             <span class="crayon-t">
              object
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-e">
              trigger
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-s">
              "finished"
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              {
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              detail
             </span>
             <span class="crayon-o">
              :
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-i">
              value
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0022 seconds] -->
      <p>
       Other ways of promise implementations are almost the same. Note that some of them may not support all features of classic promises (like promises in JQuery 1.9 and less).
      </p>
      <h2 dir="ltr">
       Future of Promises
      </h2>
      <p>
       In the end, Id like to say a few words about native browser implementation of promises. Yes, its our future and its not so far. You may create native promises right now in Chrome 32 and Firefox 27. The interface is simple. There is a global constructor Promise. You have to call this constructor and pass resolver as a first parameter. The created promise has only two methods then and catch for now:
      </p>
      <!-- Crayon Syntax Highlighter v2.7.1 -->
      <div class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" id="crayon-55a56291b2f94042287007" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
       <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
        <span class="crayon-title">
        </span>
        <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
         <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-expand-button" title="Expand Code">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-copy-button" title="Copy">
          <div class="crayon-button-icon">
          </div>
         </div>
         <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
          <div class="crayon-button-icon">
          </div>
         </div>
        </div>
       </div>
       <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;">
       </div>
       <div class="crayon-plain-wrap">
        <textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">
         var promise = new Promise(function(resolve, reject){}).then(function(value){}, function(errorReason){});
        </textarea>
       </div>
       <div class="crayon-main" style="">
        <table class="crayon-table">
         <tr class="crayon-row">
          <td class="crayon-nums " data-settings="show">
           <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
            <div class="crayon-num" data-line="crayon-55a56291b2f94042287007-1">
             1
            </div>
           </div>
          </td>
          <td class="crayon-code">
           <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
            <div class="crayon-line" id="crayon-55a56291b2f94042287007-1">
             <span class="crayon-t">
              var
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              promise
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-o">
              =
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-r">
              new
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-e">
              Promise
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              resolve
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-v">
              reject
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              .
             </span>
             <span class="crayon-st">
              then
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              value
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              ,
             </span>
             <span class="crayon-h">
             </span>
             <span class="crayon-t">
              function
             </span>
             <span class="crayon-sy">
              (
             </span>
             <span class="crayon-v">
              errorReason
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              {
             </span>
             <span class="crayon-sy">
              }
             </span>
             <span class="crayon-sy">
              )
             </span>
             <span class="crayon-sy">
              ;
             </span>
            </div>
           </div>
          </td>
         </tr>
        </table>
       </div>
      </div>
      <!-- [Format Time: 0.0015 seconds] -->
      <p>
       Thanks for your attention. You are welcome to leave your comments below and share this article.
      </p>
      <div class="ts-fab-wrapper" id="ts-fab-below">
       <span class="screen-reader-text">
        The following two tabs change content below.
       </span>
       <ul class="ts-fab-list">
        <li class="ts-fab-bio-link">
         <a href="#ts-fab-bio-below">
          Bio
         </a>
        </li>
        <li class="ts-fab-latest-posts-link">
         <a href="#ts-fab-latest-posts-below">
          Latest Posts
         </a>
        </li>
       </ul>
       <div class="ts-fab-tabs">
        <div class="ts-fab-tab" id="ts-fab-bio-below">
         <div class="ts-fab-avatar">
          <img alt="Vladimir Dashukevich" class="avatar avatar-80 photo" height="80" src="http://xbsoftware.com/wp-content/uploads/2014/04/Vladimir-Dashukevich_avatar_1398175073.png" width="80"/>
          <div class="ts-fab-social-links">
           <a href="https://plus.google.com/u/0/105885187156581518862/posts?rel=author" title="Google+">
            <img alt="My Google+ profile" height="24" src="/wp-content/plugins/fancier-author-box/images/googleplus.png" width="24"/>
           </a>
          </div>
         </div>
         <div class="ts-fab-text">
          <div class="ts-fab-header">
           <h4>
            Vladimir Dashukevich
           </h4>
          </div>
          <!-- /.ts-fab-header -->
          <div class="ts-fab-content">
           XB Software developer with extensive experience in different areas of  web programming. JavaScript and Graph theory lover. He enjoys applying new technologies and tricky algorithms in Web.
          </div>
         </div>
        </div>
        <div class="ts-fab-tab" id="ts-fab-latest-posts-below">
         <div class="ts-fab-avatar">
          <img alt="Vladimir Dashukevich" class="avatar avatar-80 photo" height="80" src="http://xbsoftware.com/wp-content/uploads/2014/04/Vladimir-Dashukevich_avatar_1398175073.png" width="80"/>
          <div class="ts-fab-social-links">
           <a href="https://plus.google.com/u/0/105885187156581518862/posts?rel=author" rel="nofollow" title="Google+">
            <img alt="My Google+ profile" height="24" src="/wp-content/plugins/fancier-author-box/images/googleplus.png" width="24"/>
           </a>
          </div>
         </div>
         <div class="ts-fab-text">
          <div class="ts-fab-header">
           <h4>
            Latest posts by Vladimir Dashukevich
            <span class="latest-see-all">
             (
             <a href="http://xbsoftware.com/author/vladimir/" rel="nofollow">
              see all
             </a>
             )
            </span>
           </h4>
          </div>
          <ul class="ts-fab-latest">
           <li>
            <a href="http://xbsoftware.com/blog/file-system-javascript-processing-files-browser/">
             File System and JavaScript. Processing Files in Browser
            </a>
            <span>
             - April 25, 2014
            </span>
           </li>
           <li>
            <a href="http://xbsoftware.com/blog/web-android-two-steps/">
             From Web to Android In Two Steps
            </a>
            <span>
             - February 25, 2014
            </span>
           </li>
           <li>
            <a href="http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/">
             Stop Being Afraid Of Promises And Be Awesome Instead
            </a>
            <span>
             - January 17, 2014
            </span>
           </li>
          </ul>
         </div>
        </div>
       </div>
      </div>
      <div class="wrapper-tags-block">
       <div class="post_tags ">
        <a href="http://xbsoftware.com/tag/all-posts/" title="All posts Tag">
         <i class="icon tag-bg-left-section">
         </i>
         <span class="truncate">
          All posts
         </span>
        </a>
        <a href="http://xbsoftware.com/tag/javascript/" title="javascript Tag">
         <i class="icon tag-bg-left-section">
         </i>
         <span class="truncate">
          javascript
         </span>
        </a>
        <a href="http://xbsoftware.com/tag/javascript-development/" title="javascript development Tag">
         <i class="icon tag-bg-left-section">
         </i>
         <span class="truncate">
          javascript development
         </span>
        </a>
        <a href="http://xbsoftware.com/tag/promises/" title="Promises Tag">
         <i class="icon tag-bg-left-section">
         </i>
         <span class="truncate">
          Promises
         </span>
        </a>
        <a href="http://xbsoftware.com/tag/tutorials/" title="tutorials Tag">
         <i class="icon tag-bg-left-section">
         </i>
         <span class="truncate">
          tutorials
         </span>
        </a>
       </div>
      </div>
      <div class="social_buttons_share">
       <a class="google_plusone_share" href="https://plus.google.com/share?url=http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/#sthash.w6LhBUQH.dpuf" target="_blank">
        <span class="count">
         0
        </span>
       </a>
       <a class="facebook_share" href="http://www.facebook.com/share.php?u=http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/&amp;title=Stop Being Afraid Of Promises And Be Awesome Instead#sthash.w6LhBUQH.dpuf" target="_blank">
        <span class="count">
         0
        </span>
       </a>
       <a class="twitter_share" href="http://twitter.com/home?status=Stop Being Afraid Of Promises And Be Awesome Instead+http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/#sthash.w6LhBUQH.dpuf" target="_blank">
        <span class="count">
         0
        </span>
       </a>
       <a class="stumbleupon_share" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/&amp;title=Stop Being Afraid Of Promises And Be Awesome Instead&amp;source=[SOURCE/DOMAIN]#sthash.w6LhBUQH.dpuf" target="_blank">
        <span class="count">
         0
        </span>
       </a>
       <a class="linkedin_share" href="http://www.stumbleupon.com/submit?url=http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/&amp;title=Stop Being Afraid Of Promises And Be Awesome Instead#sthash.w6LhBUQH.dpuf" target="_blank">
        <span class="count">
         0
        </span>
       </a>
       <a class="delicious_share" data-md5-url="f0b707d1984bf700f855e5d20889499a" href="http://www.delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url=http://xbsoftware.com/blog/stop-afraid-promises-be-awesome-instead/&amp;title=Stop Being Afraid Of Promises And Be Awesome Instead" target="_blank">
        <span class="count">
         0
        </span>
       </a>
      </div>
      <!--&lt;div class="relatedposts"&gt;
                  &lt;div class="wrapper-related-posts"&gt;
                          &lt;div class="caption"&gt;
                                  &lt;hr/&gt;
                                  &lt;div&gt;
                                      &lt;i class="icon arrow-right-2-icon"&gt;&lt;/i&gt;
                                      &lt;h2&gt;
                                              &lt;span&gt;Related posts&lt;/span&gt;
                                      &lt;/h2&gt;
                                      &lt;i class="icon arrow-left-2-icon"&gt;&lt;/i&gt;
                                  &lt;/div&gt;
                          &lt;/div&gt;												
                                        
                          &lt;div class='wrapper-relatedthumb'&gt;
                              &lt;php related_posts(); &gt;
                          &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;-->
      <div class="relatedposts">
       <div class="wrapper-related-posts">
        <div class="caption">
         <hr/>
         <div>
          <i class="icon arrow-right-2-icon">
          </i>
          <h2>
           <span>
            Related posts
           </span>
          </h2>
          <i class="icon arrow-left-2-icon">
          </i>
         </div>
        </div>
        <div class="wrapper-relatedthumb">
         <div class="relatedthumb">
          <a href="http://xbsoftware.com/blog/best-practices-in-software-testing-outsourcing-qa-expert/" rel="external" title="Best Practices in Software Testing Outsourcing From QA Expert">
           <span>
            <img alt="QA outsouring team lead" class="attachment-post-thumbnail wp-post-image" height="450" src="/wp-content/uploads/2015/07/IMG_Alex.jpg" width="700"/>
           </span>
           Best Practices in Software Testing Outsourcing From QA Expert
          </a>
         </div>
         <div class="relatedthumb">
          <a href="http://xbsoftware.com/blog/software-development-life-cycle-sdlc-scrum-step-step/" rel="external" title="Software Development Life Cycle (SDLC). Scrum Step by Step">
           <span>
            <img alt="scrum" class="attachment-post-thumbnail wp-post-image" height="350" src="/wp-content/uploads/2015/06/scrum.png" width="712"/>
           </span>
           Software Development Life Cycle (SDLC). Scrum Step by Step
          </a>
         </div>
        </div>
       </div>
      </div>
     </section>
     <a class="all-post-link pull-right" href="/blog/">
      <i class="icon all-posts">
      </i>
      All posts
     </a>
     <div class="clear">
     </div>
    </div>
    <div class="col-sm-3 ie-col-3 v-padding30">
     <div class="subscribe-form">
      <form action="" class="subscribe" method="POST">
       <div class="subscribe-title">
        Sign up to our newsletter and get the latest news and updates
       </div>
       <div class="subscribe-wrapper">
        <div class="row-subscr-form">
         <input class="subscribe-field border-radius-4" name="subscription_name" placeholder="Enter name" type="text"/>
        </div>
        <div class="row-subscr-form">
         <input class="subscribe-field border-radius-4" name="subscription_email" placeholder="Enter email" type="text"/>
        </div>
        <div class="subscribe-block-btn">
         <input class="subscribtion-btn btn btn-send" type="submit" value="Sign up"/>
        </div>
        <div class="row-subscr-form">
         <a class="policy-link" href="http://xbsoftware.com/privacy-policy/" rel="nofollow" target="_blank">
          Privacy policy
         </a>
        </div>
       </div>
      </form>
      <div class="xbs-loader">
       <img class="xbs-logo" src="/wp-content/themes/xbs/images/xbs-logo.png"/>
      </div>
     </div>
     <div class="caption nowrap t-padding30">
      <hr/>
      <div>
       <i class="icon arrow-right-2-icon">
       </i>
       <div class="big_header">
        <span>
         Tags
        </span>
       </div>
       <i class="icon arrow-left-2-icon">
       </i>
      </div>
     </div>
     <div class="post_tags category_tags">
      <a href="http://xbsoftware.com/tag/4front/" title="4front Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        4front
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/all-posts/" title="All posts Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        All posts
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/android-apps/" title="Android apps Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        Android apps
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/business-analysis/" title="Business Analysis Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        Business Analysis
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/company-news/" title="company news Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        company news
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/crm/" title="CRM Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        CRM
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/employee-and-resource-management/" title="employee and resource management Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        employee and resource management
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/enjoycss/" title="enjoycss Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        enjoycss
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/enjoyhint/" title="EnjoyHint Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        EnjoyHint
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/ganttpro/" title="GanttPRO Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        GanttPRO
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/hackathon/" title="hackathon Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        hackathon
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/javascript/" title="javascript Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        javascript
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/javascript-development/" title="javascript development Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        javascript development
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/kickerplay/" title="KickerPlay Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        KickerPlay
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/nearshoring/" title="nearshoring Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        nearshoring
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/outsourcing/" title="outsourcing Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        outsourcing
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/outsourcing-company/" title="outsourcing company Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        outsourcing company
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/project-estimation/" title="project estimation Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        project estimation
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/project-management/" title="Project Management Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        Project Management
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/promises/" title="Promises Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        Promises
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/quality-assurance/" title="quality assurance Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        quality assurance
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/saas/" title="SaaS Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        SaaS
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/scrum/" title="scrum Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        scrum
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/software-development/" title="software development Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        software development
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/software-development-life-cycle/" title="software development life cycle Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        software development life cycle
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/software-testing/" title="software testing Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        software testing
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/trial-testing/" title="trial testing Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        trial testing
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/tutorials/" title="tutorials Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        tutorials
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/web-application-development/" title="web application development Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        web application development
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/web-development/" title="web development Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        web development
       </span>
      </a>
      <a href="http://xbsoftware.com/tag/webix/" title="webix Tag">
       <i class="icon tag-bg-left-section">
       </i>
       <span class="truncate">
        webix
       </span>
      </a>
     </div>
     <div class="sidebar-about-company">
      <div class="two" id="one">
       <div class="textwidget">
        <p>
         <a href="http://xbsoftware.com/">
          XB Sofware
         </a>
         renders
         <br/>
         cost-efficient services in the development of web and mobile applications, business analysis and quality assurance.
        </p>
       </div>
      </div>
     </div>
     <div class="caption nowrap t-padding30 hidden-x">
      <hr/>
      <div class="caprtion-wrapper">
       <i class="icon arrow-right-2-icon">
       </i>
       <div class="big_header">
        <span>
         Recent Posts
        </span>
       </div>
       <i class="icon arrow-left-2-icon">
       </i>
      </div>
     </div>
     <ul class="recent-posts-links">
      <li>
       <a href="http://xbsoftware.com/blog/xbtrack-simple-task-bug-tracking-system/" title="">
        XBtrack  Simple Task and Bug Tracking System
       </a>
      </li>
      <li>
       <a href="http://xbsoftware.com/blog/handy-webix-crm-successful-customer-management/" title="">
        Handy Webix CRM For Successful Customer Management
       </a>
      </li>
      <li>
       <a href="http://xbsoftware.com/blog/xb-software-celebrates-7-years-today/" title="">
        XB Software Celebrates Its 7 Years Today
       </a>
      </li>
      <li>
       <a href="http://xbsoftware.com/blog/web-android-two-steps/" title="">
        From Web to Android In Two Steps
       </a>
      </li>
      <li>
       <a href="http://xbsoftware.com/blog/xb-software-become-belarus-htp-resident/" title="">
        XB Software Has Become A Resident Of The Belarus High-Tech Park
       </a>
      </li>
     </ul>
     <div class="">
      <a class="" href="/blog/" title="">
       More Posts
      </a>
     </div>
    </div>
   </div>
   <div class="container">
    <div class="col-sm-9 ie-col-9">
     <section class="comments" id="comments">
      <div class="comments-area">
       <div class="caption nowrap t-padding30">
        <hr/>
        <div>
         <i class="icon arrow-right-2-icon">
         </i>
         <h3 class="comments-title" id="comments">
          <span>
           <i class="icon comments-icon">
           </i>
           Comments(0)
          </span>
         </h3>
         <i class="icon arrow-left-2-icon">
         </i>
        </div>
       </div>
      </div>
     </section>
     <div class="clear">
     </div>
    </div>
    <div class="col-sm-3 ie-col-3">
    </div>
   </div>
   <section class="section-leave-comments gray_bg">
    <div class="container">
     <div class="col-sm-12">
      <div class="comment-respond" id="respond">
       <h3 class="comment-reply-title" id="reply-title">
        Leave a comment
        <small>
         <a href="/blog/stop-afraid-promises-be-awesome-instead/#respond" id="cancel-comment-reply-link" rel="nofollow" style="display:none;">
          Cancel reply
         </a>
        </small>
       </h3>
       <form action="/wp-comments-post.php" class="comment-form container form-horizontal" id="commentform" method="post">
        <div class="form-group">
         <label class=" col-sm-2 control-label" for="author">
          Full name:
          <span class="required">
           *
          </span>
         </label>
         <div class=" col-sm-5 ">
          <input class="form-control" id="author" name="author" size="30" type="text" value=""/>
         </div>
        </div>
        <div class="form-group">
         <label class="col-sm-2 control-label" for="email">
          Email:
          <span class="required">
           *
          </span>
         </label>
         <div class=" col-sm-5">
          <input class="form-control" id="email" name="email" size="30" type="text" value=""/>
         </div>
        </div>
        <div class="form-group">
         <label class="col-sm-2 control-label comment_label" for="comment">
          Comment:
         </label>
         <div class="col-sm-7">
          <textarea aria-required="true" class="form-control" cols="45" id="comment" name="comment" rows="8">
          </textarea>
         </div>
        </div>
        <div class="form-group">
         <div class="col-sm-2">
         </div>
         <div class="col-sm-7 ">
          <span>
           <input id="notify" name="notify" type="checkbox"/>
           Notify me when new comments are added
          </span>
         </div>
        </div>
        <p class="form-submit">
         <input id="submit" name="submit" type="submit" value="Submit Comment"/>
         <input id="comment_post_ID" name="comment_post_ID" type="hidden" value="312"/>
         <input id="comment_parent" name="comment_parent" type="hidden" value="0"/>
        </p>
        <noscript>
         <strong>
          <u>
           <font color="red" size="5">
            To leave a comment please enable JavaScript in your browser settings!
           </font>
          </u>
         </strong>
        </noscript>
       </form>
      </div>
      <!-- #respond -->
      <div class="container has_arrow_back-to-top">
       <div class="row-fluid">
        <div class="row-sm-1 pull-right arrow-up">
         <i class="icon back-to-top-icon" id="arrow-up">
         </i>
        </div>
       </div>
      </div>
     </div>
    </div>
   </section>
   <input id="X0dlzZ98xkQ2" name="X0dlzZ98xkQ2" type="hidden"/>
   <script type="text/javascript">
    function fGabamWgVwS1M() {
	var o=document.getElementById("X0dlzZ98xkQ2");
	o.value="pGt0yS6FQcfF";
}
var bo3Gg9P57j6kT = document.getElementById("submit");
if (bo3Gg9P57j6kT) {
	var cet4uYCIIXbRf = document.getElementById("X0dlzZ98xkQ2");
	var pBscYDgGIJ3xR = bo3Gg9P57j6kT.parentNode;
	pBscYDgGIJ3xR.appendChild(cet4uYCIIXbRf, bo3Gg9P57j6kT);
	addHandler(bo3Gg9P57j6kT, "mousedown", fGabamWgVwS1M);
	addHandler(bo3Gg9P57j6kT, "keypress", fGabamWgVwS1M);
}
   </script>
   <footer class="footer v-padding30">
    <!--[if lte IE 7]&gt; &lt;div class="shadow"&gt;&lt;/div&gt;&lt;![endif]-->
    <div class="container">
     <!--        .row&gt;.col-xs-4*3-->
     <div class="row-fluid">
      <div class="col-xs-12 col-sm-3 v-padding10">
       <img alt="xb software gray logo" class="logo_gray" src="/wp-content/themes/xbs/images/logo_gray.png" title="xb software gray logo"/>
       <div class="copyright">
         2015 All rights reserved
       </div>
      </div>
      <div class=" col-xs-12 col-sm-9 v-padding10">
       <address class="address">
        <p class="col-lg-5 col-sm-12" style="padding:0;">
         <i class="icon marker-icon">
         </i>
         16 Bersona Street, Minsk 220030, Belarus
        </p>
        <p class="col-lg-3 col-sm-12" style="padding:0;">
         <i class="icon phone-icon">
         </i>
         +375 17 200 03 40
        </p>
        <p class="col-lg-4 col-sm-12" style="padding:0;">
         <i class="icon mail-icon">
         </i>
         <script type="text/javascript">
          var tmp = "@xbsoftware.com";document.write("&lt;a href='mailto:info"+tmp+"'&gt;info"+tmp+"&lt;/a&gt;");
         </script>
         <a class="policy-link" href="http://xbsoftware.com/privacy-policy/" rel="nofollow" target="_blank">
          Privacy policy
         </a>
        </p>
       </address>
      </div>
     </div>
    </div>
    <div class="social_buttons social_buttons_bottom visible-xs">
     <a class="icon32 google_plus" href="https://plus.google.com/100824646313272709881/about" target="_blank">
     </a>
     <a class="icon32 facebook" href="https://www.facebook.com/xbsoftware" target="_blank">
     </a>
     <a class="icon32 twitter" href="https://twitter.com/xbsoftware" target="_blank">
     </a>
     <a class="icon32 linkedin" href="http://www.linkedin.com/company/xb-software-ltd-?trk=top_nav_home" target="_blank">
     </a>
     <a class="icon32 rss rss_on_blog" href="/blog/feed" target="_blank">
     </a>
    </div>
   </footer>
   <div class="trial-test-form-wrapper popup-form-wrapper">
    <div class="contact-form jobs-form col-sm-5">
     <a class="close-popup" href="#" title="Close">
     </a>
     <div class="wpcf7" dir="ltr" id="wpcf7-f2841-o1" lang="en-US">
      <div class="screen-reader-response">
      </div>
      <form action="/blog/stop-afraid-promises-be-awesome-instead/#wpcf7-f2841-o1" class="wpcf7-form" method="post" name="" novalidate="novalidate">
       <div style="display: none;">
        <input name="_wpcf7" type="hidden" value="2841"/>
        <input name="_wpcf7_version" type="hidden" value="4.0.3"/>
        <input name="_wpcf7_locale" type="hidden" value="en_US"/>
        <input name="_wpcf7_unit_tag" type="hidden" value="wpcf7-f2841-o1"/>
        <input name="_wpnonce" type="hidden" value="075e3df761"/>
       </div>
       <div class="trial_test_form">
        <div class="caption nowrap t-padding30 hidden-x jobs-form-caption">
         <hr/>
         <div class="caprtion-wrapper">
          <i class="icon arrow-right-2-icon">
          </i>
          <div class="big_header">
           <span>
            Request trial testing
           </span>
          </div>
          <i class="icon arrow-left-2-icon">
          </i>
         </div>
        </div>
        <div class="row-field">
         <label for="inputName">
          Name
         </label>
         <div>
          <span class="wpcf7-form-control-wrap user_name">
           <input aria-invalid="false" aria-required="true" class="wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control" id="inputName" name="user_name" placeholder="Name" size="40" type="text" value=""/>
          </span>
          <span class="red">
           *
          </span>
         </div>
        </div>
        <div class="row-field">
         <label for="inputEmail">
          Email
         </label>
         <div class="">
          <span class="wpcf7-form-control-wrap honeypot-54-wrap" style="display:none !important;visibility:hidden !important;">
           <input class="wpcf7-form-control wpcf7-text" name="honeypot-54" size="40" tabindex="-1" type="text" value=""/>
           <span class="hp-message">
            Please leave this field empty.
           </span>
          </span>
          <span class="wpcf7-form-control-wrap user_email">
           <input aria-invalid="false" aria-required="true" class="wpcf7-form-control wpcf7-text wpcf7-email wpcf7-validates-as-required wpcf7-validates-as-email form-control" id="inputEmail" name="user_email" placeholder="Email" size="40" type="email" value=""/>
          </span>
          <span class="red">
           *
          </span>
         </div>
        </div>
        <div class="row-field">
         <label for="inputPhone">
          Phone
         </label>
         <div class="">
          <span class="wpcf7-form-control-wrap user_phone">
           <input aria-invalid="false" class="wpcf7-form-control wpcf7-text form-control" id="inputPhone" name="user_phone" placeholder="Phone" size="40" type="text" value=""/>
          </span>
         </div>
        </div>
        <div class="row-field select_row">
         <label class="select_label" for="selectWhatTest">
          What would you like to test?
         </label>
         <div class="">
          <span class="wpcf7-form-control-wrap menu-981">
           <select aria-invalid="false" class="wpcf7-form-control wpcf7-select form-control" id="selectWhatTest" name="menu-981">
            <option value="vCard site">
             vCard site
            </option>
            <option value="Web service">
             Web service
            </option>
            <option value="Online shop">
             Online shop
            </option>
            <option value="Mobile app">
             Mobile app
            </option>
            <option value="Desktop app">
             Desktop app
            </option>
            <option value="Other">
             Other
            </option>
           </select>
          </span>
         </div>
        </div>
        <div class="row-field select_row">
         <label class="select_label" for="selectTypeTest">
          Type of testing
         </label>
         <div class="">
          <span class="wpcf7-form-control-wrap menu-203">
           <select aria-invalid="false" class="wpcf7-form-control wpcf7-select form-control" id="selectTypeTest" name="menu-203">
            <option value="Functional testing">
             Functional testing
            </option>
            <option value="Mobile testing">
             Mobile testing
            </option>
            <option value="Stress testing">
             Stress testing
            </option>
            <option value="SEO testing for site">
             SEO testing for site
            </option>
            <option value="Usability audit">
             Usability audit
            </option>
            <option value="Security audit">
             Security audit
            </option>
            <option value="Other">
             Other
            </option>
           </select>
          </span>
         </div>
        </div>
        <div class="row-field with-textarea">
         <span class="wpcf7-form-control-wrap user_message">
          <textarea aria-invalid="false" aria-required="true" class="wpcf7-form-control wpcf7-textarea wpcf7-validates-as-required form-control" cols="40" id="inputMessage" name="user_message" placeholder="Message" rows="10">
          </textarea>
         </span>
         <span class="red">
          *
         </span>
         <span class="wpcf7-form-control-wrap honeypot-419-wrap" style="display:none !important;visibility:hidden !important;">
          <input class="wpcf7-form-control wpcf7-text" name="honeypot-419" size="40" tabindex="-1" type="text" value=""/>
          <span class="hp-message">
           Please leave this field empty.
          </span>
         </span>
        </div>
        <div class="row-field form-captcha">
         <label class="form-label">
          Quiz
         </label>
         <div class="captcha-question">
          <span class="wpcf7-form-control-wrap quiz-714">
           <span class="wpcf7-quiz-label">
            ten + five = ?
           </span>
           <input aria-invalid="false" aria-required="true" class="wpcf7-form-control wpcf7-quiz" name="quiz-714" size="40" type="text"/>
           <input name="_wpcf7_quiz_answer_quiz-714" type="hidden" value="7552195010a887fb80ec78cc23a756c5"/>
          </span>
          <span class="red">
           *
          </span>
          <span class="captcha_comment">
           Please, write numbers in digits
          </span>
         </div>
        </div>
        <div class="centered">
         <div class="relative inline-block form-btn-send">
          <input class="wpcf7-form-control wpcf7-submit btn btn-send" type="submit" value="Request a quote"/>
         </div>
        </div>
       </div>
       <div class="wpcf7-response-output wpcf7-display-none">
       </div>
      </form>
     </div>
     <!-- loc1616 -->
     <!-- 2841 -->
    </div>
   </div>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="/wp-content/themes/xbs/bootstrap/js/carousel.js" type="text/javascript">
  </script>
  <script src="/wp-content/themes/xbs/bootstrap/js/transition.js" type="text/javascript">
  </script>
  <script src="/wp-content/themes/xbs/bootstrap/js/affix.js" type="text/javascript">
  </script>
  <script src="/wp-content/themes/xbs/bootstrap/js/dropdown.js" type="text/javascript">
  </script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <!-- &lt;script src="js/bootstrap.min.js"&gt;&lt;/script&gt; -->
  <script src="/wp-content/themes/xbs/js/main.js" type="text/javascript">
  </script>
  <!--[if (lte IE 7) &amp; (gt IE 6)]&gt;
&lt;script src="/wp-content/themes/xbs/js/ie7fix.js"&gt;&lt;/script&gt;
&lt;![endif]-->
  <!--[if lte IE 6]&gt;
&lt;script src="/wp-content/themes/xbs/js/ie6fix.js"&gt;&lt;/script&gt;
&lt;![endif]-->
  <script src="http://xbsoftware.com/wp-includes/js/comment-reply.min.js?ver=4.0" type="text/javascript">
  </script>
  <script src="/wp-content/plugins/jquery.placeholder/jquery.placeholder.min.js?ver=4.0" type="text/javascript">
  </script>
  <script src="/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20" type="text/javascript">
  </script>
  <script src="/wp-content/plugins/jquery-validation-for-contact-form-7/js/jquery.validate.min.js?ver=4.0" type="text/javascript">
  </script>
  <script type="text/javascript">
   /* &lt;![CDATA[ */
var _wpcf7 = {"loaderUrl":"\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ..."};
/* ]]&gt; */
  </script>
  <script src="/wp-content/plugins/jquery-validation-for-contact-form-7/js/jquery.jvcf7_validation.js?ver=4.0" type="text/javascript">
  </script>
  <script src="/wp-content/plugins/bbeditor/jquery.bbcode.js?ver=4.0" type="text/javascript">
  </script>
 </body>
</html>