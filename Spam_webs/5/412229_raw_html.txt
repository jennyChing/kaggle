<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Sales Lead Tracking with PHP and MongoDB via MongoLab REST API
  </title>
  <link href="/feed" rel="alternate" title="RSS 2.0" type="application/rss+xml"/>
  <link href="/feed/atom" rel="alternate" title="Atom 1.0" type="application/atom+xml"/>
  <link href="/css/pygments_murphy.css" rel="stylesheet" type="text/css"/>
  <link href="/default.css" rel="stylesheet" type="text/css"/>
  <script src="http://widgets.twimg.com/j/2/widget.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6410939-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
 </head>
 <body>
  <div id="wrapper">
   <div id="header">
    <div id="menu">
     <ul>
      <li class="current_page_item">
       <a href="/">
        Home
       </a>
      </li>
      <li>
       <a href="http://frozenridge.co">
        Full-stack consulting
       </a>
      </li>
      <li class="last">
       <a href="http://github.com/Strider-CD/strider">
        Open Source Continuous Integration &amp; Deployment
       </a>
      </li>
     </ul>
    </div>
   </div>
   <div id="logo">
    <h1>
     <a href="/">
      Niall's Blog
     </a>
    </h1>
    <h2>
     Mobile, Tablet &amp; Cloud computing.
    </h2>
   </div>
   <div id="page">
    <div id="content">
     <div id="prose_block">
      <div class="post">
       <a name="sales-lead-tracking-with-php-and-mongodb-via-mongolab-rest-api">
       </a>
       <div class="meta">
        <h2 class="title">
         <a href="/2013/01/05/php-mongolab-rest-api-sales-lead-tracking" rel="bookmark" title="Permanent Link to Sales Lead Tracking with PHP and MongoDB via MongoLab REST API">
          Sales Lead Tracking with PHP and MongoDB via MongoLab REST API
         </a>
        </h2>
        <p class="meta">
         January 05, 2013 at 05:04 PM | categories:
         <a href="/category/mongodb">
          MongoDB
         </a>
         ,
         <a href="/category/tech">
          Tech
         </a>
         |
         <a href="http://niallohiggins.com/2013/01/05/php-mongolab-rest-api-sales-lead-tracking#disqus_thread">
          View Comments
         </a>
         |
         <a class="twitter-share-button" data-count="horizontal" data-via="niallohiggins" href="http://twitter.com/share">
          Tweet
         </a>
         <script src="http://platform.twitter.com/widgets.js" type="text/javascript">
         </script>
        </p>
       </div>
       <div class="entry">
        <p>
        </p>
        <h3>
         Sales Lead Tracking with PHP and MongoDB via MongoLab REST API
        </h3>
        <p>
         I'm not exactly a PHP programmer, although back in 2001 I did quite a bit of
work with PHP and PostgreSQL for my job. I long ago stopped web programming in
PHP and moved to Ruby, then Python and most recently Node.JS/JavaScript. I
can't call myself a fan of the PHP language or paradigm either. However,
         <strong>
          PHP is everywhere
         </strong>
         and if you need some simple server-side code
like a form mailer, it can be a good choice. Despite the disdain for PHP amongst most
hackers,
         <b>
          it remains extremely simple to deploy
         </b>
         . Chances are you
can just drop a .php file onto your web host and it will just work.
        </p>
        <h3>
         Why PHP
        </h3>
        <p>
         For my site offering hosting, support and consulting around
         <a href="http://stridercd.com">
          Strider Continuous Integration &amp; Deployment
         </a>
         , I happened to
be in just that situation. My web server is already configured for PHP and
although I could spend the time to spin up a Python or Node.JS server, it adds
needless complexity. All I wanted to do is one simple thing:
         <b>
          track new sales
  leads in a MongoDB collection
         </b>
         .
        </p>
        <h3>
         Lovely Free Cloud MongoDB from MongoLab
        </h3>
        <p>
         My web server doesn't run MongoDB, but it doesn't need to.
         <a href="http://mongolab.com">
          MongoLab
         </a>
         have a generous free plan which gives
you a cloud-hosted MongoDB instance with up to 500M of storage. That is total
overkill for my little sales lead database, and performance is more than
adequate. Furthermore they will handle backup/restore and failover etc for me
so it's likely a lot more reliable than running my own setup.
        </p>
        <h3>
         MongoDB REST API Benefits
        </h3>
        <p>
         Furthermore, MongoLab offer a
         <a href="https://support.mongolab.com/entries/20433053-rest-api-for-mongodb">
          HTTP
  REST API for MongoDB
         </a>
         which is very fully-featured. Why would I want to use their REST API instead
 of a native driver? Well it turns out that my web server doesn't have the PHP
 MongoDB driver installed. It does however have the cURL library installed.
 Instead of bothering to figure out how to install the PHP MongoDB driver
 (which I suspect maybe be non-trivial under OpenBSD) I could just use their
 REST API.
        </p>
        <h3>
         Writing with MongoLab REST API from PHP
        </h3>
        <p>
         I didn't find much info online about using the REST API from PHP so I thought
I'd post my little script here. It is quite straight forward. It simply JSON
encodes some fields to produce the document I wish to write to my MongoDB
collection. Then it sends a HTTP POST request with the JSON data as the POST
body.
        </p>
        <script src="https://gist.github.com/4462531.js">
        </script>
        <p class="bio">
         <img src="/images/niallo.jpg" style="float:left; padding-right:3px;"/>
         <i>
          <a href="http://twitter.com/niallohiggins">
           Niall O'Higgins
          </a>
          is an author and software developer. He wrote the O'Reilly book
          <a href="http://shop.oreilly.com/product/0636920021513.do">
           MongoDB and Python
          </a>
          . He also develops
          <a href="http://github.com/Strider-CD/strider">
           Strider Open Source Continuous Deployment
          </a>
          and offers full-stack consulting services at
          <a href="http://frozenridge.co">
           FrozenRidge.co
          </a>
          .
         </i>
        </p>
        <a class="twitter-share-button" data-count="horizontal" data-via="niallohiggins" href="http://twitter.com/share">
         Tweet
        </a>
        <script src="http://platform.twitter.com/widgets.js" type="text/javascript">
        </script>
       </div>
      </div>
      <div id="disqus_thread">
      </div>
      <script type="text/javascript">
       var disqus_url = "http://niallohiggins.com/2013/01/05/php-mongolab-rest-api-sales-lead-tracking";
      </script>
      <script src="http://disqus.com/forums/niallohiggins/embed.js" type="text/javascript">
      </script>
      <noscript>
       <a href="http://niallohiggins.disqus.com/?url=ref">
        View the discussion thread.
       </a>
      </noscript>
      <a class="dsq-brlink" href="http://disqus.com">
       blog comments powered by
       <span class="logo-disqus">
        Disqus
       </span>
      </a>
     </div>
     <!-- End Prose Block -->
    </div>
    <!-- start sidebar -->
    <div id="sidebar">
     <ul>
      <li>
       <h2>
        Get My Book
       </h2>
       <ul>
        <li>
         <a href="http://shop.oreilly.com/product/0636920021513.do">
          MongoDB and Python: Patterns and processes for the popular document-oriented database
         </a>
        </li>
        <li>
         <a href="http://shop.oreilly.com/product/0636920021513.do">
          <img src="http://covers.oreilly.com/images/0636920021513/cat.gif"/>
         </a>
        </li>
       </ul>
      </li>
      <li>
       <script>
        new TWTR.Widget({
  version: 2,
  type: 'profile',
  rpp: 4,
  interval: 6000,
  width: 200,
  height: 300,
  theme: {
    shell: {
      background: '#333333',
      color: '#ffffff'
    },
    tweets: {
      background: '#000000',
      color: '#ffffff',
      links: '#4aed05'
    }
  },
  features: {
    scrollbar: false,
    loop: false,
    live: false,
    hashtags: true,
    timestamp: true,
    avatars: false,
    behavior: 'all'
  }
}).render().setUser('niallohiggins').start();
       </script>
      </li>
      <li>
       <h2>
        Latest Posts
       </h2>
       <ul>
        <li>
         <a href="/2013/01/05/php-mongolab-rest-api-sales-lead-tracking">
          Sales Lead Tracking with PHP and MongoDB via MongoLab REST API
         </a>
        </li>
        <li>
         <a href="/2012/12/17/3-programmer-biases-which-prevent-you-from-building-a-successful-startup">
          3 Programmer Biases which Prevent you from Building a Successful Startup
         </a>
        </li>
        <li>
         <a href="/2012/03/28/3-quick-tips-for-writing-tests-in-nodejs">
          3 Quick Tips for Writing Tests in Node.JS (after some rambling)
         </a>
        </li>
        <li>
         <a href="/2011/11/11/40k-usd-funding-no-equity-startup-chile-uncovered">
          $40,000 USD Funding, No Equity - Startup Chile Uncovered
         </a>
        </li>
       </ul>
      </li>
      <li>
       <h2>
        Categories
       </h2>
       <ul>
        <li>
         <a href="/category/android">
          Android
         </a>
         (
         <a href="/category/android/feed">
          rss
         </a>
         ) (4)
        </li>
        <li>
         <a href="/category/c">
          C
         </a>
         (
         <a href="/category/c/feed">
          rss
         </a>
         ) (4)
        </li>
        <li>
         <a href="/category/database">
          Database
         </a>
         (
         <a href="/category/database/feed">
          rss
         </a>
         ) (7)
        </li>
        <li>
         <a href="/category/javascript">
          JavaScript
         </a>
         (
         <a href="/category/javascript/feed">
          rss
         </a>
         ) (5)
        </li>
        <li>
         <a href="/category/node">
          Node
         </a>
         (
         <a href="/category/node/feed">
          rss
         </a>
         ) (1)
        </li>
        <li>
         <a href="/category/python">
          Python
         </a>
         (
         <a href="/category/python/feed">
          rss
         </a>
         ) (26)
        </li>
        <li>
         <a href="/category/tablet">
          Tablet
         </a>
         (
         <a href="/category/tablet/feed">
          rss
         </a>
         ) (2)
        </li>
        <li>
         <a href="/category/unix">
          UNIX
         </a>
         (
         <a href="/category/unix/feed">
          rss
         </a>
         ) (11)
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <!-- end sidebar -->
    <div style="clear: both;">
    </div>
   </div>
   <!-- End Main Block -->
   <div id="footer">
    <div id="footer-wrap">
     RSS feeds for
     <a href="/feed">
      Entries
     </a>
     and
     <a href="http://niallohiggins.disqus.com/latest.rss">
      Comments
     </a>
     .
     <br/>
     <script type="text/javascript">
      //&lt;![CDATA[
(function() {
		var links = document.getElementsByTagName('a');
		var query = '?';
		for(var i = 0; i &lt; links.length; i++) {
			if(links[i].href.indexOf('#disqus_thread') &gt;= 0) {
				query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&amp;';
			}
		}
		document.write('&lt;script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/niallohiggins/get_num_replies.js' + query + '"&gt;&lt;/' + 'script&gt;');
	})();
//]]&gt;
     </script>
    </div>
   </div>
   <!-- End Footer -->
  </div>
  <!-- End Content -->
 </body>
</html>