<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head profile="http://gmpg.org/xfn/11">
  <script type="text/javascript">
   var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1074651-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   How to monitor PostgreSQL  Pandora FMS  Monitoring blog
  </title>
  <link href="http://blog.pandorafms.org/wp-content/plugins/sitepress-multilingual-cms/res/css/language-selector.css?v=2.7.1" media="all" rel="stylesheet" type="text/css"/>
  <meta content="WordPress 4.2.2" name="generator"/>
  <!-- leave this for stats -->
  <link href="http://blog.pandorafms.org/wp-content/themes/copyblogger/style.css" media="screen" rel="stylesheet" type="text/css"/>
  <link href="http://blog.pandorafms.org/wp-content/themes/copyblogger/custom.css" media="screen" rel="stylesheet" type="text/css"/>
  <!--[if lte IE 7]&gt;
	&lt;link rel="stylesheet" type="text/css" href="http://blog.pandorafms.org/wp-content/themes/copyblogger/ie7.css" /&gt;
	&lt;![endif]-->
  <!--[if lte IE 6]&gt;
	&lt;link rel="stylesheet" type="text/css" href="http://blog.pandorafms.org/wp-content/themes/copyblogger/ie6.css" /&gt;
	&lt;![endif]-->
  <link href="http://blog.pandorafms.org/?feed=rss2" rel="alternate" title="Pandora FMS  Monitoring blog RSS Feed" type="application/rss+xml"/>
  <link href="http://blog.pandorafms.org/xmlrpc.php" rel="pingback"/>
  <link href="http://blog.pandorafms.org/?feed=rss2&amp;p=1570" rel="alternate" title="Pandora FMS - Monitoring blog  How to monitor PostgreSQL Comments Feed" type="application/rss+xml"/>
  <script type="text/javascript">
   window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"wpemoji":"http:\/\/blog.pandorafms.org\/wp-includes\/js\/wp-emoji.js?ver=4.2.2","twemoji":"http:\/\/blog.pandorafms.org\/wp-includes\/js\/twemoji.js?ver=4.2.2"}};
			( function( window, document, settings ) {
	var src, ready;

	/**
	 * Detect if the browser supports rendering emoji or flag emoji. Flag emoji are a single glyph
	 * made of two characters, so some browsers (notably, Firefox OS X) don't support them.
	 *
	 * @since 4.2.0
	 *
	 * @param type {String} Whether to test for support of "simple" or "flag" emoji.
	 * @return {Boolean} True if the browser can render emoji, false if it cannot.
	 */
	function browserSupportsEmoji( type ) {
		var canvas = document.createElement( 'canvas' ),
			context = canvas.getContext &amp;&amp; canvas.getContext( '2d' );

		if ( ! context || ! context.fillText ) {
			return false;
		}

		/*
		 * Chrome on OS X added native emoji rendering in M41. Unfortunately,
		 * it doesn't work when the font is bolder than 500 weight. So, we
		 * check for bold rendering support to avoid invisible emoji in Chrome.
		 */
		context.textBaseline = 'top';
		context.font = '600 32px Arial';

		if ( type === 'flag' ) {
			/*
			 * This works because the image will be one of three things:
			 * - Two empty squares, if the browser doesn't render emoji
			 * - Two squares with 'G' and 'B' in them, if the browser doesn't render flag emoji
			 * - The British flag
			 *
			 * The first two will encode to small images (1-2KB data URLs), the third will encode
			 * to a larger image (4-5KB data URL).
			 */
			context.fillText( String.fromCharCode( 55356, 56812, 55356, 56807 ), 0, 0 );
			return canvas.toDataURL().length &gt; 3000;
		} else {
			/*
			 * This creates a smiling emoji, and checks to see if there is any image data in the
			 * center pixel. In browsers that don't support emoji, the character will be rendered
			 * as an empty square, so the center pixel will be blank.
			 */
			context.fillText( String.fromCharCode( 55357, 56835 ), 0, 0 );
			return context.getImageData( 16, 16, 1, 1 ).data[0] !== 0;
		}
	}

	function addScript( src ) {
		var script = document.createElement( 'script' );

		script.src = src;
		script.type = 'text/javascript';
		document.getElementsByTagName( 'head' )[0].appendChild( script );
	}

	settings.supports = {
		simple: browserSupportsEmoji( 'simple' ),
		flag:   browserSupportsEmoji( 'flag' )
	};

	settings.DOMReady = false;
	settings.readyCallback = function() {
		settings.DOMReady = true;
	};

	if ( ! settings.supports.simple || ! settings.supports.flag ) {
		ready = function() {
			settings.readyCallback();
		};

		if ( document.addEventListener ) {
			document.addEventListener( 'DOMContentLoaded', ready, false );
			window.addEventListener( 'load', ready, false );
		} else {
			window.attachEvent( 'onload', ready );
			document.attachEvent( 'onreadystatechange', function() {
				if ( 'complete' === document.readyState ) {
					settings.readyCallback();
				}
			} );
		}

		src = settings.source || {};

		if ( src.concatemoji ) {
			addScript( src.concatemoji );
		} else if ( src.wpemoji &amp;&amp; src.twemoji ) {
			addScript( src.twemoji );
			addScript( src.wpemoji );
		}
	}

} )( window, document, window._wpemojiSettings );
  </script>
  <style type="text/css">
   img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
  </style>
  <link href="http://blog.pandorafms.org/wp-content/plugins/social-sharing-toolkit/style_2.1.2.css?ver=4.2.2" id="mr_social_sharing-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="http://blog.pandorafms.org/wp-content/uploads/social_sharing_custom.css?ver=4.2.2" id="mr_social_sharing_custom-css" media="all" rel="stylesheet" type="text/css"/>
  <script src="http://blog.pandorafms.org/wp-includes/js/jquery/jquery.js?ver=1.11.2" type="text/javascript">
  </script>
  <script src="http://blog.pandorafms.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1" type="text/javascript">
  </script>
  <script src="http://blog.pandorafms.org/wp-content/plugins/sitepress-multilingual-cms/res/js/jquery.cookie.js?ver=2.7.1" type="text/javascript">
  </script>
  <script type="text/javascript">
   /* &lt;![CDATA[ */
var wpml_browser_redirect_params = {"pageLanguage":"en","languageUrls":{"en":"http:\/\/blog.pandorafms.org\/?p=1570","es":"http:\/\/blog.pandorafms.org\/?p=1559&amp;lang=es"},"cookie":{"name":"_icl_visitor_lang_js","domain":"blog.pandorafms.org","path":"\/","expiration":24}};
/* ]]&gt; */
  </script>
  <script src="http://blog.pandorafms.org/wp-content/plugins/sitepress-multilingual-cms/res/js/browser-redirect.js?ver=2.7.1" type="text/javascript">
  </script>
  <script src="http://blog.pandorafms.org/wp-content/plugins/social-sharing-toolkit/includes/buttons/button.facebook.js?ver=4.2.2" type="text/javascript">
  </script>
  <link href="http://blog.pandorafms.org/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
  <link href="http://blog.pandorafms.org/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
  <link href="http://blog.pandorafms.org/?p=1535" rel="prev" title="THE PHRASE: And the winner isPANDORA FMS, MONITOR OR PANIC"/>
  <link href="http://blog.pandorafms.org/?p=1611" rel="next" title="Pandora FMS 5.0 RC1 released"/>
  <meta content="WordPress 4.2.2" name="generator"/>
  <link href="http://blog.pandorafms.org/?p=1570" rel="shortlink"/>
  <script type="text/javascript">
   var icl_lang = 'en';var icl_home = 'http://blog.pandorafms.org';
  </script>
  <script src="http://blog.pandorafms.org/wp-content/plugins/sitepress-multilingual-cms/res/js/sitepress.js" type="text/javascript">
  </script>
  <meta content="WPML ver:2.7.1 stt:1,28,2;0" name="generator"/>
  <link href="http://blog.pandorafms.org/?p=1559&amp;lang=es" hreflang="es-ES" rel="alternate"/>
 </head>
 <body class="custom">
  <div id="header">
   <div id="logo">
    <a href="http://blog.pandorafms.org">
     <img id="home_link" src="http://blog.pandorafms.org/wp-content/uploads/2013/10/pix.gif" title="Go to Home"/>
    </a>
    <!--&lt;a href="http://blog.pandorafms.org" title="Pandora FMS &#8211; Monitoring blog"&gt;Pandora FMS &#8211; Monitoring blog&lt;/a&gt;-->
    <p id="tagline">
     Monitoring blog
    </p>
   </div>
  </div>
  <div id="container">
   <div id="nav">
    <ul>
     <li>
      <a href="http://blog.pandorafms.org/?feed=rss2">
       RSS
      </a>
     </li>
     <li>
      <a href="http://twitter.com/pandorafms">
       Twitter
      </a>
     </li>
     <li>
      <a href="http://forums.pandorafms.com/">
       Forums
      </a>
     </li>
     <li>
      <a href="http://wiki.pandorafms.com/">
       Wiki
      </a>
     </li>
     <li>
      <a href="http://pandorafms.com/">
       Pandora FMS
      </a>
     </li>
     <li>
      <a href="http://pandorafms.com/Community/pandora_team/">
       Who are we?
      </a>
     </li>
     <li>
      <a href="http://blog.pandorafms.org/?page_id=1825">
       Newsletter
      </a>
     </li>
    </ul>
   </div>
   <div id="content_box">
    <div class="posts single" id="content">
     <div class="navigation">
      <p>
       
       <a href="http://blog.pandorafms.org/?p=1535" rel="prev">
        THE PHRASE: And the winner isPANDORA FMS, MONITOR OR PANIC
       </a>
      </p>
      <p class="next">
       <a href="http://blog.pandorafms.org/?p=1611" rel="next">
        Pandora FMS 5.0 RC1 released
       </a>
       
      </p>
     </div>
     <h1>
      How to monitor PostgreSQL
     </h1>
     <p class="post_date">
      September 26th, 2013 |
      <a href="http://blog.pandorafms.org/?cat=1" rel="category">
       Uncategorized
      </a>
     </p>
     <div class="entry">
      <p class="icl_post_in_other_langs">
       This post is also available in:
       <a href="http://blog.pandorafms.org/?p=1559&amp;lang=es">
        Spanish
       </a>
      </p>
      <div class="mr_social_sharing_wrapper">
       <!-- Social Sharing Toolkit v2.2 -->
       <span class="mr_social_sharing">
        <a class="twitter-share-button" data-count="horizontal" data-text="How to monitor PostgreSQL" data-url="http://blog.pandorafms.org/?p=1570" data-via="pandorafms" href="https://twitter.com/share">
        </a>
       </span>
       <span class="mr_social_sharing">
        <fb:share-button href="http://blog.pandorafms.org/?p=1570" type="button_count">
        </fb:share-button>
       </span>
       <span class="mr_social_sharing">
        <div class="g-plusone" data-href="http://blog.pandorafms.org/?p=1570" data-size="medium">
        </div>
       </span>
       <span class="mr_social_sharing">
        <a href="mailto:?subject=How to monitor PostgreSQL&amp;body=http://blog.pandorafms.org/?p=1570" target="_blank">
         <img alt="Share via email" class="nopin" src="http://blog.pandorafms.org/wp-content/plugins/social-sharing-toolkit/images/buttons/email.png" title="Share via email"/>
        </a>
       </span>
       <span class="mr_social_sharing">
        <a class="pin-it-button" count-layout="none" href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fblog.pandorafms.org%2F%3Fp%3D1570&amp;media=&amp;description=How+to+monitor+PostgreSQL">
         <img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It"/>
        </a>
       </span>
       <span class="mr_social_sharing">
        <a class="linksalpha_button linksalpha_link" data-button="" data-desc="PostgreSQL is a very powerful and stable database management system (SGBD) that allows managing a very large amount of data. In its more than 16 years of active development by a selfless, altruistic and free community of developers, PostgreSQL has become a well-known SGBD to the level of other" data-image="" data-text="How to monitor PostgreSQL" data-url="http://blog.pandorafms.org/?p=1570" href="//www.linksalpha.com/social/mobile">
         <img alt="Share" class="linksalpha_image" src="//www.linksalpha.com/images/social_share_button.png"/>
        </a>
        <script src="//www.linksalpha.com/scripts/loader_iconbox.js?v=2.3" type="text/javascript">
        </script>
       </span>
      </div>
      <p>
       <strong>
        PostgreSQL is a very powerful and stable database management system
       </strong>
       (SGBD) that allows managing a very large amount of data. In its more than 16 years of active development by a selfless, altruistic and free community of developers, PostgreSQL has become a well-known SGBD to the level of other proprietary solutions.
      </p>
      <p>
       In order to get the software working at peak performance and make a better use of your resources, it is essential to optimize the parameters of Progress.
       <strong>
        Optimizing is important, but optimizing without monitoring is completely useless.
       </strong>
       With a tool that monitors your systems,
       <strong>
        you will be notified on problems before they become a bigger issue
       </strong>
       . If an error occurs in your database, you will receive an email with all the information so you can solve it before its too late.
      </p>
      <p>
       A monitoring system will let you know about when, where and why a problem occurred. With a good optimization and monitoring of ProgreSQL, this database will be suitable even for large companies.
       <br/>
       <strong>
       </strong>
      </p>
      <p>
       <strong>
        All these things will provide you with a better user experience and reliability
       </strong>
       . It will even reduce the time spent on maintenance of PostgreSQL and, therefore, you will cut down on costs and time.
      </p>
      <p>
       <strong>
        COLLECTION OF INTERESTING DATA
       </strong>
      </p>
      <p>
       There are several tools from Linux / Unix that collect useful information about the impact of PostgreSQL in the system. We will talk about some of them below.
      </p>
      <p>
       * ps
      </p>
      <p>
       With command, which most of Linux / Unix systems includes, you can get information about the CPU usage, RAM PostgreSQL processes, the client connections to the server and its activity, among many other things.
      </p>
      <p>
       For example, with a query as the one below:
      </p>
      <blockquote>
       <p>
        ps aux | grep postgres | grep -v grep
       </p>
      </blockquote>
      <p>
       We would get this information:
      </p>
      <blockquote>
       <p>
        postgres 1289 0.0 0.3 51676 7900 ?  S  11:31  0:01 /usr/lib/postgresql/9.1/bin/postgres -D /var/lib/postgresql/9.1/main -c config_file=/etc/postgresql/9.1/main/postgresql.conf
       </p>
       <p>
        postgres 1303 0.0 0.0 21828 1148 ?  Ss  11:31  0:00 postgres: logger process
       </p>
       <p>
        postgres 1305 0.0 0.0 51676 1568 ?  Ss  11:31  0:02 postgres: writer process
       </p>
       <p>
        postgres 1306 0.0 0.0 51676 1324 ?  Ss  11:31  0:02 postgres: wal writer process
       </p>
       <p>
        postgres 1307 0.0 0.1 52228 2452 ?  Ss  11:31  0:00 postgres: autovacuum launcher process
       </p>
       <p>
        postgres 1308 0.0 0.0 22016 1432 ?  Ss  11:31  0:00 postgres: stats collector process
       </p>
      </blockquote>
      <p>
       The third and fourth columns show the percentage of CPU usage and RAM, respectively. Since a very high consumption of CPU and RAM can cause slowness and server crashes, it is important to pay attention to these two data.
      </p>
      <p>
       Note that if data appear when performing this query, it means that the PostgreSQL server is active.
      </p>
      <p>
       * Vmstat:
      </p>
      <p>
       With this command (included in most of the facilities of Linux / Unix systems) you can obtain data related to the common memory and SWAP, (at the entrance and exit), the system and the CPU. The first line always shows an average since the last reboot.
      </p>
      <p>
       To get a view of the current data during an interval of time with a defined number of repetitions, you can perform a query like the one below, where the first variable shows the time in seconds that will measure each line, and the second variable shows the number of lines that will appear:
      </p>
      <blockquote>
       <p>
        vmstat 1 5
       </p>
      </blockquote>
      <p>
       It will return information like this:
      </p>
      <blockquote>
       <p>
        procs memory- swap io- -system -cpu-
       </p>
       <p>
        r b  swpd  free  buff cache  si  so  bi  bo  in  cs us sy id wa
       </p>
       <p>
        0 0   0 188972 179496 669392  0  0  24  27 525 461 1 1 96 1
       </p>
       <p>
        0 0   0 188972 179496 669392  0  0   0   0 1449 1689 2 2 97 0
       </p>
       <p>
        0 0   0 188972 179496 669392  0  0   0   0 2403 1605 2 2 97 0
       </p>
       <p>
        2 0   0 188972 179500 669392  0  0   0  16 2041 2502 2 3 94 2
       </p>
       <p>
        0 0   0 188972 179500 669392  0  0   0   0 1599 1868 1 1 98 0
       </p>
      </blockquote>
      <p>
       The most useful information to the topic that concerns us is shown in the last column: wa. It shows the timeout for Input / Output operations. Since the system could collapse  due to an excessive disk access, it is very important to monitor it so it will not exceed a value of 15-20.
      </p>
      <p>
       Check if the values of the columns si and so of the SWAP memory usage are 0. It would mean that the Ram memory of the server is saturated.
      </p>
      <p>
       * netstat
      </p>
      <p>
       This command displays information about the status of the network connections, so you can check the number of standby connections in the computer hosting the PostgreSQ, with a query like the one below.
      </p>
      <blockquote>
       <p>
        netstat -ntu | grep TIME_WAIT | wc -l
       </p>
      </blockquote>
      <p>
       A high number of standby connections may indicate problems with the server response as a result of other problems.
      </p>
      <p>
       ** Views and internal tables of PostgreSQL
      </p>
      <p>
       PostgreSQL has a subsystem called Statistics Collector responsible for collecting and reporting information on the activity of the server. To deactivate Statistic Collectors and avoid performance losses, modify the parameters  track_counts ,  track_functions  and  track_activities  on the file  postgresql.conf  . However, before deactivating it, you must assess whether it is worthwhile as this will remove the possibility of obtaining very useful data.
      </p>
      <p>
       To access these data, you need SQL to perform several queries to some predefined views. Some of the most important ones are:
      </p>
      <p>
       * pg_database
      </p>
      <p>
       It saves information about the databases available. A database per row.
       <br/>
       This table is very interesting because it will allow you to find out the size ( in bytes ) of all the databases. The  pg_database_size ( oid )  returns the size of the database whose ID is passed as an argument . By performing a query on this table, it will show the size of each database, row by row, and you will only have to add the results to see if there is enough space left in the disk:
      </p>
      <blockquote>
       <p>
        SELECT SUM(pg_database_size(oid)) FROM pg_database;
       </p>
      </blockquote>
      <p>
       * pg_locks
       <br/>
       * pg_locks displays information on the active locks in the server. It has one row for each lock, which display information about the type of lock and where it has occurred, etc.
      </p>
      <p>
       As the SGBD allows multiple users to access at the same time, some of them may want to make changes on the same item that is being used by another user. To avoid this situation, the elements in use in a transaction must be locked. To find out the number of locked element, perform the following query:
      </p>
      <blockquote>
       <p>
        SELECT COUNT(*) FROM pg_locks;
       </p>
      </blockquote>
      <p>
       A high number of locks could decrease the server performance, because two or more processes could try to access the same resource and would have to wait for the resource to be unlocked.
      </p>
      <p>
       * pg_stat_activity : it shows information about the server processes. It shows a row per process.
       <br/>
       From this view you can get the number of users connected to the query:
      </p>
      <blockquote>
       <p>
        SELECT COUNT(usename) FROM pg_stat_activity;
       </p>
      </blockquote>
      <p>
       The number of concurrent users that can manage the system depend on the hardware and the connection of the machine where the server is located. It is convenient to perform stress tests to find out what that limit is and be alerted if the system is reaching it.
      </p>
      <p>
       * pg_stat_database
      </p>
      <p>
       It shows information about the use of databases. It has one row for each database, which shows the number of connected processes, commits and rollbacks. Furthermore, it shows information on the blocks read from the disk, the cache and the number and type of operations performed with rows of each one.
      </p>
      <p>
       With this table you can find out, for example, if the cache memory is working properly. With the query below, you can get a usage rate of the cache with respect to the common:
      </p>
      <blockquote>
       <p>
        SELECT SUM(blks_hit) / SUM(blks_read) FROM pg_stat_database;
       </p>
      </blockquote>
      <p>
       The higher ratio, the greater speed when collecting data for the tables.
      </p>
      <p>
       * pg_stat_bgwriter
      </p>
      <p>
       It only has one row and shows data related to checkpoints and buffers from the background writer.
      </p>
      <p>
       An advanced user able to interpret data can take advantage of this information by changing certain properties to improve the performance. For example, you can perform this query:
      </p>
      <blockquote>
       <p>
        SELECT maxwritten_clean FROM pg_stat_bgwriter;
       </p>
      </blockquote>
      <p>
       This query will return the number of times that the bgwriter has overwritten the maximum number of buffers allowed in that round, whena checkpoint has been performed. A low number is ok, but if the values are too high, you should increase the value  bgwriter_lru_maxpages  (default 100 ) in  postgresql.conf  or the command line to improve the performance .
      </p>
      <p>
       You can also improve the performance by checking what external processes are forced to ask for more space many times in the buffers.
      </p>
      <p>
       Use this query to check it:
      </p>
      <blockquote>
       <p>
        SELECT buffers_backend FROM pg_stat_bgwriter;
       </p>
      </blockquote>
      <p>
       To expand the space before a process needs to extend it, you can increase the values  bgwriter_lru_maxpages  and  bgwriter_lru_multiplier  , and reduce the value  bgwriter_delay .
      </p>
      <p>
       Check out the rest of tables and functions here:
       <a href="http://www.postgresql.org/docs/9.1/static/monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE">
        http://www.postgresql.org/docs/9.1/static/monitoring-stats.html # MONITORING -STATS  VIEWS  TABLE
       </a>
       (it will vary depending on the version of PostgreSQL ).
      </p>
      <p>
       <strong>
        How to monitor PostgreSQL with Pandora FMS
       </strong>
      </p>
      <p>
       Some users may prefer to perform checks manually to ensure the proper operation of your PostgreSQL server . However, for those who need to maintain a tight control of the operation and evolution of the system, a monitoring system is the perfect solution to increase the functionalities and possibilities of PostgreSQL.
      </p>
      <p>
       The market offers a wide range of monitoring systems. As manufacturers and experts in Pandora FMS we strongly recommend Pandora FMS and its plugin for PostgreSQL to monitor PostgreSQL.
      </p>
      <p>
       The first step to deploy the monitoring is to download and install Pandora FMS. Please, fin below the ISO image:
      </p>
      <p>
       <a href="http://pandorafms.com/Community/download/en">
        http://pandorafms.com/Community/download/
       </a>
      </p>
      <p>
       Once installed, install an agent on the machine where server cache of PostgreSQL is running. You can find many different Linux distributions agents at the following link:
      </p>
      <p>
       <a href="http://sourceforge.net/projects/pandora/files/Pandora % 20FMS % 204.0.3 /">
        http://sourceforge.net/projects/pandora/files/Pandora % 20FMS % 204.0.3 /
       </a>
      </p>
      <p>
       Since you can find all the information on how to install every process in the official documentation, we wont explain it in this article. For further information on this process, click on this link:
      </p>
      <p>
       <a href="http://wiki.pandorafms.com/index.php?title=Pandora:Documentation_en:Installing">
        http://wiki.pandorafms.com/index.php?title=Pandora:Documentation_en:Installing
       </a>
      </p>
      <p>
       Click on the link below to download the to monitor PostgreSQL.
      </p>
      <p>
       <a href="http://pandorafms.com/Library/repository/en">
        http://pandorafms.com/index.php?sec=Library&amp;sec2=repository&amp;lng=es&amp;action=view_PUI&amp;id_PUI=553
       </a>
      </p>
      <p>
       To install the plugin , you just have to unzip the downloaded file and move the Pandora_PostgreSQL.conf Pandora_and PostgreSQL.pl files to the agent plugin folder installed on the PostgreSQL server to monitor. You can use the following commands:
      </p>
      <blockquote>
       <p>
        # unzip Pandora_PostgreSQL.zip
       </p>
       <p>
        # cp Pandora_PostgreSQL.* /etc/pandora/plugins
       </p>
      </blockquote>
      <p>
       Once the plugin is in the right location, we have to configure it. Enter a user name and a password of a user with full permissions to log in from the terminal. You will also have to add the host address and specify a directory for temporary data. Once done, the plugin will be fully functional, as it includes a lot of checks by default.
      </p>
      <p>
       You can add or delete checks from the configuration, or even customize the existing ones.
      </p>
      <p>
       There are three types of checks: system checks, general queries about information of PostgreSQL and free queries. To remove one in particular, just delete or add a comment with a # at the beginning of each line of the check.
      </p>
      <p>
       To add or customize a new check, firstly you need to understand how the data displayed here operates:
      </p>
      <p>
       * System checks:
      </p>
      <blockquote>
       <p>
        check_begin
       </p>
       <p>
        check_pgsql_service
       </p>
       <p>
        check_end
       </p>
      </blockquote>
      <p>
       These checks are predefined and can not be added to new ones, but you can delete them or customize them as it will be explained later.
      </p>
      <p>
       * General queries:
      </p>
      <blockquote>
       <p>
        check_begin
       </p>
       <p>
        check_name (Nombre del chequeo)
       </p>
       <p>
        pgsql_column (Columna de la que se quiera extraer informacin)
       </p>
       <p>
        pgsql_table (Tabla de la que se desea extraer informacin)
       </p>
       <p>
        check_end
       </p>
      </blockquote>
      <p>
       These checks will work just with numerical data. In that case, it will return the whole of all the data found in the specified table column.
      </p>
      <p>
       * Free queries:
      </p>
      <blockquote>
       <p>
        check_begin
       </p>
       <p>
        check_name (Nombre del chequeo)
       </p>
       <p>
        pgsql_sql (Consulta SQL a realizar)
       </p>
       <p>
        check_end
       </p>
      </blockquote>
      <p>
       These checks work like general queries when searching for numerical data. In case, the information you wish to gather is text-type, these checks will return the firsttext datafound.
      </p>
      <p>
       Each check should be between two lines:  check_begin  and check_end . It will have all the necessary data for execution indicated above and optional customization:
      </p>
      <p>
        post_condition :
      </p>
      <p>
       It compares the result obtained when executing the module with the one indicated here. If it meets,  post_status ,  post_execution  or both of them (if they are defined) will be executed.
       <br/>
       Eg post_condition &gt; 10
      </p>
      <p>
        post_status :
      </p>
      <p>
       It switches the status of the check into the indicated one when the condition of  post_condition  is met. Ex: WARNING post_status
      </p>
      <p>
        post_execution :
      </p>
      <p>
       Run the terminals order indicated before  _data_  in the event that the condition of  post_condition  is fulfilled.
      </p>
      <p>
       Eg post_execution snmptrap  v 1-c public 192.168.5.2 1.3.6.1.2.1.2 192.168.50.124 6 666 1233433 .1.3.6.1.2.1.2.2.1.1.6 i _data_
      </p>
      <p>
        data_delta : Specifying this property, the information obtained by the check will be treated as delta  , ie , reflects the increase to observe the rate of increase that was produced .
      </p>
      <p>
        module_type : it changes the data type that will return the check indicated.
      </p>
      <p>
       Eg async_string module_type
      </p>
      <p>
       Once setup is completed according to your needs, add the plugin configuration file of the Pandora FMS agent, which will be by default in the path / etc / pandora / pandora_agent.conf  , so you can run it periodically. If the plugin files have been already added to the plugins folder , you just have to add this line :
      </p>
      <blockquote>
       <p>
        module_plugin /etc/pandora/plugins/Pandora_PostgreSQL.pl /etc/pandora/plugins/Pandora_PostgreSQL.conf
       </p>
      </blockquote>
      <p>
       After completing this process, Pandora FMS will have been successfully installed in your systems and you can be sure that you will be informed of any failures occurring in your systems before they become a bigger problem for your environment.
      </p>
     </div>
     <p class="newsletter-text">
      If you like this article, you can stay tuned by subscribing to Pandora FMS newsletter
     </p>
     <center>
      <iframe height="240" src="http://artica.es/integria/include/newsletter.php?operation=subscribe&amp;id=1&amp;clean=1" style="height: 150px; width: 600px; border: 0px solid #fff;" width="320">
      </iframe>
     </center>
     <!-- You can start editing here. -->
     <div id="comments">
      <h3 class="comment_intro">
       0 comments 
      </h3>
      <!-- If comments are open, but there are no comments. -->
      <div class="entry">
       <p>
        There are no comments yet...Kick things off by filling out the form below.
       </p>
      </div>
      <!-- Comment Form -->
      <h3 id="respond">
       Leave a Comment
      </h3>
      <form action="http://blog.pandorafms.org/wp-comments-post.php" id="comment_form" method="post">
       <p>
        <input class="text_input" id="author" name="author" tabindex="1" type="text" value=""/>
        <label for="author">
         <strong>
          Name
         </strong>
        </label>
       </p>
       <p>
        <input class="text_input" id="email" name="email" tabindex="2" type="text" value=""/>
        <label for="email">
         <strong>
          Mail
         </strong>
        </label>
       </p>
       <p>
        <input class="text_input" id="url" name="url" tabindex="3" type="text" value=""/>
        <label for="url">
         <strong>
          Website
         </strong>
        </label>
       </p>
       <!--&lt;p&gt;&lt;small&gt;&lt;strong&gt;XHTML:&lt;/strong&gt; You can use these tags: &lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;s&gt; &lt;strike&gt; &lt;strong&gt; &lt;/small&gt;&lt;/p&gt;-->
       <p>
        <textarea class="text_input text_area" id="comment" name="comment" rows="7" tabindex="4">
        </textarea>
       </p>
       <p>
        <input class="form_submit" id="submit" name="submit" tabindex="5" type="submit" value="Submit"/>
        <input name="comment_post_ID" type="hidden" value="1570"/>
       </p>
       <p style="display: none;">
        <input id="akismet_comment_nonce" name="akismet_comment_nonce" type="hidden" value="be54835eb3"/>
       </p>
       <p style="display: none;">
        <input id="ak_js" name="ak_js" type="hidden" value="89"/>
       </p>
       <input name="icl_comment_language" type="hidden" value="en"/>
      </form>
     </div>
     <!-- Close #comments container -->
    </div>
    <div id="sidebar">
     <p>
     </p>
     <div id="lang_sel">
      <ul>
       <li>
        <a class="lang_sel_sel icl-en" href="#">
         <img alt="en" class="iclflag" src="http://blog.pandorafms.org/wp-content/plugins/sitepress-multilingual-cms/res/flags/en.png" title="English"/>
         <span class="icl_lang_sel_current">
          English
         </span>
        </a>
        <ul>
         <li class="icl-es">
          <a href="http://blog.pandorafms.org/?p=1559&amp;lang=es" hreflang="es" rel="alternate">
           <img alt="es" class="iclflag" src="http://blog.pandorafms.org/wp-content/plugins/sitepress-multilingual-cms/res/flags/es.png" title="Espaol"/>
           <span class="icl_lang_sel_native">
            Espaol
           </span>
           <span class="icl_lang_sel_translated">
            <span class="icl_lang_sel_native">
             (
            </span>
            Spanish
            <span class="icl_lang_sel_native">
             )
            </span>
           </span>
          </a>
         </li>
        </ul>
       </li>
      </ul>
     </div>
     <ul class="sidebar_list">
      <li class="widget">
       <h2>
        SEARCH
       </h2>
       <form action="http://blog.pandorafms.org/" id="search_form" method="get">
        <input class="search_input" id="s" name="s" onblur="if (this.value == '') {this.value = 'To search, type and hit enter';}" onfocus="if (this.value == 'To search, type and hit enter') {this.value = '';}" type="text" value="To search, type and hit enter"/>
        <input id="searchsubmit" type="hidden" value="Search"/>
       </form>
      </li>
      <li class="widget widget_text" id="text-3">
       <div class="textwidget">
        <a href="http://pandorafms.com/Company/contact/es">
         <img src="http://blog.pandorafms.org/wp-content/uploads/2015/07/banner_51_SP3.png"/>
        </a>
       </div>
      </li>
      <li class="widget widget_recent_entries" id="recent-posts-3">
       <h2 class="widgettitle">
        LAST ENTRIES
       </h2>
       <ul>
        <li>
         <a href="http://blog.pandorafms.org/?p=3921">
          New Pandora FMS 5.1 SP3 now available!
         </a>
        </li>
        <li>
         <a href="http://blog.pandorafms.org/?p=3869">
          New ACL Strict Mode feature
         </a>
        </li>
        <li>
         <a href="http://blog.pandorafms.org/?p=3894">
          Pandora FMS Quickguides
         </a>
        </li>
        <li>
         <a href="http://blog.pandorafms.org/?p=3845">
          New plugin for ODBC queries in Windows
         </a>
        </li>
        <li>
         <a href="http://blog.pandorafms.org/?p=3826">
          HTML alerts with graphs
         </a>
        </li>
       </ul>
      </li>
      <li class="widget widget_categories" id="categories-2">
       <h2 class="widgettitle">
        CATEGORIES
       </h2>
       <ul>
        <li class="cat-item cat-item-68">
         <a href="http://blog.pandorafms.org/?cat=68">
          Agent
         </a>
         (8)
        </li>
        <li class="cat-item cat-item-79">
         <a href="http://blog.pandorafms.org/?cat=79">
          Alerts
         </a>
         (4)
        </li>
        <li class="cat-item cat-item-67">
         <a href="http://blog.pandorafms.org/?cat=67">
          Android
         </a>
         (6)
        </li>
        <li class="cat-item cat-item-89">
         <a href="http://blog.pandorafms.org/?cat=89">
          Community
         </a>
         (11)
        </li>
        <li class="cat-item cat-item-119">
         <a href="http://blog.pandorafms.org/?cat=119">
          Database
         </a>
         (2)
        </li>
        <li class="cat-item cat-item-18">
         <a href="http://blog.pandorafms.org/?cat=18">
          debian
         </a>
         (3)
        </li>
        <li class="cat-item cat-item-148">
         <a href="http://blog.pandorafms.org/?cat=148">
          Extensions
         </a>
         (1)
        </li>
        <li class="cat-item cat-item-128">
         <a href="http://blog.pandorafms.org/?cat=128">
          Features
         </a>
         (11)
        </li>
        <li class="cat-item cat-item-140">
         <a href="http://blog.pandorafms.org/?cat=140">
          Geek
         </a>
         (1)
        </li>
        <li class="cat-item cat-item-130">
         <a href="http://blog.pandorafms.org/?cat=130">
          HA
         </a>
         (2)
        </li>
        <li class="cat-item cat-item-144">
         <a href="http://blog.pandorafms.org/?cat=144">
          Integrations
         </a>
         (2)
        </li>
        <li class="cat-item cat-item-98">
         <a href="http://blog.pandorafms.org/?cat=98">
          Interviews
         </a>
         (1)
        </li>
        <li class="cat-item cat-item-127">
         <a href="http://blog.pandorafms.org/?cat=127">
          iPhone/iPad
         </a>
         (3)
        </li>
        <li class="cat-item cat-item-76">
         <a href="http://blog.pandorafms.org/?cat=76">
          Japan
         </a>
         (7)
        </li>
        <li class="cat-item cat-item-66">
         <a href="http://blog.pandorafms.org/?cat=66">
          Mobile
         </a>
         (3)
        </li>
        <li class="cat-item cat-item-6">
         <a href="http://blog.pandorafms.org/?cat=6">
          Pandora FMS
         </a>
         (113)
         <ul class="children">
          <li class="cat-item cat-item-65">
           <a href="http://blog.pandorafms.org/?cat=65">
            cursos
           </a>
           (1)
          </li>
          <li class="cat-item cat-item-42">
           <a href="http://blog.pandorafms.org/?cat=42">
            Development
           </a>
           (32)
          </li>
         </ul>
        </li>
        <li class="cat-item cat-item-88">
         <a href="http://blog.pandorafms.org/?cat=88">
          Patches
         </a>
         (2)
        </li>
        <li class="cat-item cat-item-69">
         <a href="http://blog.pandorafms.org/?cat=69">
          Plugins
         </a>
         (13)
        </li>
        <li class="cat-item cat-item-102">
         <a href="http://blog.pandorafms.org/?cat=102">
          Release
         </a>
         (18)
        </li>
        <li class="cat-item cat-item-5">
         <a href="http://blog.pandorafms.org/?cat=5">
          Servers
         </a>
         (4)
        </li>
        <li class="cat-item cat-item-3">
         <a href="http://blog.pandorafms.org/?cat=3">
          Translations
         </a>
         (6)
        </li>
        <li class="cat-item cat-item-1">
         <a href="http://blog.pandorafms.org/?cat=1">
          Uncategorized
         </a>
         (56)
        </li>
        <li class="cat-item cat-item-70">
         <a href="http://blog.pandorafms.org/?cat=70">
          Usability
         </a>
         (7)
        </li>
        <li class="cat-item cat-item-139">
         <a href="http://blog.pandorafms.org/?cat=139">
          Visual consoles
         </a>
         (1)
        </li>
        <li class="cat-item cat-item-64">
         <a href="http://blog.pandorafms.org/?cat=64">
          Vmware
         </a>
         (4)
        </li>
        <li class="cat-item cat-item-4">
         <a href="http://blog.pandorafms.org/?cat=4">
          Web Console
         </a>
         (15)
        </li>
        <li class="cat-item cat-item-104">
         <a href="http://blog.pandorafms.org/?cat=104">
          Windows
         </a>
         (1)
        </li>
       </ul>
      </li>
      <li class="widget widget_meta" id="meta-3">
       <h2 class="widgettitle">
        USER OPTIONS
       </h2>
       <ul>
        <li>
         <a href="http://blog.pandorafms.org/wp-login.php">
          Log in
         </a>
        </li>
        <li>
         <a href="http://blog.pandorafms.org/?feed=rss2">
          Entries
          <abbr title="Really Simple Syndication">
           RSS
          </abbr>
         </a>
        </li>
        <li>
         <a href="http://blog.pandorafms.org/?feed=comments-rss2">
          Comments
          <abbr title="Really Simple Syndication">
           RSS
          </abbr>
         </a>
        </li>
        <li>
         <a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">
          WordPress.org
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
   </div>
  </div>
  <div id="footer">
   <p>
     Pandora FMS  Monitoring blog 
    <a href="http://www.copyblogger.com">
     Copyblogger
    </a>
    theme design by
    <a href="http://pearsonified.com">
     Chris Pearson
    </a>
   </p>
   <script src="http://blog.pandorafms.org/wp-content/plugins/akismet/_inc/form.js?ver=3.1.1" type="text/javascript">
   </script>
   <script src="http://blog.pandorafms.org/wp-content/plugins/social-sharing-toolkit/script_2.1.2.js?ver=4.2.2" type="text/javascript">
   </script>
   <script src="https://platform.twitter.com/widgets.js?ver=4.2.2" type="text/javascript">
   </script>
   <script src="//connect.facebook.net/en_US/all.js?ver=4.2.2#xfbml=1&amp;appId=188707654478" type="text/javascript">
   </script>
   <script src="http://blog.pandorafms.org/wp-content/plugins/social-sharing-toolkit/includes/buttons/button.googleplus.js?ver=4.2.2" type="text/javascript">
   </script>
   <script src="http://assets.pinterest.com/js/pinit.js?ver=4.2.2" type="text/javascript">
   </script>
   <p id="wpml_credit_footer">
    <a href="http://wpml.org/" rel="nofollow">
     Multilingual WordPress
    </a>
    by
    <a href="http://www.icanlocalize.com/site/" rel="nofollow">
     ICanLocalize
    </a>
   </p>
  </div>
 </body>
</html>