<!DOCTYPE html>
<html>
 <head>
  <title>
   Explaining Functional Programming to Eight-Year-Olds
  </title>
  <link href="p21.css" rel="stylesheet" type="text/css"/>
  <link href="atom.xml" rel="alternate" title="Atom feed" type="application/atom+xml"/>
 </head>
 <body>
  <div id="top">
   <div id="header">
    <a href="/" id="home">
     programming in the
     <br/>
     twenty-first century
    </a>
    <p id="tag">
     It's not about technology for its own sake. It's about being able to implement your ideas.
    </p>
   </div>
  </div>
  <div id="main">
   <div id="right">
    <p class="stuff">
     <a href="index.html">
      Newest Entry
     </a>
     <br/>
     <a href="archives.html">
      Complete Archives
     </a>
     <br/>
    </p>
    <p class="about">
     I'm James Hague, a
     <a href="56.html">
      recovering programmer
     </a>
     who has been designing video games since the 1980s.
     <a href="132.html">
      This is Why You Spent All that Time Learning to Program
     </a>
     and
     <a href="46.html">
      The Pure Tech Side is the Dark Side
     </a>
     are good places to start.
    </p>
    <p>
     <b>
      james.hague@gmail.com
     </b>
    </p>
    <p>
     <b>
      twitter
      <a href="https://twitter.com/dadgumjames">
       @dadgumjames
      </a>
     </b>
    </p>
    <p>
     Where are
     <a href="57.html">
      the comments
     </a>
     ?
    </p>
    <p>
     <a href="atom.xml">
      atom feed (for news readers)
     </a>
    </p>
   </div>
   <div id="left">
    <h1>
     Explaining Functional Programming to Eight-Year-Olds
    </h1>
    <p>
     "Map" and "fold" are two fundamentals of functional programming. One of them is trivially easy to understand and use. The other is not, but that has more to do with trying to fit it into a particular view of functional programming than with it actually being tricky.
    </p>
    <p>
     There's not much to say about map. Given a list and a function, you create a new list by applying the same function to each element. There's even special syntax for this in some languages which removes any confusion about whether the calling sequence is
     <code>
      map(Function, List)
     </code>
     or
     <code>
      map(List, Function)
     </code>
     . Here's Erlang code to increment the values in
     <code>
      List
     </code>
     :
    </p>
    <div class="code">
     [X + 1 || X &lt;- List]
    </div>
    <p>
     Fold, well, it's not nearly so simple. Just the description of it sounds decidedly imperative: accumulate a result by iterating through the elements in a list. It takes three parameters: a base value, a list, and a function. The last of these maps a value and the current accumulator to a new accumulator. In Erlang, here's a fold that sums a list:
    </p>
    <div class="code">
     lists:foldl(fun(X, Sum) -&gt; X + Sum end, 0, List)
    </div>
    <p>
     It's short, but it's an awkward conciseness. Now we've two places where the parameter order can be botched. I always find myself having to stop and think about the mechanics of how folding works--and the difference between left and right folding, too (
     <code>
      lists:foldl
     </code>
     is a left fold). I would hardly call this complicated, but that step of having to pause and run through the details in my head keeps it from being mindlessly intuitive.
    </p>
    <p>
     Compare this to the analog in array languages like APL and J. The "insert" operation inserts a function between all the elements of a list and evaluates it. Going back to the sum example, it would be "
     <code>
      +/
     </code>
     " in J, or "insert addition." So this:
    </p>
    <div class="code">
     1 2 3 4 5 6
    </div>
    <p>
     turns to this:
    </p>
    <div class="code">
     1 + 2 + 3 + 4 + 5 + 6
    </div>
    <p>
     giving a result of 21. The mechanics here are so simple that you could explain them to a class of second graders and not worry about them being confused. There's nothing about iterating or accumulating or a direction of traversal or even parameters. It's just...insertion.
    </p>
    <p>
     Now there are some edge cases to worry about, such as "What does it mean to insert a function between the elements of a list of length 1"? Or an empty list for that matter. The standard array language solution is to associate a base value with operators, like addition, so summing a list containing the single value 27 is treated as
     <code>
      0 + 27
     </code>
     . I'm not going to argue that APL's insert is more general than fold, because it certainly isn't. You can do all sorts of things with the accumulator in a traditional fold (for example, computing the maximum and minimum values of a list at the same time).
    </p>
    <p>
     But in terms of raw simplicity of understanding, insert flat-out beats fold. That begs the question: Is the difficulty many programmers have in grasping functional programming
     <i>
      inherent
     </i>
     in the basic concept of non-destructively operating on values, or is it in the popular abstractions that have been built-up to describe functional programming?
    </p>
    <p>
     (If you liked this, you might like
     <a href="14.html">
      Functional Programming Archaeology
     </a>
     .)
    </p>
    <div id="footer">
     <a href="73.html" id="permalink">
      permalink
     </a>
     July 9, 2010
    </div>
    <div id="prev">
     <h1>
      Previously
     </h1>
     <a href="72.html">
      What Do People Like?
     </a>
     <br/>
     <a href="71.html">
      Tricky When You Least Expect It
     </a>
     <br/>
     <a href="70.html">
      A Ramble Through Erlang IO Lists
     </a>
     <br/>
     <a href="69.html">
      How to Think Like a Pioneer
     </a>
     <br/>
     <a href="68.html">
      How Much Processing Power Does it Take to be Fast?
     </a>
     <br/>
    </div>
   </div>
  </div>
 </body>
</html>