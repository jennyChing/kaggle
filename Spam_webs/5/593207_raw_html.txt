<!DOCTYPE html>
<!--[if IEMobile 7 ]&gt;&lt;html class="no-js iem7"&gt;&lt;![endif]-->
<!--[if lt IE 9]&gt;&lt;html class="no-js lte-ie8"&gt;&lt;![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]&gt;&lt;!-->
<html class="no-js" lang="en">
 <!--&lt;![endif]-->
 <!DOCTYPE html>
 <!--[if IEMobile 7 ]&gt;&lt;html class="no-js iem7"&gt;&lt;![endif]-->
 <!--[if lt IE 9]&gt;&lt;html class="no-js lte-ie8"&gt;&lt;![endif]-->
 <!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]&gt;&lt;!-->
 <!--&lt;![endif]-->
 <head>
  <meta charset="utf-8"/>
  <title>
   The Least Effective Method For Blocking Web Scraping of a Website | minimaxir | Max Woolf's Blog
  </title>
  <meta content="summary" name="twitter:card"/>
  <meta content="@minimaxir" name="twitter:site"/>
  <meta content="@minimaxir" name="twitter:creator"/>
  <meta content="The Least Effective Method For Blocking Web Scraping of a Website" name="twitter:title"/>
  <meta content="http://minimaxir.com/2014/09/buzzscrape/" name="twitter:url"/>
  <meta content="What was on Page #10 shocked me. OMG. I could not believe my eyes." name="twitter:description"/>
  <meta content="http://minimaxir.com/img/buzzfeed_example.png" name="twitter:image:src"/>
  <meta content="minimaxir | Max Woolf's Blog" property="og:site_name"/>
  <meta content="The Least Effective Method For Blocking Web Scraping of a Website" property="og:title"/>
  <meta content="article" property="og:type"/>
  <meta content="What was on Page #10 shocked me. OMG. I could not believe my eyes." property="og:description"/>
  <meta content="http://minimaxir.com/2014/09/buzzscrape/" property="og:url"/>
  <meta content="http://minimaxir.com/img/buzzfeed_example.png" property="og:image"/>
  <meta content="Comedy" property="article:section"/>
  <meta content="en_us" property="og:locale"/>
  <meta content="True" name="HandheldFriendly"/>
  <meta content="320" name="MobileOptimized"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <script type="text/javascript">
   //&lt;![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok3v=1613a3a185/"},atok:"6c946c04ee739ae67a773a9aa38761f8",petok:"42ecf4105a62b2bd93c4de8370bd26d3e9435eda-1436823128-1800",zone:"minimaxir.com",rocket:"0",apps:{"ga_key":{"ua":"UA-24136337-2","ga_bs":"2"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok3v=7e13c32551/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]&gt;
  </script>
  <link href="http://minimaxir.com/2014/09/buzzscrape" rel="canonical"/>
  <link href="/favicon.png" rel="icon"/>
  <link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css"/>
  <link href="/css/minimaxir.css" media="screen, projection" rel="stylesheet" type="text/css"/>
  <link href="/css/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css"/>
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400italic,700" rel="stylesheet" type="text/css"/>
  <link href="/rss.xml" rel="alternate" title="minimaxir | Max Woolf's Blog" type="application/atom+xml"/>
  <script src="/javascripts/modernizr-2.0.js">
  </script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
  </script>
  <script>
   !window.jQuery &amp;&amp; document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))
  </script>
  <script src="/javascripts/octopress.js" type="text/javascript">
  </script>
  <script>
   $(document).ready(function() {
 
  // Facebook
	$( ".social.facebook" ).children().each(function(index,value) {
	var facebook_button = $(this);
	var url = facebook_button.attr("data");

  jQuery.getJSON("http://graph.facebook.com/?id="+url, function(data) {
  if (typeof data.shares != 'undefined') facebook_button.html("&lt;i class=\"fa fa-facebook\"&gt;&lt;/i&gt;&lt;span class=\"count hidden-xs\"&gt; " + data.shares + "&lt;/span&gt;");
  else if (typeof data.likes != 'undefined') facebook_button.html("&lt;i class=\"fa fa-facebook\"&gt;&lt;/i&gt;&lt;span class=\"count hidden-xs\"&gt; " + data.likes + "&lt;/span&gt;");
  else facebook_button.html("&lt;i class=\"fa fa-facebook\"&gt;&lt;/i&gt;&lt;span class=\"count hidden-xs\"&gt; " + " 0&lt;/span&gt;");
  });
  });
 
 // Twitter
	$( ".social.twitter" ).children().each(function(index,value) {
	var twitter_button = $(this);
	var url = twitter_button.attr("data");

  jQuery.getJSON("http://cdn.api.twitter.com/1/urls/count.json?url="+url+"&amp;callback=?", function(data) {
  twitter_button.html("&lt;i class=\"fa fa-twitter\"&gt;&lt;/i&gt;&lt;span class=\"count hidden-xs\"&gt; " + data.count + "&lt;/span&gt;");
  });
  });
  
  // LinkedIn
	$( ".social.linkedin" ).children().each(function(index,value) {
	var linkedin_button = $(this);
	var url = linkedin_button.attr("data");

  jQuery.getJSON("http://www.linkedin.com/countserv/count/share?url="+url+"&amp;format=jsonp&amp;callback=?", function(data) {
  linkedin_button.html("&lt;i class=\"fa fa-linkedin\"&gt;&lt;/i&gt;&lt;span class=\"count hidden-xs\"&gt; " + data.count + "&lt;/span&gt;");
  });
  });
  });
  </script>
  <script type="text/javascript">
   /* &lt;![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-24136337-2']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&amp;&amp;"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&amp;&amp;"Event"in FB&amp;&amp;"subscribe"in FB.Event&amp;&amp;(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&amp;&amp;"events"in twttr&amp;&amp;"bind"in twttr.events&amp;&amp;twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&amp;&amp;a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&amp;]+=([^&amp;]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]&gt; */
  </script>
 </head>
 <body>
  <a class="home-icon" href="/">
   <i class="fa fa-home">
   </i>
  </a>
  <article class="full-single-article" role="article">
   <div class="container">
    <div class="row">
     <div class="col-md-8 col-md-offset-2">
      <h1>
       The Least Effective Method For Blocking Web Scraping of a Website
      </h1>
      <div class="meta">
       written
       <time data-updated="true" datetime="2014-09-26T10:30:00-07:00" pubdate="">
        Sep 26
        <span>
         th
        </span>
        , 2014
       </time>
       in
       <span class="categories">
        <a href="/comedy">
         Comedy
        </a>
       </span>
       <a href="/data">
        Data
       </a>
      </div>
      <div class="row sharing index">
       <span class="social facebook col-xs-4">
        <a data="http://minimaxir.com/2014/09/buzzscrape/" href="http://www.facebook.com/share.php?u=http://minimaxir.com/2014/09/buzzscrape/" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=350,width=600');return false;">
         <i class="fa fa-facebook">
         </i>
         <span class="count hidden-xs">
          -
         </span>
        </a>
       </span>
       <span class="social twitter col-xs-4">
        <a data="http://minimaxir.com/2014/09/buzzscrape/" href="http://twitter.com/home/?status=The Least Effective Method For Blocking Web Scraping of a Website - http://minimaxir.com/2014/09/buzzscrape/ - via @minimaxir" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=350,width=600');return false;">
         <i class="fa fa-twitter">
         </i>
         <span class="count hidden-xs">
          -
         </span>
        </a>
       </span>
       <span class="social linkedin col-xs-4">
        <a data="http://minimaxir.com/2014/09/buzzscrape/" href="http://www.linkedin.com/shareArticle?mini=true&amp;title=&amp;url=http://minimaxir.com/2014/09/buzzscrape/" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=600');return false;">
         <i class="fa fa-linkedin">
         </i>
         <span class="count hidden-xs">
          -
         </span>
        </a>
       </span>
      </div>
      <p>
       As someone who typically plays around with data from public website APIs, I figured it would be worthwhile to learn how to get data from websites the old-fashioned way: through force, via web scraping.
       <a href="http://en.wikipedia.org/wiki/Web_scraping">
        Web scraping
       </a>
       is a technique where the user downloads the raw HTML of a webpage, and parses the inherent structure of the webpage to extract the necessary data.
      </p>
      <p>
       In order to understand the mechanics behind web scraping, I used a tool from new Y Combinator startup
       <a href="https://www.kimonolabs.com/">
        Kimono Labs
       </a>
       , which allows the user to click structured elements of any website and quickly create an API that can access all the collected data and convert it into an easy-to-access form. My first target was BuzzFeed, since their social interaction data might be useful in determining how it became so big so quickly, and maybe also determine just how effective those stupid listicles are.
      </p>
      <h1>
       <span>
        <i class="fa fa-terminal">
        </i>
       </span>
       Live Free and Scrape Hard
      </h1>
      <p>
       For example, heres a pair of typical BuzzFeed articles:
      </p>
      <p>
       <img src="/img/buzzscrape/buzzfeed_example.png"/>
      </p>
      <p>
       And heres the corresponding output of
       <a href="https://www.kimonolabs.com/apis/1x3l57k0">
        my Kimono Labs BuzzFeed scraper
       </a>
       for those two articles:
      </p>
      <div>
       <pre>
        <code class="html">
         {
         "title": {
          "text": "Stop Tweeting Instagram Links",
          "href": "http://www.buzzfeed.com/katienotopoulos/stop-tweeting-instagram-links"
        },
        "content": "I CANNOT REMAIN SILENT ON THIS ISSUE ANY LONGER.",
        "author": "Katie Notopoulos",
        "num_responses": "123"
      },
      {
        "title": {
          "text": "28 Things Your Gchat Availability Status Really Means",
          "href": "http://www.buzzfeed.com/katieheaney/28-things-your-gchat-availability-status-really-means"
        },
        "content": "Lets chat.",
        "author": "Katie Heaney",
        "num_responses": "13"
      }
}
        </code>
       </pre>
      </div>
      <p>
       This data format (
       <a href="http://en.wikipedia.org/wiki/JSON">
        JSON
       </a>
       ) can be processed and manipulated by nearly any modern programming language.
      </p>
      <p>
       Each BuzzFeed category page has about 22 articles, but the scraper can also access successive pages to retrieve more articles. This works by finding the URL of the next page by deriving the URL from the Older button if present on that page. Then the scraper can find the Older button on the page after that, and so forth, until all pages on BuzzFeed are scraped.
      </p>
      <p>
       <img src="/img/buzzscrape/buzzfeed_page.png"/>
      </p>
      <p>
       My BuzzFeed scraper, for some reason, only retrieved 10 pages maximum. So I used my QA skills and traced the exact route the scraper took, navigating through all 10 pages by clicking the Older button.
      </p>
      <p>
       What was on Page #10 shocked me. OMG. I could not believe my eyes.
      </p>
      <p>
       <img src="/img/buzzscrape/buzzfeed_disable.png"/>
      </p>
      <h1>
       <span>
        <i class="fa fa-times-circle-o">
        </i>
       </span>
       No Scrape For You
      </h1>
      <p>
       The Older button is
       <em>
        disabled
       </em>
       on page 10?
       <strong>
        WHY?
       </strong>
      </p>
      <p>
       BuzzFeed is a website created in the 21st century that
       <a href="http://www.nytimes.com/2014/08/11/technology/a-move-to-go-beyond-lists-for-content-at-buzzfeed.html?_r=0">
        just raised $50 million
       </a>
       . This is not a peculiar technical limitation due to bad coding or bad infrastructure; this is a deliberate functional aspect of the product.
      </p>
      <p>
       It is my personal mantra that if a startup has a particularly unintuitive UI/UX behavior, its a form of growth hacking that my feeble brain cannot comprehend.
      </p>
      <p>
       Could the reason that BuzzFeed disables access to pages past 10 is that they want to prevent archive browsing, thereby putting more of an emphasis on more recent and more potentially-viral articles? That wouldnt make sense; if a person is so hooked on BuzzFeed articles that they are at Page 10, why stop them? Its still free page views and ad revenue.
      </p>
      <p>
       Its likely that BuzzFeed has statistics on how many users actually visit article pages up to Page 10. Perhaps their data analysts noted hey, only 0.0027% of our visitors actually read up to Page 10, anyone who actually reads that far is three standard deviations away from normal, therefore they must be a web scraper! and recommend punitive action accordingly.
      </p>
      <p>
       I noted earlier that it definitely was not a technical limitation that kept pages greater than 10 from being accessed. If you look at the URLs of the BuzzFeed screenshots above, youll notice a 
       <em>
        p=2
       </em>
        parameter for Page 2 or a 
       <em>
        p=10
       </em>
        parameter for Page 10. What happens if you just change the 10 to a 11?
      </p>
      <p>
       You go to Page 11. And you can go all the way to page
       <em>
        200
       </em>
       in some categories.
      </p>
      <p>
       <img src="/img/buzzscrape/buzzfeed_200.png"/>
      </p>
      <p>
       Incidentally, this is easier and more reliable to implement programmatically than searching for the Older button and extracting the URL.
      </p>
      <p>
       So the disabling of the button will only stop stupid web scrapers. Yes, that makes my BuzzFeed web scraper a stupid web scraper,
       <em>
        but thats not the point!
       </em>
       It just makes the BuzzFeeds motive behind disabling the button at Page 10 even more baffling.
      </p>
      <p>
       What did I do now that my quick-and-dirty BuzzFeed scraper couldnt parse a statistically significant amount of BuzzFeed articles? I did the only logical thing.
      </p>
      <p>
       I spent a weekend learning how to use
       <a href="http://www.crummy.com/software/BeautifulSoup/">
        BeautifulSoup
       </a>
       in Python and parsed BuzzFeed the hard way, while changing the page number in the URL to pagenate through the pages. And I even was able to add new features to the scraper, such as simultaneously scraping the number of Facebook Shares a given BuzzFeed article generates.
      </p>
      <p>
       <img src="/img/buzzscrape/buzzfeed_listicles.png"/>
      </p>
      <p>
       Hey, there
       <em>
        is
       </em>
       a relationship between listicle size and social media engagement!
      </p>
      <div class="row sharing index">
       <span class="social facebook col-xs-4">
        <a data="http://minimaxir.com/2014/09/buzzscrape/" href="http://www.facebook.com/share.php?u=http://minimaxir.com/2014/09/buzzscrape/" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=350,width=600');return false;">
         <i class="fa fa-facebook">
         </i>
         <span class="count hidden-xs">
          -
         </span>
        </a>
       </span>
       <span class="social twitter col-xs-4">
        <a data="http://minimaxir.com/2014/09/buzzscrape/" href="http://twitter.com/home/?status=The Least Effective Method For Blocking Web Scraping of a Website - http://minimaxir.com/2014/09/buzzscrape/ - via @minimaxir" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=350,width=600');return false;">
         <i class="fa fa-twitter">
         </i>
         <span class="count hidden-xs">
          -
         </span>
        </a>
       </span>
       <span class="social linkedin col-xs-4">
        <a data="http://minimaxir.com/2014/09/buzzscrape/" href="http://www.linkedin.com/shareArticle?mini=true&amp;title=&amp;url=http://minimaxir.com/2014/09/buzzscrape/" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=600');return false;">
         <i class="fa fa-linkedin">
         </i>
         <span class="count hidden-xs">
          -
         </span>
        </a>
       </span>
      </div>
     </div>
    </div>
   </div>
  </article>
  <div class="home-landing her-row">
   <div class="container">
    <div class="row">
     <div class="col-md-offset-3 col-md-2">
      <h4>
       about me
      </h4>
      <img alt="Stop mousing over me! :(" class="img-circle img-responsive hidden-xs hidden-sm" src="/images/max-prof-pic-200.jpg"/>
     </div>
     <div class="col-md-4" id="about-me">
      <p>
       Max Woolf is a Software QA Engineer living and working in the San Francisco Bay Area for over 2 years. He graduated from Carnegie Mellon University in 2012 with a degree in Business Administration, concentrating in Computing and Information Technology.
      </p>
      <p>
       In his spare time, Max uses
       <a href="https://www.python.org/">
        Python
       </a>
       to gather data from public APIs and
       <a href="http://ggplot2.org/">
        ggplot2
       </a>
       to make pretty charts from that data. Max also comments on technology blogs rather frequently.
      </p>
      <p>
       You can learn more about Max
       <a href="http://minimaxir.com/about">
        here
       </a>
       .
      </p>
      <div class="social-icon-list">
       <a href="https://facebook.com/max.woolf" target="_blank" title="Facebook">
        <i class="fa fa-facebook-square">
        </i>
       </a>
       <a href="https://twitter.com/minimaxir" target="_blank" title="Twitter">
        <i class="fa fa-twitter-square">
        </i>
       </a>
       <a href="https://linkedin.com/in/minimaxir" target="_blank" title="LinkedIn">
        <i class="fa fa-linkedin-square">
        </i>
       </a>
       <a href="https://github.com/minimaxir" target="_blank" title="GitHub">
        <i class="fa fa-github-square">
        </i>
       </a>
       <a href="/cdn-cgi/l/email-protection#a5c8c4dde5c8cccbccc8c4ddccd78bc6cac8" title="E-Mail">
        <i class="fa fa-envelope-square">
        </i>
       </a>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="container">
   <div class="row">
    <div class="col-md-8 col-md-offset-2">
     <hr class="divider-short"/>
     <section>
      <div aria-live="polite" id="disqus_thread">
       <script type="text/javascript">
        var disqus_shortname = 'minimaxir';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://minimaxir.com/2014/09/buzzscrape/';
        var disqus_url = 'http://minimaxir.com/2014/09/buzzscrape/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
       </script>
      </div>
     </section>
    </div>
   </div>
  </div>
  <hr class="divider-short"/>
  <div class="archive-link">
   <div class="container">
    <div class="row">
     <div class="col-md-8 col-md-offset-2">
      <a class="pull-left" href="/2014/09/one-star-five-stars/" title="Previous Post: The Statistical Difference Between 1-Star and 5-Star Reviews on Yelp">
       <i class="fa fa-angle-double-left">
       </i>
       The Statistical Difference Between 1-Star and 5-Star Reviews on Yelp
      </a>
      <a class="pull-right" href="/2014/10/hn-comments-about-comments/" title="Next Post: The Quality, Popularity, and Negativity of 5.6 Million Hacker News Comments">
       The Quality, Popularity, and Negativity of 5.6 Million Hacker News Comments
       <i class="fa fa-angle-double-right">
       </i>
      </a>
     </div>
    </div>
   </div>
  </div>
  <footer class="her-row" id="footer">
   <div class="container">
    <div class="row">
     <div class="col-md-1">
      <a href="/">
       <h4>
        Home
       </h4>
      </a>
     </div>
     <div class="pull-right">
      <h4>
       Powered by
       <a href="http://octopress.org/">
        Octopress
       </a>
       . Original theme by
       <a href="http://AdrianArtiles.com">
        Adrian Artiles
       </a>
       , heavily
       <a href="https://github.com/minimaxir/MediumFox">
        modified
       </a>
       by Max Woolf
      </h4>
     </div>
    </div>
   </div>
  </footer>
  <script type="text/javascript">
   /* &lt;![CDATA[ */
(function(){try{var s,a,i,j,r,c,l=document.getElementsByTagName("a"),t=document.createElement("textarea");for(i=0;l.length-i;i++){try{a=l[i].getAttribute("href");if(a&amp;&amp;a.indexOf("/cdn-cgi/l/email-protection") &gt; -1  &amp;&amp; (a.length &gt; 28)){s='';j=27+ 1 + a.indexOf("/cdn-cgi/l/email-protection");if (a.length &gt; j) {r=parseInt(a.substr(j,2),16);for(j+=2;a.length&gt;j&amp;&amp;a.substr(j,1)!='X';j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}j+=1;s+=a.substr(j,a.length-j);}t.innerHTML=s.replace(/&lt;/g,"&lt;").replace(/&gt;/g,"&gt;");l[i].setAttribute("href","mailto:"+t.value);}}catch(e){}}}catch(e){}})();
/* ]]&gt; */
  </script>
 </body>
</html>