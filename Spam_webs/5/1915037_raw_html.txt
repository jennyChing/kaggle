<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head profile="http://gmpg.org/xfn/1">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <link href="http://pl.atyp.us/wordpress/wp-content/themes/zenlite/style.css" media="screen" rel="stylesheet" type="text/css"/>
  <link href="http://pl.atyp.us/wordpress/xmlrpc.php" rel="pingback"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2013/04/" rel="archives" title="April 2013"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2013/03/" rel="archives" title="March 2013"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2013/01/" rel="archives" title="January 2013"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/12/" rel="archives" title="December 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/11/" rel="archives" title="November 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/10/" rel="archives" title="October 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/09/" rel="archives" title="September 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/08/" rel="archives" title="August 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/07/" rel="archives" title="July 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/06/" rel="archives" title="June 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/04/" rel="archives" title="April 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/03/" rel="archives" title="March 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2012/01/" rel="archives" title="January 2012"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/12/" rel="archives" title="December 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/11/" rel="archives" title="November 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/10/" rel="archives" title="October 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/09/" rel="archives" title="September 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/08/" rel="archives" title="August 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/07/" rel="archives" title="July 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/06/" rel="archives" title="June 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/05/" rel="archives" title="May 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/04/" rel="archives" title="April 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/03/" rel="archives" title="March 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/02/" rel="archives" title="February 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2011/01/" rel="archives" title="January 2011"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/12/" rel="archives" title="December 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/10/" rel="archives" title="October 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/09/" rel="archives" title="September 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/08/" rel="archives" title="August 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/07/" rel="archives" title="July 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/06/" rel="archives" title="June 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/05/" rel="archives" title="May 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/04/" rel="archives" title="April 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/03/" rel="archives" title="March 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/02/" rel="archives" title="February 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2010/01/" rel="archives" title="January 2010"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/12/" rel="archives" title="December 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/11/" rel="archives" title="November 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/10/" rel="archives" title="October 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/09/" rel="archives" title="September 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/08/" rel="archives" title="August 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/07/" rel="archives" title="July 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/06/" rel="archives" title="June 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/05/" rel="archives" title="May 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/04/" rel="archives" title="April 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/03/" rel="archives" title="March 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/02/" rel="archives" title="February 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2009/01/" rel="archives" title="January 2009"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/12/" rel="archives" title="December 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/11/" rel="archives" title="November 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/10/" rel="archives" title="October 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/09/" rel="archives" title="September 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/08/" rel="archives" title="August 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/07/" rel="archives" title="July 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/06/" rel="archives" title="June 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/05/" rel="archives" title="May 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/04/" rel="archives" title="April 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/03/" rel="archives" title="March 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/02/" rel="archives" title="February 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2008/01/" rel="archives" title="January 2008"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/12/" rel="archives" title="December 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/11/" rel="archives" title="November 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/10/" rel="archives" title="October 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/09/" rel="archives" title="September 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/08/" rel="archives" title="August 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/07/" rel="archives" title="July 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/06/" rel="archives" title="June 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/05/" rel="archives" title="May 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/04/" rel="archives" title="April 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/03/" rel="archives" title="March 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/02/" rel="archives" title="February 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2007/01/" rel="archives" title="January 2007"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/12/" rel="archives" title="December 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/11/" rel="archives" title="November 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/10/" rel="archives" title="October 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/09/" rel="archives" title="September 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/08/" rel="archives" title="August 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/07/" rel="archives" title="July 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/06/" rel="archives" title="June 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/05/" rel="archives" title="May 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/04/" rel="archives" title="April 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/03/" rel="archives" title="March 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/02/" rel="archives" title="February 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2006/01/" rel="archives" title="January 2006"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/12/" rel="archives" title="December 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/11/" rel="archives" title="November 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/10/" rel="archives" title="October 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/09/" rel="archives" title="September 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/08/" rel="archives" title="August 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/07/" rel="archives" title="July 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/06/" rel="archives" title="June 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/05/" rel="archives" title="May 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/04/" rel="archives" title="April 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/03/" rel="archives" title="March 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/02/" rel="archives" title="February 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2005/01/" rel="archives" title="January 2005"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/12/" rel="archives" title="December 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/11/" rel="archives" title="November 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/10/" rel="archives" title="October 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/09/" rel="archives" title="September 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/08/" rel="archives" title="August 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/07/" rel="archives" title="July 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/06/" rel="archives" title="June 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/05/" rel="archives" title="May 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/04/" rel="archives" title="April 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/03/" rel="archives" title="March 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/02/" rel="archives" title="February 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2004/01/" rel="archives" title="January 2004"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/12/" rel="archives" title="December 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/11/" rel="archives" title="November 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/10/" rel="archives" title="October 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/09/" rel="archives" title="September 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/08/" rel="archives" title="August 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/07/" rel="archives" title="July 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/06/" rel="archives" title="June 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/05/" rel="archives" title="May 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/04/" rel="archives" title="April 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/03/" rel="archives" title="March 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/02/" rel="archives" title="February 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2003/01/" rel="archives" title="January 2003"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/12/" rel="archives" title="December 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/11/" rel="archives" title="November 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/10/" rel="archives" title="October 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/09/" rel="archives" title="September 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/08/" rel="archives" title="August 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/07/" rel="archives" title="July 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/06/" rel="archives" title="June 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/05/" rel="archives" title="May 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/04/" rel="archives" title="April 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/03/" rel="archives" title="March 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/02/" rel="archives" title="February 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2002/01/" rel="archives" title="January 2002"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/12/" rel="archives" title="December 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/11/" rel="archives" title="November 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/10/" rel="archives" title="October 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/09/" rel="archives" title="September 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/08/" rel="archives" title="August 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/07/" rel="archives" title="July 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/05/" rel="archives" title="May 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/03/" rel="archives" title="March 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2001/02/" rel="archives" title="February 2001"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2000/12/" rel="archives" title="December 2000"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2000/11/" rel="archives" title="November 2000"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2000/10/" rel="archives" title="October 2000"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2000/09/" rel="archives" title="September 2000"/>
  <link href="http://pl.atyp.us/wordpress/index.php/2000/08/" rel="archives" title="August 2000"/>
  <title>
   Canned Platypus
  </title>
  <link href="http://pl.atyp.us/wordpress/index.php/feed/" rel="alternate" title="Canned Platypus  Feed" type="application/rss+xml"/>
  <link href="http://pl.atyp.us/wordpress/index.php/comments/feed/" rel="alternate" title="Canned Platypus  Comments Feed" type="application/rss+xml"/>
  <link href="http://pl.atyp.us/wordpress/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003" id="jetpack-widgets-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="http://pl.atyp.us/wordpress/wp-content/themes/zenlite/print.css?ver=3.5" id="print-style-css" media="print" rel="stylesheet" type="text/css"/>
  <link href="http://pl.atyp.us/wordpress/wp-content/plugins/wp-syntax/wp-syntax.css?ver=3.5" id="wp-syntax-css-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="http://pl.atyp.us/wordpress/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
  <link href="http://pl.atyp.us/wordpress/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
  <link href="http://wp.me/dd0h" rel="shortlink"/>
  <!-- Jetpack Open Graph Tags -->
  <meta content="blog" property="og:type"/>
  <meta content="Canned Platypus" property="og:title"/>
  <meta content="http://pl.atyp.us/wordpress/index.php/2012/12/limiting-bash-script-run-time/" property="og:url"/>
  <meta content="Lean Mean Blogging Machine" property="og:description"/>
  <meta content="Canned Platypus" property="og:site_name"/>
  <style media="screen,print" type="text/css">
   #header-image {background-image:url(http://pl.atyp.us/wordpress/wp-content/themes/zenlite/images/banner.jpg);}#header h1,#header h1 a {color:#606060;}
  </style>
 </head>
 <body class="home blog unknown" id="top">
  <div id="wrapper">
   <ul class="jumplinks">
    <li>
     <a href="#content">
      Jump to Main Content
     </a>
    </li>
    <li>
     <a href="#footer">
      Jump to Footer
     </a>
    </li>
   </ul>
   <div id="header">
    <h1>
     <a href="http://pl.atyp.us/" title="Home">
      Canned Platypus
     </a>
     <small>
      Lean Mean Blogging Machine
     </small>
    </h1>
   </div>
   <div id="header-image">
   </div>
   <div class="navbar">
    <div class="top-menu">
     <ul>
      <li class="current_page_item">
       <a href="http://pl.atyp.us/" title="Home">
        Home
       </a>
      </li>
      <li class="page_item page-item-1473">
       <a href="http://pl.atyp.us/wordpress/index.php/history-of-mpfs/">
        History of MPFS
       </a>
      </li>
      <li class="page_item page-item-1277">
       <a href="http://pl.atyp.us/wordpress/index.php/1277-2/">
        Server Design
       </a>
      </li>
      <li class="page_item page-item-1278">
       <a href="http://pl.atyp.us/wordpress/index.php/about-jeff/">
        About Jeff
       </a>
      </li>
     </ul>
    </div>
   </div>
   <div id="content">
    <div class="post-3713 post type-post status-publish format-standard hentry category-internet category-site" id="post-3713">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/04/using-wordpress-to-generate-static-pages/" rel="bookmark" title="Permalink to Using WordPress to Generate Static Pages">
       Using WordPress to Generate Static Pages
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       17 April, 2013 12:46 pm
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       As you all know by now, Ive changed the way I manage the content for this site.  I now write posts in WordPress, then turn the results  after all of the database access, theme application, etc.  into static pages which are then served to you.  One of my main reasons was increased security, which has been a problem with WordPress for years but which has generated a lot of interest recently because of the latest botnet.  Therefore, Ill describe what Ive done so that maybe others can try something similar and maybe even improve on my recipe.
      </p>
      <p>
       In order to understand whats going on here, you have to know a bit about how a WordPress site is structured.  It might surprise you to know that each post can be accessed no fewer than six different ways.  Each post by itself is available either by its name or by its number.  Post are combined on the main page, per-month lists, and per-category lists.  Lastly, the category lists are also reachable either by name or by number.  In fact, if a post is in multiple categories it will appear in more than six places.  Its important to preserve all of this structure, or else links will break.  This is why I didnt use a WordPress plugin to generate the static content, by the way.  Even in the most cursory testing, every one I tried failed to maintain this structure properly.  Most of the work I had to do was related to getting that structure
       <b>
        just right
       </b>
       , but first you have to generate all of the content so Ill start there.
      </p>
      <p>
       The basic idea for fetching the content is to crawl your own site with
       <a href="http://www.gnu.org/software/wget/">
        wget
       </a>
       .  Start with a normally working WordPress installation.  Make sure youve set your WordPress options to use a name-based (rather than number-based) URL structure, and turned comments off on all posts.  Then issue something like the following command.
      </p>
      <div class="wp_syntax">
       <table>
        <tr>
         <td class="code">
          <pre class="bash" style="font-family:monospace;">
           <span style="color: #c20cb9; font-weight: bold;">
            wget
           </span>
           <span style="color: #660033;">
            -r
           </span>
           <span style="color: #660033;">
            -l
           </span>
           inf
           <span style="color: #660033;">
            -p
           </span>
           <span style="color: #660033;">
            -nc
           </span>
           <span style="color: #660033;">
            -D
           </span>
           atyp.us http:
           <span style="color: #000000; font-weight: bold;">
            //
           </span>
           pl.atyp.us
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           wordpress
          </pre>
         </td>
        </tr>
       </table>
      </div>
      <p>
       This might take a while.  For me its about twenty minutes, but this is an unusually old blog.  Also, you dont need to do this all the time.  Usually, you should be able to regenerate the post itself plus its global/month/category timelines, but not touch other months or categories.  At this point youll have a very simple static version of your site, good enough as an archive or something, but youll need to fix it up a bit before you can really use it to replace the original.
      </p>
      <p>
       The first fix has to do with accessing the same page by name or by number.  One of my goals was to avoid rewriting the actual contents of the generated pages.  I dont mind copying, adding links, adding web-server rewrite rules, and so on, but rewriting content only fixes things for me.  Any links from outside would still be broken.  My solution here has two parts.  The first is a script, which finds the name-to-number mapping inside each article and uses that information to create a directory full of symbolic links.  Here it is, but be aware that I plan to improve it for reasons Ill get to in a moment.
      </p>
      <div class="wp_syntax">
       <table>
        <tr>
         <td class="code">
          <pre class="bash" style="font-family:monospace;">
           <span style="color: #666666; font-style: italic;">
            #!/bin/bash
           </span>
           <span style="color: #000000; font-weight: bold;">
            function
           </span>
           make_one
           <span style="color: #7a0874; font-weight: bold;">
            {
           </span>
           <span style="color: #666666; font-style: italic;">
            # Canned Platypus posts
           </span>
           <span style="color: #007800;">
            p_expr
           </span>
           =
           <span style="color: #ff0000;">
            'single single-post postid-\([0-9]*\)'
           </span>
           <span style="color: #007800;">
            p_id
           </span>
           =$
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            sed
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "/.*
            <span style="color: #007800;">
             $p_expr
            </span>
            .*/s//\\1/p"
           </span>
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           <span style="color: #007800;">
            $1
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #000000; font-weight: bold;">
            if
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "
            <span style="color: #007800;">
             $p_id
            </span>
            "
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           ;
           <span style="color: #000000; font-weight: bold;">
            then
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            ln
           </span>
           <span style="color: #660033;">
            -s
           </span>
           <span style="color: #ff0000;">
            "$1"
           </span>
           <span style="color: #ff0000;">
            "post-
            <span style="color: #007800;">
             $p_id
            </span>
            .html"
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            return
           </span>
           <span style="color: #000000; font-weight: bold;">
            fi
           </span>
           <span style="color: #666666; font-style: italic;">
            # HekaFS posts
           </span>
           <span style="color: #007800;">
            p_expr
           </span>
           =
           <span style="color: #ff0000;">
            ' name=.comment_post_ID. value=.\([0-9]*\). '
           </span>
           <span style="color: #007800;">
            p_id
           </span>
           =$
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            sed
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "/.*
            <span style="color: #007800;">
             $p_expr
            </span>
            .*/s//\\1/p"
           </span>
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           <span style="color: #007800;">
            $1
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #000000; font-weight: bold;">
            if
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "
            <span style="color: #007800;">
             $p_id
            </span>
            "
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           ;
           <span style="color: #000000; font-weight: bold;">
            then
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            ln
           </span>
           <span style="color: #660033;">
            -s
           </span>
           <span style="color: #ff0000;">
            "$1"
           </span>
           <span style="color: #ff0000;">
            "post-
            <span style="color: #007800;">
             $p_id
            </span>
            .html"
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            return
           </span>
           <span style="color: #000000; font-weight: bold;">
            fi
           </span>
           <span style="color: #007800;">
            c_expr
           </span>
           =
           <span style="color: #ff0000;">
            'archive category category-[^ ]* category-\([0-9]*\)'
           </span>
           <span style="color: #007800;">
            c_id
           </span>
           =$
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            sed
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "/.*
            <span style="color: #007800;">
             $c_expr
            </span>
            .*/s//\\1/p"
           </span>
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           <span style="color: #007800;">
            $1
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #000000; font-weight: bold;">
            if
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "
            <span style="color: #007800;">
             $c_id
            </span>
            "
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           ;
           <span style="color: #000000; font-weight: bold;">
            then
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            ln
           </span>
           <span style="color: #660033;">
            -s
           </span>
           <span style="color: #ff0000;">
            "$1"
           </span>
           <span style="color: #ff0000;">
            "cat-
            <span style="color: #007800;">
             $c_id
            </span>
            .html"
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            return
           </span>
           <span style="color: #000000; font-weight: bold;">
            fi
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            }
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            find
           </span>
           <span style="color: #007800;">
            $1
           </span>
           <span style="color: #660033;">
            -name
           </span>
           index.html
           <span style="color: #000000; font-weight: bold;">
            |
           </span>
           <span style="color: #000000; font-weight: bold;">
            while
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            read
           </span>
           f;
           <span style="color: #000000; font-weight: bold;">
            do
           </span>
           make_one
           <span style="color: #007800;">
            $f
           </span>
           <span style="color: #000000; font-weight: bold;">
            done
           </span>
          </pre>
         </td>
        </tr>
       </table>
      </div>
      <p>
       Notice how I had to handle the two blogs differently?  It turns out that this information is theme-specific, and some themes might not include it at all.  What I really should do is get this information from the database (correlate post_title with ID in wp_posts), but it works for now.  The second part is a web-server rewrite rule, to redirect CGI requests for an article or category by number to the appropriate link.  Heres what Im using for
       <a href="http://www.hiawatha-webserver.org/">
        Hiawatha
       </a>
       right now.
      </p>
      <pre>
       UrlToolkit {
    ToolkitID = cp-wordpress
    RequestURI isfile Return
    # Handle numeric post/category links.
    Match /wordpress/\?p=(.*) Rewrite /wordpress/links/post-$1.html Return
    Match /wordpress/\?cat=(.*) Rewrite /wordpress/links/cat-$1.html Return
    Call static-wordpress
}
      </pre>
      <p>
       What ends up happening here is that Hiawatha rewrites the CGI URL so that it points to the link I just created, which in turn points to the actual article.  The "static-wordpress" URL toolkit handles another dynamic-link issue, this time related to JavaScript and CSS files.
      </p>
      <pre>
       UrlToolkit {
    ToolkitID = static-wordpress
    # Support multiple versions of CSS and JS files, with the right extensions.
    Match (.*)\.css\?(.*) Rewrite $1_$2.css Return
    Match (.*)\.js\?(.*) Rewrite $1_$2.js Return
    # Anything else gets the arguments lopped off.
    Match (.*)\?(.*) Rewrite $1 Return
}
      </pre>
      <p>
       I had to do this because it turned out that Firefox would complain about CSS/JS files not having the right type, because Hiawatha would get the wrong type unless the file ended in .js or .css respectively.  For example, widgets.css?ver=20121003 wouldn't work.  This rule rewrites it to widgets_ver=20121003.css which does work.  To go with that, I also have a second renaming script.
      </p>
      <div class="wp_syntax">
       <table>
        <tr>
         <td class="code">
          <pre class="bash" style="font-family:monospace;">
           <span style="color: #666666; font-style: italic;">
            #!/bin/bash
           </span>
           <span style="color: #007800;">
            workdir
           </span>
           =$
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            mktemp
           </span>
           -d
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            trap
           </span>
           <span style="color: #ff0000;">
            "rm -rf
            <span style="color: #007800;">
             $workdir
            </span>
            "
           </span>
           EXIT
           <span style="color: #c20cb9; font-weight: bold;">
            find
           </span>
           <span style="color: #007800;">
            $1
           </span>
           <span style="color: #660033;">
            -name
           </span>
           <span style="color: #ff0000;">
            '*\?*'
           </span>
           <span style="color: #000000; font-weight: bold;">
            |
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            grep
           </span>
           <span style="color: #660033;">
            -Ev
           </span>
           <span style="color: #ff0000;">
            '&amp;"'
           </span>
           <span style="color: #000000; font-weight: bold;">
            &gt;
           </span>
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           all
           <span style="color: #666666; font-style: italic;">
            # Use edit-in-place instead of sed to avoid quoting nastiness.
           </span>
           <span style="color: #666666; font-style: italic;">
            # Handle CSS files.
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            grep
           </span>
           <span style="color: #ff0000;">
            '\.css'
           </span>
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           all
           <span style="color: #000000; font-weight: bold;">
            &gt;
           </span>
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           css
           <span style="color: #c20cb9; font-weight: bold;">
            ed
           </span>
           -
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           css
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           EOF
g
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           ^?
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           <span style="color: #000000; font-weight: bold;">
            *
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           \.css?\
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           ^?
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           <span style="color: #000000; font-weight: bold;">
            *
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           s
           <span style="color: #000000; font-weight: bold;">
            //
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            mv
           </span>
           <span style="color: #ff0000;">
            '\1.css?\2'
           </span>
           <span style="color: #ff0000;">
            '\1_\2.css'
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            w
           </span>
           q
EOF
           <span style="color: #666666; font-style: italic;">
            # Handle JavaScript files.
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            grep
           </span>
           <span style="color: #ff0000;">
            '\.js'
           </span>
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           all
           <span style="color: #000000; font-weight: bold;">
            &gt;
           </span>
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           js
           <span style="color: #c20cb9; font-weight: bold;">
            ed
           </span>
           -
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           js
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           EOF
g
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           ^?
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           <span style="color: #000000; font-weight: bold;">
            *
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           \.js?\
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           ^?
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           <span style="color: #000000; font-weight: bold;">
            *
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           s
           <span style="color: #000000; font-weight: bold;">
            //
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            mv
           </span>
           <span style="color: #ff0000;">
            '\1.js?\2'
           </span>
           <span style="color: #ff0000;">
            '\1_\2.js'
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            w
           </span>
           q
EOF
           <span style="color: #666666; font-style: italic;">
            # Handle everything else.
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            grep
           </span>
           <span style="color: #660033;">
            -Ev
           </span>
           <span style="color: #ff0000;">
            '\.css|\.js'
           </span>
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           all
           <span style="color: #000000; font-weight: bold;">
            &gt;
           </span>
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           gen
           <span style="color: #c20cb9; font-weight: bold;">
            ed
           </span>
           -
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           gen
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           <span style="color: #000000; font-weight: bold;">
            &lt;
           </span>
           EOF
           <span style="color: #666666; font-style: italic;">
            #g/\([^?]*\)?\([^?]*\)/s//mv '\1?\2' '\1_\2.html'/
           </span>
           g
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           ^?
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           <span style="color: #000000; font-weight: bold;">
            *
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           ?\
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           ^?
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           <span style="color: #000000; font-weight: bold;">
            *
           </span>
           \
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           s
           <span style="color: #000000; font-weight: bold;">
            //
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            rm
           </span>
           <span style="color: #ff0000;">
            '\1?\2'
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            w
           </span>
           q
EOF

.
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           js
.
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           css
.
           <span style="color: #007800;">
            $workdir
           </span>
           <span style="color: #000000; font-weight: bold;">
            /
           </span>
           gen
          </pre>
         </td>
        </tr>
       </table>
      </div>
      <p>
       Note that the script also deletes other (non-CSS non-JS) files with question marks, since wget will leave some of those lying around and (at least in my case) they're invariably useless.  Similarly, the static-wordpress rewrite rule just deletes the question mark and anything after it.
      </p>
      <p>
       At this point you should have a properly fixed-up blog structure, which you can push to your real server and serve as static files (assuming you have the right configuration).  What's missing?  Well, comments for one.  I still vaguely plan to add an external comment service like Disqus or Livefyre, but to be honest I'm not in that much of a hurry because - while I do appreciate them - comments have never been a major part of the site.  The other thing missing is search, and I'm still pondering what to do about that.  Other than that, as you must be able to see if you can read this, the process described above seems to work pretty well.  My web server is barely using any CPU or memory to serve up two sites, and my "attack surface" has been drastically reduced by not running MySQL or PHP at all.
      </p>
      <p>
       P.S. Hiawatha rocks.  It's as easy to set up as nginx, it has at least as good a reputation for performance, and resource usage has been very low.  I'd guess I can serve about 60x as much traffic as before, even without flooding protection - and that's the best thing about Hiawatha.  I can set a per-user connection limit (including not just truly simultaneous connections but any occuring within N seconds of each other) and ban a client temporarily if that limit is exceeded.  Even better, I can temporarily ban any client that makes more than M requests in N seconds.  I've already seen this drive off several malware attempts and overly aggressive bots, while well behaved bots and normal users are unaffected.  This probably increases my load tolerance by up to another order of magnitude.  This might not be the fastest site of any kind, but for a site that has (almost) all of the power of WordPress behind it I'd say it's doing pretty well.
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/04/using-wordpress-to-generate-static-pages/#more-3713">
        Continue reading Using WordPress to Generate Static Pages
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/internet/" rel="category tag" title="View all posts in internet">
          internet
         </a>
         ,
        </li>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/site/" rel="category tag" title="View all posts in site">
          site
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3707 post type-post status-publish format-standard hentry category-site" id="post-3707">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/04/static-site-is-live/" rel="bookmark" title="Permalink to Static Site is LIVE">
       Static Site is LIVE
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       15 April, 2013 3:22 pm
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       If youre seeing this, its because youre on the new site, seeing static files served by Hiawatha instead of dynamic files served by nginx.  If you notice anything else thats different,
       <a href="mailto:jeff@pl.atyp.us">
        let me know
       </a>
       .
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/04/static-site-is-live/#more-3707">
        Continue reading Static Site is LIVE
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="comment-link">
       <a class="postcomment" href="http://pl.atyp.us/wordpress/index.php/2013/04/static-site-is-live/#respond" title="Comment on Static Site is LIVE">
        Comment on Static Site is LIVE
       </a>
       
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/site/" rel="category tag" title="View all posts in site">
          site
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3704 post type-post status-publish format-standard hentry category-site" id="post-3704">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/04/static-site-update/" rel="bookmark" title="Permalink to Static Site Update">
       Static Site Update
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       12 April, 2013 9:34 am
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       As I mentioned too long ago, Ive been planning to migrate this site to a different method of operation, for both performance and security reasons. Specifically, my approach allows me to add posts, change themes, etc. with all the power of WordPress and its community at hand, but then serve up the results as static pages. I have most of that working on my test site, with only two things not working: by-category listings (by-date listings work) and comments. I can actually do without comments for a while until I find an external solution that I like, but I feel like I do need to fix the by-category listings before I switch over. For the technically minded, heres a rough outline of how Im doing this.
      </p>
      <ol>
       <li>
        I have two Hiawatha configs  one for dynamic pages and one for static. These are currently on the same machine, but the plan is to run them on separate machines when Im done.
       </li>
       <li>
        For editing etc. I just use the dynamic config and everything works just as it has for years.
       </li>
       <li>
        When Im done editing, wget -r -l inf -p -nc -D atyp.us gets me a static version of the site.
       </li>
       <li>
        I also have a script to rename some files and deal with a few other site-specific issues.
       </li>
       <li>
        When Im all done, I switch over to my static Hiawatha config, which has a couple of URL-rewrite rules to work around the CGI-oriented URLs that WordPress produces.
       </li>
       <li>
        The live site is running no PHP or MySQL, just Hiawatha serving up static files.
       </li>
      </ol>
      <p>
       The key point is that this all looks exactly the same as the current site running on a standard setup, even though its all very different behind the scenes. When Im done, Ill more fully document everything and put up a how-to for other WordPress users to follow.
      </p>
      <p>
       EDIT: Since someone else is sure to ask, I will. Why not just switch to a built-for-static system like Octopress? Heres why.
      </p>
      <p>
       Id still have to convert the existing content. As long as I automate that process, it doesnt matter much whether I do it once or many times. Even rebuilding the entire static site from scratch, which Ive done a lot more while debugging than Id ever do in normal operation, doesnt take long enough to bother me. Selective rebuilds would be easy, and even faster.
      </p>
      <ul>
       <li>
        I like the WordPress tools that I use to create, categorize, and present content. When it comes to plugins and themes, even the most popular/sophisticated static systems seem downright primitive by comparison, so Id be back to doing more stuff by hand.
       </li>
       <li>
        Im very conservative about breaking links, and none of the static systems are fully compatible with the URL structure that Ive been using for years.
       </li>
      </ul>
      <p>
       My only gripes with WordPress are security and performance. Sure, I could make a more drastic change, and the pages would be a bit simpler/smaller if I did (even the simplest WordPress themes generate some horrendous HTML), but Id need a better reason than that.
      </p>
      <p>
       EDIT 2: Now that the static site is live, I no longer even run PHP/MySQL on the real server.  This edit, and the next post, were added by running a copy of the site on my desktop at home and then copying only the output to the cloud.
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/04/static-site-update/#more-3704">
        Continue reading Static Site Update
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/site/" rel="category tag" title="View all posts in site">
          site
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3697 post type-post status-publish format-standard hentry category-design" id="post-3697">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/04/server-design-in-serbo-croatian/" rel="bookmark" title="Permalink to Server Design in Serbo-Croatian">
       Server Design in Serbo-Croatian
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       11 April, 2013 9:47 am
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       Ten and a half years ago, I wrote an article on
       <a href="/wordpress/index.php/1277-2/">
        server design
       </a>
       .  Considering that I probably worked harder on that than on anything Ive posted since, Im pleased that it has continued to be one of the most popular articles on the site despite its increasing age.  Its even more gratifying to know that some people are including it in their academic course materials  maybe half a dozen instances that I know of.  Now, thanks to Anja Skrba, it has been
       <a href="http://science.webhostinggeeks.com/arhitektura-servera-visokih-performansi">
        translated into Serbo-Croatian
       </a>
       .  Im totally unqualified to comment on the accuracy of the translation, but its a commendable contribution to the community nonetheless.  Feedback on either the content or the translation would surely be appreciated by both of us.  Thank you, Anja!
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/04/server-design-in-serbo-croatian/#more-3697">
        Continue reading Server Design in Serbo-Croatian
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/tech/design/" rel="category tag" title="View all posts in design">
          design
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3695 post type-post status-publish format-standard hentry category-society category-work" id="post-3695">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/04/how-not-to-collaborate/" rel="bookmark" title="Permalink to How (Not) To Collaborate">
       How (Not) To Collaborate
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       1 April, 2013 8:36 am
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       Collaboration is one of the most essential human skills, not just in work but in life generally, and yet its poorly taught (if at all) and a lot of people are bad at it.  Programmers are especially bad at it, for a whole variety of reasons, and this last week has been like a crash course in just how bad.  Collaboration means exchanging ideas.  Heres how I have seen people fail to participate in such exchanges recently.
      </p>
      <ul>
       <li>
        Passive ignoring.  No response at all.
       </li>
       <li>
        Active ignoring.  Nod, smile, put it on a list to die.  This is what a lot of people do when theyve been told they need to work on their collaboration skills, and want to create an appearance of collaboration without actually working at it.
       </li>
       <li>
        Rejection.  All variants of no and what a terrible idea and my ideas better fall into this category.
       </li>
       <li>
        Its my idea now.  The obvious version is just presenting the idea unchanged, as ones own.  The sneakier alternative is to tweak it a little, or re-implement it, so its not obvious its the same, but still present derivative work without credit to the original.
       </li>
       <li>
        Its your problem now.  This is probably the most insidious of all.  It presents an appearance of accession, but in fact no exchange of ideas has occurred.  Just as importantly, the person doing this has presumed unilateral authority to decide whose problem it is, creating an unequal relationship.
       </li>
      </ul>
      <p>
       The key to
       <b>
        real
       </b>
       collaboration is not only to accept a single idea itself, but to facilitate further exchange.  Here are some ways to make that work.
      </p>
      <ul>
       <li>
        Accept the context.  Respect the priority that the other person gives to the idea along with the idea itself.  , Assume some responsibility for facilitating it.  Dont force people to remind, re-submit or nag before youll really consider what theyre suggesting.  Both active and passive ignoring are wrong because they violate this principle.
       </li>
       <li>
        Dont attach strings.  Dont make people jump through unnecessary hoops, or demand that they assume responsibility for more than the subject of their idea, just to have their idea considered.  Obviously, your problem now and its cousin you touch it you own it violate this rule.  Ive left more jobs because of this tendency, which leaves people shackled to responsibilities they never asked for, than for any other reason.  I dont think Im the only one.
       </li>
       <li>
        Be a teacher, not a judge.  Every opportunity for rejection is also an opportunity for teaching.  If theres something truly wrong with an idea, you should be able to explain the problem in such a way that everyone benefits.  You owe it to your team or your community or even your friends and family to develop this skill.
       </li>
       <li>
        Give credit.  It will come back to you.  People rarely give freely to notorious thieves and hoarders.
       </li>
      </ul>
      <p>
       Note that Im not making any appeals to morality here.  Im not saying its
       <b>
        right
       </b>
       to make collaboration easier.  Im saying its
       <b>
        practical
       </b>
       .  When you make collaboration with you easy and pleasant, people want to do it more.  That frees you to work on the problems that most interest you, and share credit for a successful project instead of getting no credit at all for a failed or stagnant one.  When people try to do you a favor, try to accept graciously.
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/04/how-not-to-collaborate/#more-3695">
        Continue reading How (Not) To Collaborate
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/society/" rel="category tag" title="View all posts in society">
          society
         </a>
         ,
        </li>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/tech/work/" rel="category tag" title="View all posts in work">
          work
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3693 post type-post status-publish format-standard hentry category-cloudfs" id="post-3693">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/03/is-eventual-consistency-useful/" rel="bookmark" title="Permalink to Is Eventual Consistency Useful?">
       Is Eventual Consistency Useful?
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       18 March, 2013 9:39 am
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       Every once in a while, somebody comes up with the new idea that eventually consistent systems (or AP in CAP terminology) are useless.  Of course, its not really new at all; the SQL RDBMS neanderthals have been making this claim-without-proof ever since NoSQL databases brought other models back into the spotlight.  In the usual formulation, banks must have immediate consistency and would never rely on resolving conflicts after the fact . . . except that
       <a href="http://www.infoq.com/articles/cap-twelve-years-later-how-the-rules-have-changed">
        they do
       </a>
       and have for centuries.
      </p>
      <p>
       Most recently but least notably, this same line of non-reasoning has been regurgitated by  Emin Gn Sirer in
       <a href="http://hackingdistributed.com/2013/03/07/partition-tolerance-myth/">
        The NoSQL Partition Tolerance Myth
       </a>
       and
       <a href="http://hackingdistributed.com/2013/03/08/you-might-be-a-data-radical/">
        You Might Be A Data Radical
       </a>
       .  Im not sure you can be a radical by repeating a decades-old meme, but in amongst the anti-NoSQL trolling theres just enough of a nugget of truth for me to use as a launchpad for some related thoughts.
      </p>
      <p>
       The first thought has to do with the idea of partition oblivious systems.  EGS defines partition tolerance as a systems overall ability to live up to its specification in the presence of network partitions but then assumes one strongly-consistent specification for the remainder.  Thats a bit of assuming the conclusion there; if you assume strong consistency is an absolute requirement, then of course you reach the conclusion that weakly consistent systems are all failures.  However, what he euphemistically refers to as graceful degradation (really refusing writes in the presence of a true partition) is anything but graceful to many people.  In a comment on
       <a href="nosql.mypopescu.com/post/44848121464/the-nosql-partition-tolerance-myth">
        Alex Popescus thread
       </a>
       about this, I used the example of sensor networks, but there are other examples as well.  Sometimes consistency is preferable and sometimes availability is.  Thats the whole essence of what Brewer was getting at all those years ago.
      </p>
      <p>
       Truly partition-oblivious systems do exist, as a subset of what EGS refers to that way.  I think its a reasonable description of any system that not only allows inconsistency but has a weak method of resolving conflicts.  Last writer wins or latest timestamp both fall into this category.  However,
       <b>
        even those
       </b>
       have been useful to many people over the years.  From early distributed filesystems to very current file-synchronization services like Dropbox, last writer wins has proven quite adequate for many peoples needs.  Beyond that there is a whole family of systems that are not so much oblivious to partitions as respond differently to them.  Any system that uses vector clocks or version vectors, for example, is far from oblivious.  The partition was very much recognized, and very conscious decisions were made to deal with it.  In some systems  Coda, Lotus Notes, Couchbase  this even includes user-specifed conflict resolution that can accomodate practically any non-immediate consistency need.  Most truly partition-oblivious systems  the ones that dont even attempt conflict resolution but instead just return possibly inconsistent data from whichever copy is closest  never get beyond a single developers sandbox, so theyre a bit of a strawman.
      </p>
      <p>
       Speaking of developers sandboxes, I think distributed version control is an excellent example of where eventual consistency does indeed provide great value to users.  From RCS and SCCS through CVS and Subversion, version control was a very transactional, synchronous process  lock something by checking it out, work on it, release the lock by checking in.  Like every developer I had to deal with transaction failures by manually breaking these locks many times.  As teams scaled up in terms of both number of developers and distribution across timezones/schedules, this cant make changes unless you can ensure consistency model broke down badly.  Along came a whole generation of distributed systems  git, hg, bzr, and many others  to address the need.  These systems are, at their core, eventually consistent databases.  They allow developers to make changes independently, and have robust (though admittedly domain-specific) conflict resolution mechanisms.  In fact, they solve the divergence problem so well that they treat partitions as a normal case rather than an exception.  Clearly, EGSs characterization of such behavior as lobotomized (technically incorrect even in a medical sense BTW since the operation hes clearly referring to is actually a
       <a href="http://en.wikipedia.org/wiki/Corpus_callostomy">
        corpus callosotomy
       </a>
       ) is off base since a lot of people at least as smart as he is derive significant value from it.
      </p>
      <p>
       That example probably only resonates with programmers, though.  Lets find some others.  How about the process of scientific knowledge exchange via journals and conferences?  Researchers generate new data and results independently, then commit them to a common store.  Theres even a conflict-resolution procedure, domain-specific just like the DVCS example but nonetheless demonstrably useful.  This is definitely better than requiring that all people working on the same problem or dataset remain in constant communication or degrade gracefully by stopping work.  That has never worked, and could never work, to facilitate scientific progress.  An even more prosaic example might be the way police share information about a fleeing suspects location, or military units share similar information about targets and threats.  Would you rather have possibly inconsistent/outdated information, or no information at all?  Once you start thinking about how the real world works, eventual consistency pops up everywhere.  Its not some inferior cousin of strong consistency, some easy way out chosen only by lazy developers.  Its the way many important things work, and
       <b>
        must
       </b>
       work if theyre to work at all.  Its really strong/immediate consistency thats an anomaly, existing only in a world where problems can be constrained to fit simplistic solutions.  The lazy developers just throw locks around things, over-serialize, over-synchronize, and throw their hands in the air when theres a partition.
      </p>
      <p>
       Is
       <b>
        non-
       </b>
       eventual consistency useful?  That might well be the more interesting question.
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/03/is-eventual-consistency-useful/#more-3693">
        Continue reading Is Eventual Consistency Useful?
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/tech/cloudfs/" rel="category tag" title="View all posts in distributed">
          distributed
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3679 post type-post status-publish format-standard hentry category-site" id="post-3679">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/01/changes-coming-soon/" rel="bookmark" title="Permalink to Changes Coming Soon">
       Changes Coming Soon
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       29 January, 2013 9:28 pm
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       Im going to be making a few changes around the site soon, so I figured Id give people a bit of warning in case something goes wrong.
      </p>
      <ul>
       <li>
        Ill be moving.  Its not that I have any problem whatsoever with Rackspace.  I must emphasize that theyve been purely
        <b>
         awesome
        </b>
        while Ive been here.  The issue is purely one of location.  My goal is to reduce my total work-to-home latency, and theyre not in the right place for that.  By moving, I can make that latency half of what it is currently, and a third of what it was back when I did things the recommended way.  Ill write more some day about the configuration Ive been using for the last few weeks.  For now, it should suffice to say that everything Ive done here I can do exactly the same way at the new place.
       </li>
       <li>
        Ill be changing how both blogs (pl.atyp.us and hekafs.org) get served.  Between the two of them, this site overall has gone from barely detectable to a small blip.  I have no pretensions of this being a truly big or important site, but even a blip needs to consider performance.  I have a plan to continue using WordPress as a content-generation system, but Ill actually be the only one using it directly.  What everyone else will see is the result of a script that slurps all of the articles and category/month lists out of WordPress and converts them into (slightly optimized) static files that nginx can serve up by itself with maximum HTTP caching goodness.  There will be no need for MySQL or PHP except when Im adding new posts.  There wont be any need for varnish either, which I consider a good thing since it just screwed me last night by croaking for no reason whatsoever and leaving both blogs dead in the water.
       </li>
       <li>
        As part of the static-page strategy, comments will have to change.  Instead of using WordPress comments, Ill switch to using an external system  probably Livefyre.  Old comments will still be visible as part of the static pages, but new comments  including those on old posts  will go through a new system.
       </li>
       <li>
        Ill probably change the theme too, this time to something as minimal as I can find.  No widgets.  No sidebars.  Just a modest header, a small menu bar, and the articles themselves.
       </li>
      </ul>
      <p>
       If everything goes well, these changes will have only minimal effect on readers.  Comments will look a little different, and load times will generally be faster, but it will still be the same guy writing about the same things in the same style.  Stay tuned.
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/01/changes-coming-soon/#more-3679">
        Continue reading Changes Coming Soon
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/site/" rel="category tag" title="View all posts in site">
          site
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3663 post type-post status-publish format-standard hentry category-uncategorized" id="post-3663">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2013/01/playing-with-scratch/" rel="bookmark" title="Permalink to Playing with Scratch">
       Playing with Scratch
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       14 January, 2013 7:08 pm
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       Amy has been interested in creating her own video game for a while now, so I started looking for easy ways to get an eight-year-old started with programming.  It quickly became clear that
       <a href="http://www.scratch.mit.edu">
        Scratch
       </a>
       was the best choice, not only because of the environment itself but also because of the community that has built up around it, so I downloaded the Mac version and we started playing some of the demos.  Theres one called Fruit RPG that seemed pretty close to the kind of game we wanted to create.  You get up, walk around collecting fruit, then go into the fruit place where someone rewards you with a fruit platter  simple stuff, mostly there as an example of lists in Scratch.  After Amy went to bed, I started digging in a bit so I could be several steps ahead of her and ready to answer questions when she asked instead of having to figure them out on the spot.  My idea was to learn by adding a couple of new features  a poisonous mushroom that would kill you when you picked it up, and a dinosaur that would follow you around trying to steal your fruit (shades of Adventure there).  I was able to implement both fairly quickly, but also discovered a couple of bugs.
      </p>
      <ul>
       <li>
        The fruit were infinitely regenerating.  Every time you went into a building and then came back out, all of the fruit were there even if you had already collected some.
       </li>
       <li>
        If you walked to the spot on the screen where the fruit-place guy would be if you were in the store, the ending sequence would start even if you were outside.
       </li>
      </ul>
      <p>
       Im sure the people who wrote this little example didnt care about the first, and probably the second either, since this was just an example of using lists anyway.  Nonetheless, it seemed likely that Id learn by fixing them.  It turned out to be a bit more of an exercise than Id thought, because the scripts to make things appear and disappear as you change location are intricately tied to the languages message-passing paradigm.  You leave your house by moving over an invisible door object, which as part of its operation broadcasts a message.  The background object responds to this message by drawing the outdoor scenery, the fruit objects respond by making themselves visible, and so on.
      </p>
      <p>
       This got me thinking about some aspects of the message-passing system.  For example, does a broadcast and wait action mean that the message gets enqueued everywhere before its processed anywhere, or would various overlaps be possible?  This was important because it would affect whether a second message sent from one of the response scripts was guaranteed to come after the original message, and the viability of some possible solutions hinged on the answer.  I wondered how many young programmers had been frustrated by the weird semantics of the forever when X action (not while X but if X within an infinite loop), by having the wrong expectation of whether the green flag message is processed synchronously or asynchronously, by not realizing that multiple instances of the same script could run concurrently, and so on.
      </p>
      <p>
       Needless to say, I fixed the bugs and added my features pretty easily.  Along the way, I came up with a general set of best practices (essentially actor model) that avoid the pitfalls mentioned above.  Thats all nice, but its not the real point here.  The real point is that careful specification of a systems behavior isnt just something that you do for the sake of advanced programmers.  Even a simple system like Scratch can involve significant complexity and ambiguity.  Even the most inexperienced programmers trying to do the simplest things might get tripped up by details that you didnt bother to explain.  Scratch is a nice little system, but it might be nicer if it didnt leave my daughter and other children like her trying to debug race conditions.  Think about that next time youre tempted to say that an implementation choice was obvious because users would be able to figure it out.
      </p>
      <p>
       P.S. I wrote most of this a couple of days ago and wasnt even sure Id ever get around to posting it (I have dozens of drafts like that), but it seems particularly timely in light of this
       <a href="http://books.slashdot.org/story/13/01/14/1322226/book-review-super-scratch-programming-adventure">
        book review
       </a>
       that was posted today so I might as well let it fly.
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2013/01/playing-with-scratch/#more-3663">
        Continue reading Playing with Scratch
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/uncategorized/" rel="category tag" title="View all posts in uncategorized">
          uncategorized
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3650 post type-post status-publish format-standard hentry category-society category-work" id="post-3650">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2012/12/be-a-better-raindrop/" rel="bookmark" title="Permalink to Be a Better Raindrop">
       Be a Better Raindrop
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       30 December, 2012 10:38 am
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       <img alt="no single raindrop believes it is to blame for the flood" src="http://demotivators.despair.com/demotivational/irresponsibilitydemotivator.jpg"/>
      </p>
      <p>
       The computing industry is already awash in condescension and negativity, and its getting worse.  Yes, I know its not a new phenomenon, but Ive been around long enough to be sure of the trend.  Ive been blogging for over a decade, I was on Usenet even longer than that before, and I was on other forums even before that.  I know all about operating-system wars, language wars, editor wars, license wars, and their ilk.  Ive fought many of those wars myself.  Still, things seem to be getting worse.  Practically no technical news nowadays comes unaccompanied by a chorus of hatred from those who prefer alternatives.  Half the time I find out about something thats really pretty cool only because I see the bitching about it.  How sad is that?
      </p>
      <p>
       The thing is, it really doesnt matter
       <strong>
        why
       </strong>
       people act this way.  Yes, some people are just basically spiteful or insecure.  Others might think theyre acting from more noble motives, such as bursting a hype bubble or squashing an idea they believe is truly dangerous.  Half of the articles on this site are based in such motivations, so Im by no means claiming innocence.  The problem is that even the best-motivated snark still contributes to the generally unpleasant atmosphere.  Contrary to popular belief, we techies are social animals.  We have our own equivalent of the
       <a href="http://www.mackinac.org/OvertonWindow">
        Overton Window
       </a>
       .  Every
       <a href="https://lkml.org/lkml/2012/12/23/75">
        Linus eruption
       </a>
       or similar event from a perceived leader shifts that window toward a higher spleen-to-brain ratio.  Others emulate that example, and the phenomenon reinforces itself.  Those of us who are older, who are leaders, who find ourselves quoted often, owe it to the community not to keep shifting that window in the wrong direction.  Thats not being honest or blunt or clear either, if your honesty/bluntness/clarity is only apparent when your comments are negative.  Real life is not one-sided.  If your commentary is, then youre not being any of those things.  Youre just being part of the problem.
      </p>
      <p>
       <img alt="Linus not helping" src="http://regmedia.co.uk/2012/06/18/torvalds_bird.jpg"/>
      </p>
      <p>
       No one of us caused this and no one of us can fix it.  However, we can each try to do better.  Thats my New Years resolution: to start taking the high road and giving people the benefit of the doubt just a bit more often.  Sure, some people might get besotted with a particular idea or technology that I think is inferior, but that doesnt make them stupid or bad.  Some people might get carried away with their praise for a company or its products/people, but that doesnt make them fanbois or shills.  Some people are all of those things, and Im sure Ill still let slip the dogs of war from time to time when the occasion warrants it, but Ill at least try to adopt a doctrine of no first strikes and proportional response instead of the ever escalating verbal violence that is now commonplace.  Would anyone else like to give it a try?
      </p>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2012/12/be-a-better-raindrop/#more-3650">
        Continue reading Be a Better Raindrop
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/society/" rel="category tag" title="View all posts in society">
          society
         </a>
         ,
        </li>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/tech/work/" rel="category tag" title="View all posts in work">
          work
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="post-3629 post type-post status-publish format-standard hentry category-tech" id="post-3629">
     <h2 class="post-title">
      <a href="http://pl.atyp.us/wordpress/index.php/2012/12/limiting-bash-script-run-time/" rel="bookmark" title="Permalink to Limiting Bash Script Run Time">
       Limiting Bash Script Run Time
      </a>
     </h2>
     <ul class="meta posthead">
      <li class="post-date">
       5 December, 2012 4:20 pm
      </li>
      <li>
      </li>
     </ul>
     <div class="postcontent">
      <p>
       Another self-explanatory bash hack.  This one was developed to limit the total run time of a test script, where one of the commands was hanging but I was trying to chase down a different bug.
      </p>
      <div class="wp_syntax">
       <table>
        <tr>
         <td class="code">
          <pre class="bash" style="font-family:monospace;">
           <span style="color: #666666; font-style: italic;">
            #!/bin/bash
           </span>
           <span style="color: #666666; font-style: italic;">
            # Run code with a time limit.  This is trickier than you'd think, because the alarm
           </span>
           <span style="color: #666666; font-style: italic;">
            # signal (or any other) won't be delivered to the parent until any foreground task
           </span>
           <span style="color: #666666; font-style: italic;">
            # completes.  That kind of defeats the purpose here, since a hung task will also
           </span>
           <span style="color: #666666; font-style: italic;">
            # block the signal we're using to un-hang it.  Fortunately, a directed "wait" gives
           </span>
           <span style="color: #666666; font-style: italic;">
            # us a way to work around this issue.  We start both the alarm task and the task
           </span>
           <span style="color: #666666; font-style: italic;">
            # that does real work in the background, then either way we get into exit_handler
           </span>
           <span style="color: #666666; font-style: italic;">
            # and kill whichever one's still running.  It's a little bit inconvenient that
           </span>
           <span style="color: #666666; font-style: italic;">
            # everything has to be wrapped in a "main" function to work, but there's a lot about
           </span>
           <span style="color: #666666; font-style: italic;">
            # bash that's unfortunate.
           </span>
           <span style="color: #007800;">
            TIME_LIMIT
           </span>
           =
           <span style="color: #000000;">
            5
           </span>
           <span style="color: #000000; font-weight: bold;">
            function
           </span>
           exit_handler
           <span style="color: #7a0874; font-weight: bold;">
            {
           </span>
           <span style="color: #000000; font-weight: bold;">
            if
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "
            <span style="color: #007800;">
             $ALREADY_EXITING
            </span>
            "
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           ;
           <span style="color: #000000; font-weight: bold;">
            then
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            return
           </span>
           <span style="color: #000000; font-weight: bold;">
            fi
           </span>
           <span style="color: #000000; font-weight: bold;">
            if
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "
            <span style="color: #007800;">
             $WATCHER
            </span>
            "
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           ;
           <span style="color: #000000; font-weight: bold;">
            then
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            echo
           </span>
           <span style="color: #ff0000;">
            "killing watcher"
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            kill
           </span>
           <span style="color: #660033;">
            -s
           </span>
           SIGKILL
           <span style="color: #007800;">
            $WATCHER
           </span>
           <span style="color: #000000; font-weight: bold;">
            fi
           </span>
           <span style="color: #000000; font-weight: bold;">
            if
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           <span style="color: #660033;">
            -n
           </span>
           <span style="color: #ff0000;">
            "
            <span style="color: #007800;">
             $WORKER
            </span>
            "
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           ;
           <span style="color: #000000; font-weight: bold;">
            then
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            echo
           </span>
           <span style="color: #ff0000;">
            "killing worker"
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            kill
           </span>
           <span style="color: #660033;">
            -s
           </span>
           SIGKILL
           <span style="color: #007800;">
            $WORKER
           </span>
           <span style="color: #000000; font-weight: bold;">
            fi
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            echo
           </span>
           <span style="color: #ff0000;">
            "time to die"
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            }
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            trap
           </span>
           exit_handler EXIT
           <span style="color: #000000; font-weight: bold;">
            function
           </span>
           alrm_handler
           <span style="color: #7a0874; font-weight: bold;">
            {
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            echo
           </span>
           <span style="color: #ff0000;">
            "alarm went off"
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            unset
           </span>
           WATCHER
           <span style="color: #7a0874; font-weight: bold;">
            exit
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            }
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            trap
           </span>
           alrm_handler ALRM
           <span style="color: #7a0874; font-weight: bold;">
            export
           </span>
           <span style="color: #007800;">
            PARENT_PID
           </span>
           =
           <span style="color: #007800;">
            $$
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            (
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            sleep
           </span>
           <span style="color: #007800;">
            $TIME_LIMIT
           </span>
           ;
           <span style="color: #7a0874; font-weight: bold;">
            echo
           </span>
           <span style="color: #ff0000;">
            "ring ring"
           </span>
           ;
           <span style="color: #c20cb9; font-weight: bold;">
            kill
           </span>
           <span style="color: #660033;">
            -s
           </span>
           SIGALRM
           <span style="color: #007800;">
            $PARENT_PID
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            )
           </span>
           <span style="color: #000000; font-weight: bold;">
            &amp;
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            export
           </span>
           <span style="color: #007800;">
            WATCHER
           </span>
           =
           <span style="color: #007800;">
            $!
           </span>
           <span style="color: #666666; font-style: italic;">
            # Example function to demonstrate different completion sequences.
           </span>
           <span style="color: #000000; font-weight: bold;">
            function
           </span>
           main
           <span style="color: #7a0874; font-weight: bold;">
            {
           </span>
           <span style="color: #000000; font-weight: bold;">
            if
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            [
           </span>
           <span style="color: #ff0000;">
            "$1"
           </span>
           <span style="color: #000000; font-weight: bold;">
            !
           </span>
           =
           <span style="color: #000000;">
            0
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            ]
           </span>
           ;
           <span style="color: #000000; font-weight: bold;">
            then
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            echo
           </span>
           <span style="color: #ff0000;">
            "sleeping"
           </span>
           <span style="color: #c20cb9; font-weight: bold;">
            sleep
           </span>
           <span style="color: #007800;">
            $1
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            echo
           </span>
           <span style="color: #ff0000;">
            "waking up"
           </span>
           <span style="color: #000000; font-weight: bold;">
            fi
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            }
           </span>
           main
           <span style="color: #ff0000;">
            "$@"
           </span>
           <span style="color: #000000; font-weight: bold;">
            &amp;
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            export
           </span>
           <span style="color: #007800;">
            WORKER
           </span>
           =
           <span style="color: #007800;">
            $!
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            wait
           </span>
           <span style="color: #007800;">
            $WORKER
           </span>
           <span style="color: #7a0874; font-weight: bold;">
            unset
           </span>
           WORKER
           <span style="color: #666666; font-style: italic;">
            # Test with shorter sleep times to see the worker finish normally, with longer
           </span>
           <span style="color: #666666; font-style: italic;">
            # sleep times to see the watcher cut things short.
           </span>
          </pre>
         </td>
        </tr>
       </table>
      </div>
     </div>
     <ul class="meta postfoot">
      <li class="more-link">
       <a href="http://pl.atyp.us/wordpress/index.php/2012/12/limiting-bash-script-run-time/#more-3629">
        Continue reading Limiting Bash Script Run Time
       </a>
      </li>
      <li class="author-link">
       Author:
       <a class="author" href="http://pl.atyp.us/wordpress/index.php/author/site-admin/">
        Jeff Darcy
       </a>
      </li>
      <li class="cats">
       Filed under:
       <ul>
        <li>
         <a href="http://pl.atyp.us/wordpress/index.php/category/tech/" rel="category tag" title="View all posts in tech">
          tech
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <ul class="prevnext">
     <li class="next">
      <a href="http://pl.atyp.us/wordpress/index.php/page/2/">
       Older Posts
      </a>
     </li>
     <li class="prev">
     </li>
    </ul>
    <!-- end content -->
   </div>
   <div id="footer">
    <div class="widget-area">
     <div class="widget widget_categories" id="categories-2">
      <h3 class="widgettitle">
       Categories
      </h3>
      <select class="postform" id="cat" name="cat">
       <option value="-1">
        Select Category
       </option>
       <option class="level-0" value="20">
        diversions
       </option>
       <option class="level-0" value="18">
        family life
       </option>
       <option class="level-0" value="2">
        humor
       </option>
       <option class="level-0" value="4">
        internet
       </option>
       <option class="level-0" value="23">
        outdoors
       </option>
       <option class="level-0" value="22">
        random pictures
       </option>
       <option class="level-0" value="19">
        science
       </option>
       <option class="level-0" value="7">
        site
       </option>
       <option class="level-0" value="6">
        society
       </option>
       <option class="level-1" value="25">
        ideology
       </option>
       <option class="level-0" value="14">
        tech
       </option>
       <option class="level-1" value="10">
        design
       </option>
       <option class="level-1" value="33">
        distributed
       </option>
       <option class="level-1" value="13">
        linux
       </option>
       <option class="level-1" value="15">
        networks
       </option>
       <option class="level-1" value="16">
        systems
       </option>
       <option class="level-1" value="26">
        work
       </option>
       <option class="level-0" value="17">
        travel
       </option>
       <option class="level-0" value="1">
        uncategorized
       </option>
      </select>
      <script type="text/javascript">
       /* &lt;![CDATA[ */
	var dropdown = document.getElementById("cat");
	function onCatChange() {
		if ( dropdown.options[dropdown.selectedIndex].value &gt; 0 ) {
			location.href = "http://pl.atyp.us/wordpress/?cat="+dropdown.options[dropdown.selectedIndex].value;
		}
	}
	dropdown.onchange = onCatChange;
/* ]]&gt; */
      </script>
     </div>
     <div class="widget widget_archive" id="archives-4">
      <h3 class="widgettitle">
       Archives
      </h3>
      <select name="archive-dropdown" onchange="document.location.href=this.options[this.selectedIndex].value;">
       <option value="">
        Select Month
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2013/04/">
        April 2013
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2013/03/">
        March 2013
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2013/01/">
        January 2013
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/12/">
        December 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/11/">
        November 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/10/">
        October 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/09/">
        September 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/08/">
        August 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/07/">
        July 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/06/">
        June 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/04/">
        April 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/03/">
        March 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2012/01/">
        January 2012
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/12/">
        December 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/11/">
        November 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/10/">
        October 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/09/">
        September 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/08/">
        August 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/07/">
        July 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/06/">
        June 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/05/">
        May 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/04/">
        April 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/03/">
        March 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/02/">
        February 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2011/01/">
        January 2011
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/12/">
        December 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/10/">
        October 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/09/">
        September 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/08/">
        August 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/07/">
        July 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/06/">
        June 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/05/">
        May 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/04/">
        April 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/03/">
        March 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/02/">
        February 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2010/01/">
        January 2010
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/12/">
        December 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/11/">
        November 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/10/">
        October 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/09/">
        September 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/08/">
        August 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/07/">
        July 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/06/">
        June 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/05/">
        May 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/04/">
        April 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/03/">
        March 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/02/">
        February 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2009/01/">
        January 2009
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/12/">
        December 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/11/">
        November 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/10/">
        October 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/09/">
        September 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/08/">
        August 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/07/">
        July 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/06/">
        June 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/05/">
        May 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/04/">
        April 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/03/">
        March 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/02/">
        February 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2008/01/">
        January 2008
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/12/">
        December 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/11/">
        November 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/10/">
        October 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/09/">
        September 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/08/">
        August 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/07/">
        July 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/06/">
        June 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/05/">
        May 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/04/">
        April 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/03/">
        March 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/02/">
        February 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2007/01/">
        January 2007
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/12/">
        December 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/11/">
        November 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/10/">
        October 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/09/">
        September 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/08/">
        August 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/07/">
        July 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/06/">
        June 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/05/">
        May 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/04/">
        April 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/03/">
        March 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/02/">
        February 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2006/01/">
        January 2006
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/12/">
        December 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/11/">
        November 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/10/">
        October 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/09/">
        September 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/08/">
        August 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/07/">
        July 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/06/">
        June 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/05/">
        May 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/04/">
        April 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/03/">
        March 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/02/">
        February 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2005/01/">
        January 2005
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/12/">
        December 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/11/">
        November 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/10/">
        October 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/09/">
        September 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/08/">
        August 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/07/">
        July 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/06/">
        June 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/05/">
        May 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/04/">
        April 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/03/">
        March 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/02/">
        February 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2004/01/">
        January 2004
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/12/">
        December 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/11/">
        November 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/10/">
        October 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/09/">
        September 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/08/">
        August 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/07/">
        July 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/06/">
        June 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/05/">
        May 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/04/">
        April 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/03/">
        March 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/02/">
        February 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2003/01/">
        January 2003
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/12/">
        December 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/11/">
        November 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/10/">
        October 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/09/">
        September 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/08/">
        August 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/07/">
        July 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/06/">
        June 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/05/">
        May 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/04/">
        April 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/03/">
        March 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/02/">
        February 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2002/01/">
        January 2002
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/12/">
        December 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/11/">
        November 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/10/">
        October 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/09/">
        September 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/08/">
        August 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/07/">
        July 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/05/">
        May 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/03/">
        March 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2001/02/">
        February 2001
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2000/12/">
        December 2000
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2000/11/">
        November 2000
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2000/10/">
        October 2000
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2000/09/">
        September 2000
       </option>
       <option value="http://pl.atyp.us/wordpress/index.php/2000/08/">
        August 2000
       </option>
      </select>
     </div>
    </div>
    <ul class="site-links">
     <li class="top">
      <a href="#top" title="Jump to the top of this page">
       Top
      </a>
     </li>
     <li class="loginout">
      <a href="http://pl.atyp.us/wordpress/wp-login.php">
       Log in
      </a>
     </li>
     <li class="rss">
      <a href="http://pl.atyp.us/wordpress/index.php/feed/" title="RSS Feed">
       <img alt="RSS" height="14" src="http://pl.atyp.us/wordpress/wp-content/themes/zenlite/images/rss.png" width="14"/>
      </a>
     </li>
    </ul>
    <p class="credits">
     Powered by the ZenLite Theme
    </p>
   </div>
   <!-- end wrapper -->
  </div>
  <div style="display:none">
  </div>
  <script type="text/javascript">
   tb_pathToImage = "'http://pl.atyp.us/wordpress/wp-includes/js/thickbox/loadingAnimation.gif";tb_closeImage = "http://pl.atyp.us/wordpress/wp-includes/js/thickbox/tb-close.png";
  </script>
  <script src="http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201316" type="text/javascript">
  </script>
  <script src="http://stats.wordpress.com/e-201316.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   st_go({v:'ext',j:'1:2.0.4',blog:'3148253',post:'0',tz:'-5'});
	var load_cmc = function(){linktracker_init(3148253,0,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
  </script>
 </body>
</html>