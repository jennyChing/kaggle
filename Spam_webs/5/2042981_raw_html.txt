<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <base href="http://www.donorschoose.org/donors/proposal.html?id=86486"/>
  <title>
   How do Schools Want us to be Technology Savvy When They Don't Even Give us a Computer?
  </title>
  <meta content="The cost of the Computer is $1,844, including shipping and fulfillment . One problem that we continuously encounter is that we do not have a computer that is exclusively designated for our magazine." name="description"/>
  <meta content="Illinois (Chicago) Grades 9-12 Literature &amp; Writing Literacy &amp; Language " name="keywords"/>
  <link href="http://cdn.donorschoose.net/images/favicon.ico?v=3" rel="shortcut icon" type="image/png"/>
  <link href="http://cdn.donorschoose.net/gcss/general_mobile.css?version=844904d" rel="stylesheet" type="text/css"/>
  <link href="http://cdn.donorschoose.net/gcss/project_mobile.css?version=844904d" rel="stylesheet" type="text/css"/>
  <!--[if lt IE 9]&gt;
    &lt;script src="http://cdn.donorschoose.net/js/html5shiv.min.js"&gt;&lt;/script&gt;
&lt;![endif]-->
  <!-- SET UP GLOBAL JAVASCRIPT VARIABLES -->
  <script type="text/javascript">
   self.name = "_orig";


var versionNum = "844904d";



var baseURL = "http://www.donorschoose.org/";



var secureBaseURL = "https://secure.donorschoose.org/";



var baseCacheURL = "http://cdn.donorschoose.net/";



var apiURL = "http://api.donorschoose.org/";



var baseS3URL = "http://s3.donorschoose.net/donorschoose-storage/";



var secureS3URL = "https://a248.e.akamai.net/f/248/48906/1h/s3.amazonaws.com/donorschoose-storage/";



var dcAPIKey = "H9v7hCeN";



var facebookAppId = "44550081712";



var facebookNamespace = "dc_org_donation_feed";



var heapApplicationId = "2017425730";




var pageName = "project";

var introVideoURL = "//www.youtube.com/embed/m7ouj-ehfJs?autoplay=1&amp;wmode=opaque";


var mobileOptimized = true;
  </script>
  <!-- /SET UP GLOBAL JAVASCRIPT VARIABLES -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript">
  </script>
  <script crossorigin="anonymous" src="http://cdn.donorschoose.net/js/dc/general.js?version=844904d" type="text/javascript">
  </script>
  <link href="http://www.donorschoose.org/project/-/86486/" rel="canonical"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@donorschoose" name="twitter:site"/>
  <meta content="DonorsChoose.org" name="twitter:domain"/>
  <meta content="The cost of the Computer is $1,844, including shipping and fulfillment . One problem that we continuously encounter is that we do not have a computer that is exclusively designated for our magazine." name="twitter:description"/>
  <meta content="How do Schools Want us to be Technology Savvy When They Don't Even Give us a Computer? , a project from Mrs. Alfred" property="og:title"/>
  <meta content="DonorsChoose.org" property="og:site_name"/>
  <meta content="44550081712" property="fb:app_id"/>
  <meta content="website" property="og:type"/>
  <meta content="http://www.donorschoose.org/project/-/86486/" property="og:url"/>
  <meta content="Chicago,60659-4691,US" name="geo.placename"/>
  <meta content="41.987519000000000;-87.702249000000000" name="geo.position"/>
  <meta content="US-IL" name="geo.region"/>
  <meta content="41.987519000000000,-87.702249000000000" name="ICBM"/>
  <meta content="http://s3.donorschoose.net/donorschoose-storage/dc_prod/images/user/med/u17434_med.jpg?timestamp=1252633324000" property="og:image"/>
  <!-- GOOGLE ANALYTICS UNIVERSAL TRACKING HEADER -->
  <script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-2016540-1', 'auto');
	ga('require', 'displayfeatures');
	if (userId != null &amp;&amp; userId != "") ga('set','&amp;uid',userId);

	&lt;!-- SET userType BACK TO DONOR --&gt;
	if (window.location.pathname.indexOf("lastingImpact") == -1 &amp;&amp; window.location.pathname.indexOf("cartThankYou") == -1 &amp;&amp; window.location.pathname.indexOf("cartDonationMessage") == -1 &amp;&amp; readCookie("v") != null &amp;&amp; readCookie("v") == "donated") {
		dcAnalytics.trackVisitorTypeGA('donor');
		createCookie("v","donor",365);
	}

    // Optimizely Universal Analytics Integration
    window.optimizely = window.optimizely || [];
    window.optimizely.push("activateUniversalAnalytics");

	
   	
   	
   	
   	dcAnalytics.trackPageViewGA();
   	
   	

&lt;/script&gt;

&lt;!-- /GOOGLE ANALYTICS TRACKING HEADER --&gt;




&lt;script type="text/javascript"&gt;
(function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.onload = function() {
    	$(document).trigger("optimizelyLoaded");
    };
    po.src = '//cdn.optimizely.com/js/46959397.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();
  </script>
  <script type="text/javascript">
   window.heap=window.heap||[],heap.load=function(t,e){window.heap.appid=t,window.heap.config=e;var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+t+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(t){return function(){heap.push([t].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c&lt;p.length;c++)heap[p[c]]=o(p[c])};
	heap.load(heapApplicationId, {secureCookie: false});
  </script>
  <script>
   var _fs_debug = false;
	var _fs_host='www.fullstory.com',_fs_org='epX';
	(function(m,n,e,t,l,o,g,y){
	  g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
	  o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
	  y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
	  g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){FS(l,v)};
	  g.setSessionVars=function(v){FS('session',v)};g.setPageVars=function(v){FS('page',v)};
	})(window,document,'FS','script','user');
  </script>
 </head>
 <body>
  <div id="mainHeader">
   <!-- REDUX TEACHER BANNER -->
   <div class="on" id="teacher-banner">
    <i class="ss-junior ss-delete dismiss" onclick="hideTeacherBanner()">
    </i>
    Are you a public school teacher in need of funding?
    <a href="http://www.donorschoose.org/teachers" target="_top">
     Start your first project 
    </a>
   </div>
   <div id="mobile-header">
    <a class="logo DClogo" href="http://www.donorschoose.org/" onclick="dcAnalytics.trackEventGA(['Header', 'Logo']);" target="_top">
     DonorsChoose.org
    </a>
    <span class="button-redux secondary small menu-icon" onclick="toggleMenuLinks();">
     Menu
    </span>
   </div>
   <!-- REDUX HEADER -->
   <div class="teacher" id="main-header">
    <div id="header-links">
     <a class="logo DClogo" href="http://www.donorschoose.org/" onclick="dcAnalytics.trackEventGA(['Header', 'Logo']);" target="_top">
      DonorsChoose.org
     </a>
     <a class="button-redux secondary small find-classroom" href="http://www.donorschoose.org/donors/search.html" onclick="dcAnalytics.trackEventGA(['Header', 'Find a classroom to support']);" target="_top">
      Find a classroom to support
     </a>
     <a class="about" href="http://www.donorschoose.org/about" onclick="dcAnalytics.trackEventGA(['Header', 'About us']);" target="_top">
      About us
     </a>
     <a class="help" href="http://help.donorschoose.org/" onclick="dcAnalytics.trackEventGA(['Header', 'Help']);" target="_top">
      Help
     </a>
    </div>
    <!-- no white space here -->
    <div class="account" id="account-links">
     <div class="account" id="signin-link">
      <a href="https://secure.donorschoose.org/common/signin.html" onclick="toggleSignInOverlay(event)" target="_top">
       Sign in
      </a>
     </div>
     <div id="user-account-links">
      <a href="https://secure.donorschoose.org/common/myaccount.html" id="account-trigger" onclick="return toggleDonorAccountInfo(event);" target="_top">
       <span class="greetings">
       </span>
       <span class="ss-junior right ss-navigatedown">
       </span>
      </a>
      <div class="subnav account">
      </div>
     </div>
    </div>
   </div>
   <div id="cart-banner">
    <div class="cart-banner-container">
     <div class="message">
      Complete your donation
      <span id="cart-banner-message">
      </span>
     </div>
     <a class="button-redux small checkout-button" href="https://secure.donorschoose.org/donors/givingCart.html" target="_top">
      <i class="ss-junior ss-cart">
      </i>
      Check Out
     </a>
    </div>
   </div>
   <!-- HIW -->
   <div id="genHIW">
    <div class="holder">
     <div id="facepile">
      <fb:facepile allowtransparency="true" colorscheme="dark" maxrows="1" size="medium" width="230">
      </fb:facepile>
     </div>
     <div id="videoHIW">
      <div class="quoteHolder">
       <a class="quote oprah" href="//www.youtube.com/embed/m7ouj-ehfJs?autoplay=1&amp;wmode=opaque" id="oprahQuote" onclick="showVideoLightBox(this.href);return returnFalse();">
        <img alt="A revolutionary charity.  --Oprah" src="http://cdn.donorschoose.net/images/header/quote_oprah.png"/>
       </a>
       <a class="quote colbert" href="//www.youtube.com/embed/m7ouj-ehfJs?autoplay=1&amp;wmode=opaque" id="colbertQuote" onclick="showVideoLightBox(this.href);return returnFalse();">
        <img alt="A revolutionary charity.  --Steven Colbert" src="http://cdn.donorschoose.net/images/header/quote_colbert.png"/>
       </a>
      </div>
      <a class="playVideo" href="//www.youtube.com/embed/m7ouj-ehfJs?autoplay=1&amp;wmode=opaque" onclick="showVideoLightBox(this.href);return returnFalse();" onmouseover="getVideoRollover();">
       <img alt="Introduction to Donorschoose.org with Oprah and Steven Colbert" src="http://cdn.donorschoose.net/images/header/video.png"/>
      </a>
     </div>
     <div id="videoHIWOn" onmouseout="getVideoRollout();" style="position:absolute;display:none">
      <a class="quote" href="//www.youtube.com/embed/m7ouj-ehfJs?autoplay=1&amp;wmode=opaque" onclick="showVideoLightBox(this.href);return returnFalse();">
       <img alt="Watch Oprah and Colbert show how it works" src="http://cdn.donorschoose.net/images/header/quote_rollover.png"/>
      </a>
      <a class="playVideo" href="//www.youtube.com/embed/m7ouj-ehfJs?autoplay=1&amp;wmode=opaque" onclick="showVideoLightBox(this.href);return returnFalse();">
       <img alt="Introduction to Donorschoose.org with Oprah and Steven Colbert" src="http://cdn.donorschoose.net/images/header/video_on.png"/>
      </a>
     </div>
    </div>
   </div>
   <!-- /HIW -->
  </div>
  <!-- IE SPECIFIC -->
  <div id="ie6_header_error_holder" style="display:none;">
  </div>
  <!-- /IE SPECIFIC -->
  <!-- PROMO STRIP: SITE-WIDE zone 55555 or HOMEPAGE zone 10001 -->
  <!-- /PROMO STRIP: SITE-WIDE zone 55555 or HOMEPAGE zone 10001 -->
  <!-- INIT ACCOUNT LINKS -->
  <script type="text/javascript">
   //see header.js for use
var headerType = "";
  </script>
  <!-- /INIT ACCOUNT LINKS -->
  <!-- /HEADER -->
  <!-- MAIN BODY -->
  <!-- TITLE BAR -->
  <!-- /TITLE BAR -->
  <!-- INNER_BODY -->
  <div id="mainBody">
   <!-- MESSAGES -->
   <div class="errorbar">
   </div>
   <!-- /MESSAGES -->
   <!-- LEFT_NAV -->
   <!-- /LEFT_NAV -->
   <!-- CENTER BODY -->
   <!-- PROJECT PICKER TOAST -->
   <div id="projectPickerToast">
    <a class="close" href="#" onclick="hideProjectPickerToast();return returnFalse();">
     
    </a>
    <h2>
     This project best reflects:
    </h2>
    <ul>
     <li>
      a teacher who has never been funded
     </li>
     <li>
      a school in a high-poverty community
     </li>
     <li>
      a quickly approaching expiration date
     </li>
    </ul>
   </div>
   <!-- SEARCH BREADCRUMB -->
   <div class="breadCrumb">
    <span id="breadCrumbCheckList">
     <input checked="" id="" onclick="window.location.href='http://www.donorschoose.org/donors/search.html'" type="checkbox"/>
     <a href="http://www.donorschoose.org/donors/search.html">
      Most urgent
     </a>
    </span>
    <div class="backNext">
     <a class="back" href="#" onclick="getNextProject(-1);return returnFalse();">
      <span>
       Back
      </span>
     </a>
     <a class="next" href="#" onclick="getNextProject(1);return returnFalse();">
      <span>
       Next
      </span>
     </a>
    </div>
   </div>
   <!-- COMPLETED PROJECT BANNER -->
   <div class="completedBanner">
   </div>
   <!-- SPONSORED PROMO CODE CALLOUT -->
   <!-- PROJECT TITLE -->
   <h1 class="proposalHeader">
    How do Schools Want us to be Technology Savvy When They Don't Even Give us a Computer?
   </h1>
   <a class="headerImage" href="http://www.donorschoose.org/we-teach/17434" onclick="_gaq.push(['_trackEvent','Project Page','Classroom Photo', 'Teacher Search']);" title="See this teacher's page">
    <div class="ClassroomPhotoHolder" style="background-image:url(http://s3.donorschoose.net/donorschoose-storage/dc_prod/images/user/thumbnail/u17434_thmb.jpg?timestamp=1252633324000)">
    </div>
   </a>
   <div class="subtitle">
    <a class="teacherName" href="http://www.donorschoose.org/we-teach/17434">
     Mrs. Alfred
    </a>
    <span class="connector">
     's
    </span>
    <span id="proposalType">
     <a href="http://www.donorschoose.org/donors/search.html?proposalTypeCombo=Supplies" style="text-transform:lowercase">
      Supplies
     </a>
     project
    </span>
    <!-- LOCATION -->
    <!-- SCHOOL -->
    <span class="connector">
     at
    </span>
    <a class="searchLink" href="http://www.donorschoose.org/school/mather-high-school/5457" title="See other projects from Mather High School">
     Mather High School
    </a>
    <span class="connector">
     in
    </span>
    <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?zone=201&amp;community=4377:3" title="See other projects from Chicago">
     Chicago
    </a>
    ,
    <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?state=IL" title="See other projects from IL">
     IL
    </a>
    <!-- /SCHOOL -->
    <span class="sep">
     |
    </span>
    <!-- INCOME LEVEL -->
    <a class="searchLink" href="http://www.donorschoose.org/help/popup_faq.html?name=lowincome" onclick="getFaqPopup(this,this.href);return returnFalse();">
     Highest Poverty
    </a>
   </div>
   <a name="title">
   </a>
   <div id="photoAndEssay">
    <!-- PHOTO: DESKTOP -->
    <div id="classroomPhotoDiv">
     <div class="image">
      <a href="http://www.donorschoose.org/we-teach/17434" onclick="dcAnalytics.trackEventGA(['Project Page','Classroom Photo', 'Teacher Search']);" title="See this teacher's page">
       <img alt="Classroom Photo" id="classroomPhoto" onerror="getDefaultImage(this,'http://cdn.donorschoose.net/images/examples/default.gif')" src="http://s3.donorschoose.net/donorschoose-storage/dc_prod/images/user/medsmall/u17434_mdsm.jpg?timestamp=1252633324000"/>
      </a>
      <!-- ROLLOVER LINK FOR DESKTOP PHOTO -->
      <div class="classroomOf">
       <a href="http://www.donorschoose.org/we-teach/17434" onclick="dcAnalytics.trackEventGA(['Project Page','Tab 1', 'Teacher Search']);" title="See this teacher's page">
        Mrs. Alfred
       </a>
       <a class="favTeacherLink17434 followStar" href="javascript:void(0)" id="favTeacherLink" onclick="addOrRemoveFavorite('17434','teacherId',this.id,'Mrs. Alfred'); return returnFalse();">
       </a>
      </div>
     </div>
     <div style="padding:.2em 0px">
      <a class="sendDonorTeacherLink" href="https://secure.donorschoose.org/donors/send_donorteacher.html?teacherId=17434" onclick="return showSendDonorTeacherForm(this);">
       contact this teacher
      </a>
     </div>
     <div style="clear:both">
     </div>
    </div>
    <!-- /PHOTO -->
    <!-- FUND -->
    <div class="addToCart">
     <!-- FUNDED OR INELIGIBLE -->
     <div class="notFunded">
      This project expired on October 31, 2007.
     </div>
     <br/>
     <!-- /FUNDED OR INELIGIBLE -->
     <!-- SHAREBAR -->
     <div class="share" data-id="86486" data-imageurl="http://s3.donorschoose.net/donorschoose-storage/dc_prod/images/user/small/u17434_sm.jpg?timestamp=1252633324000" data-pageurl="http://www.donorschoose.org/project/-/86486?utm_source=dc&amp;utm_medium=project" id="share86486">
      <div class="shareOnly">
       <div class="shareButton dc_tooltip" data-title="Share this project" id="shareOnly86486" onclick="toggleShare(86486);">
        Share
        <img src="http://cdn.donorschoose.net/images/icon/arrow_down.png"/>
       </div>
      </div>
      <!-- /SHAREBAR -->
      <div style="clear:both">
      </div>
      <div class="shareBar" id="followBar86486" style="text-align:left;">
       <div class="close">
        <a href="javascript:void(0)" onclick="$('#followBar86486').hide()">
         <img alt="" src="http://cdn.donorschoose.net/images/project/share_close_btn.png"/>
        </a>
       </div>
       <!-- ADD TO WISHLIST -->
       <!-- ADD TO CHALLENGE -->
       <!-- /ADD TO CHALLENGE -->
      </div>
     </div>
    </div>
    <!-- /FUND -->
    <!-- ESSAY -->
    <div class="newSubmission" id="essay">
     <p id="longRequest" style="display:block;">
      The cost of the Computer is $1,844, including shipping and fulfillment
      <a href="http://www.donorschoose.org/help/popup_faq.html?q=79" onclick="getFaqPopup(this,this.href);return returnFalse();" target="new">
       <img alt="?" class="faqMarker" src="http://cdn.donorschoose.net/images/faq_marker.gif"/>
      </a>
      .
     </p>
     <div class="shortEssay">
      <p>
       "I teach English as a Second Language (ESL) in a large inner-city high school in Chicago. We serve children from all over the world (66 different countries at last count). Very few of them come with academic skills and many of them have never typed a paper on a computer. Since they are all
    ...
       <a class="more" href="javascript:void(0)" onclick="dcAnalytics.trackEventGA(['Project Page','Essay', 'More']);showLongEssay();showMaterialsList(true);return returnFalse();">
        Read more
       </a>
       "
      </p>
     </div>
     <div class="longEssay">
      <p>
       "I teach English as a Second Language (ESL) in a large inner-city high school in Chicago. We serve children from all over the world (66 different countries at last count). Very few of them come with academic skills and many of them have never typed a paper on a computer. Since they are all teen-agers, they all share a common bond: namely, their interest in popular culture, music and sports.
      </p>
      <p>
      </p>
      <p>
       Since my job as a teacher is to foster academic development, having students write about issues that are of great interest to them is the key in motivating them to learn. That is how my students came up with the idea for the Mather Maga'Zine. Unlike the school newspaper, our magazine contains art, poetry, stories, some news, and general info they need to know about surviving in a U.S. high school. Future issues will have foreign language columns for students and parents who have been in the US for only a short time.
      </p>
      <p>
      </p>
      <p>
       The magazine's ultimate goal is to build a greater understanding among students and to build on their self-confidence, aspirations, and character development. When students write and see their work published they feel a sense of accomplishment. Being careful to respect individual rights, cultural, religious, gender and ethnic differences, students aspire to be sensitive and fair in their columns.
      </p>
      <p>
      </p>
      <p>
       One problem that we continuously encounter is that we do not have a computer that is exclusively designated for our magazine. Students often need help in figuring out how to use all of the functions to come up with a great typed article and without a computer in the classroom, I am unable to teach this skill to them. It is frustrating when my students come to me and I have to send them to our very inefficient computer lab to type their stories. Usually, they need help and since there is no teacher to help, or it is full with a class, they come back to me and I end up having to type their articles at home. This means that there is no learning going on.
      </p>
      <p>
       When my students have a good idea in mind, they somehow figure out how to make it great. Since I can rely on my students, I feel they should be able to rely on a working computer where they know that their stories are safe and accessible whenever they need them.
      </p>
      <p>
      </p>
      <p>
       <a class="more" href="javascript:void(0)" onclick="showShortEssay();return returnFalse();">
        hide
       </a>
      </p>
     </div>
    </div>
    <!-- /ESSAY -->
    <a class="getMore">
    </a>
    <div style="clear:both">
    </div>
   </div>
   <div id="mobileDYI">
   </div>
   <!-- COMPLETED PROJECT INSPIRE FORM -->
   <div class="inspireForm" id="inspireFormBottom">
    <div class="inspire-form-wrapper">
     <span class="textLabel desktop-view">
      <strong>
       Help  Mrs. Alfred
      </strong>
      <span style="text-transform:capitalize;">
       her
      </span>
      other classroom projects need your support.
     </span>
     <span class="textLabel mobile-view">
      Select an amount to donate to Mrs. Alfred's future classroom projects:
     </span>
     <form action="https://secure.donorschoose.org/donors/givingCart.html?gift=true&amp;deliveryType=email&amp;gcToTeacher=17434&amp;toName=Mrs. Alfred&amp;message=Use%20this%20toward%20your%20next%20classroom%20project!" class="form-redux" id="command" method="post" onsubmit="return validateInspireForm(this)">
      <div class="dollar-amount">
       <input autocomplete="off" class="dAmount" id="amount" name="amount" onclick="dcAnalytics.trackEventGA([pageName, 'give expanded', 'amount input']);" placeholder="amount" type="tel" value=""/>
      </div>
      <input class="button-redux small" onclick="dcAnalytics.trackEventGA([pageName, 'give expanded', 'amount give button']);" type="submit" value="Give"/>
     </form>
    </div>
    <div style="clear:both">
    </div>
   </div>
   <!-- /COMPLETED PROJECT INSPIRE FORM -->
   <!-- DONATE BAR FOR MOBILE -->
   <div style="clear:both">
   </div>
   <div id="mobileDonateBar">
    <h3>
     This project expired on Oct 31, 2007.
    </h3>
    <h4>
     But you can still help out.
    </h4>
    <div id="donateBar">
     <div class="button-redux" id="donateButton" onclick="getDonateOptions();">
      Support this teacher
     </div>
     <!-- SAVE FOR LATER -->
     <a class="addToWishlistLink86486 followStar" id="addToWishlistLink86486" onclick="addToWishlist('86486','',this.id); return returnFalse();" target="_top">
      Save this project
     </a>
     <!-- /SAVE FOR LATER -->
    </div>
   </div>
   <!-- /DONATE BAR FOR MOBILE -->
   <!-- DONOR MESSAGES AND MATERIALS SECTION -->
   <a name="meetthedonors">
   </a>
   <a name="liveUpdates">
   </a>
   <!-- DONOR MESSAGES AND MATERIALS TABS -->
   <ul class="DCtabs mobile">
    <li>
     <a class="active" id="accDonorMessages" title="Link: Donors">
      Donors
     </a>
    </li>
    <li>
     <a id="accMaterials" name="materials" title="Link: Materials &amp; Cost">
      Materials &amp; Cost
     </a>
    </li>
   </ul>
   <!-- /DONOR MESSAGES AND MATERIALS TABS -->
   <!-- MATERIALS -->
   <h5 id="projectDetailsHdr">
    <span class="date">
     Mar 1, 2007
    </span>
    <strong>
     Mrs. Alfred
    </strong>
    - Teacher
   </h5>
   <strong id="materialsHeader">
    Project Details
   </strong>
   <div id="materialsList">
    <a name="materialsList">
    </a>
    <div id="longMaterials">
     <table border="0" cellpadding="0" cellspacing="0" class="projectCosts" width="100%">
      <tr>
       <th class="itemName">
        Materials
       </th>
       <th class="vendor" style="text-align:left">
        Vendor
       </th>
       <th class="unitPrice" style="text-align:right">
        Price
       </th>
       <th class="quqntity">
        #
       </th>
       <th style="text-align:right">
        Total
       </th>
      </tr>
      <tbody class="firstThreeItems">
       <tr>
        <td class="itemName">
         Apple MacBook Pro
        </td>
        <td class="vendor">
         CDW Inc.
        </td>
        <td class="unitPrice">
         $1,329.00
        </td>
        <td class="quantity">
         1
        </td>
        <td class="price">
         $1,329.00
        </td>
       </tr>
       <tr>
        <th class="divider" colspan="5">
        </th>
       </tr>
       <tr class="charges firstCharge">
        <td colspan="4">
         <a href="http://www.donorschoose.org/help/popup_faq.html?name=shipping_charges" onclick="getFaqPopup(this,this.href);return returnFalse();" target="new">
          Vendor shipping charges
         </a>
        </td>
        <td class="price">
         $132.90
        </td>
       </tr>
       <tr class="charges">
        <td colspan="4">
         <a href="http://www.donorschoose.org/help/popup_faq.html?name=sales_tax" onclick="getFaqPopup(this,this.href);return returnFalse();" target="new">
          State sales tax
         </a>
        </td>
        <td class="price">
         $0.00
        </td>
       </tr>
      </tbody>
      <tbody class="additionalMaterials" id="additionalMaterials">
       <tr class="charges">
        <td colspan="4">
         <a href="http://www.donorschoose.org/help/popup_faq.html?name=payment_processing" onclick="getFaqPopup(this,this.href);return returnFalse();" target="new">
          3rd party payment processing fee
         </a>
        </td>
        <td class="price">
         $33.23
        </td>
       </tr>
       <tr class="charges">
        <td colspan="4">
         <a href="http://www.donorschoose.org/help/popup_faq.html?name=projectfulfillment" onclick="getFaqPopup(this,this.href);return returnFalse();" target="new">
          Fulfillment labor &amp; materials
         </a>
        </td>
        <td class="price">
         $17.00
        </td>
       </tr>
       <tr class="charges subtotal">
        <td colspan="4">
         <strong>
          Project cost excluding donation to support DonorsChoose.org
         </strong>
        </td>
        <td class="price">
         <strong>
          $1,512.00
         </strong>
        </td>
       </tr>
       <tr class="charges firstCharge fulfillmentCost">
        <td colspan="4">
         <a href="http://www.donorschoose.org/help/popup_faq.html?name=optionaldonation13" onclick="getFaqPopup(this,this.href);return returnFalse();" target="new">
          <b>
           Optional
          </b>
          donation to support DonorsChoose.org
         </a>
        </td>
        <td class="price">
         $331.90
        </td>
       </tr>
       <tr class="charges total">
        <td colspan="4">
         <a href="http://www.donorschoose.org/help/popup_faq.html?name=total_cost" onclick="getFaqPopup(this,this.href);return returnFalse();" target="new">
          <strong>
           Project cost including donation to support DonorsChoose.org
          </strong>
         </a>
        </td>
        <td class="price">
         <strong>
          $1,843.90
         </strong>
        </td>
       </tr>
       <tr>
        <td colspan="5">
         <div style="position:relative">
          <div class="bestPricing">
           <a href="http://www.donorschoose.org/help/popup_faq.html?name=vendordiscounting" onclick="getFaqPopup(this,this.href);return returnFalse();">
            Our team works hard to negotiate the best pricing available.
           </a>
          </div>
         </div>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="additionalDetails">
      <div class="col1">
       <!-- CLASSROOM -->
       <div>
        <h5>
         County:
        </h5>
        <span>
         <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?zone=201&amp;community=15:1" title="See other projects in Cook County">
          Cook
         </a>
        </span>
       </div>
       <div>
        <h5>
         District:
        </h5>
        <span>
         <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?zone=201&amp;community=16385:2" title="See other projects from Chicago PSD-Network 2">
          Chicago PSD-Network 2
         </a>
        </span>
       </div>
       <div>
        <h5>
         Community:
        </h5>
        <span>
         <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?zone=201&amp;community=53:4" title="See other projects in North Park">
          North Park
         </a>
        </span>
       </div>
       <div>
        <h5>
         Zip:
        </h5>
        <span>
         <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?keywords=60659" title="See other projects in the 60659 zip code">
          60659-4691
         </a>
        </span>
       </div>
       <div>
        <h5>
         Free/reduced lunch:
        </h5>
        <span>
         65%+
        </span>
       </div>
       <div>
        <h5>
         Teacher's funded projects:
        </h5>
        <span>
         <a href="http://www.donorschoose.org/we-teach/17434?historical=true" onclick="dcAnalytics.trackEventGA(['Project Page','Additional Details', 'Teacher Search']);" title="See this teacher's page">
          42
         </a>
        </span>
       </div>
       <!-- /CLASSROOM -->
      </div>
      <div class="col2">
       <!-- PROJECT -->
       <div>
        <h5>
         Level:
        </h5>
        <span>
         <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?gradeType=4" title="See other Grades 9-12 projects">
          Grades 9-12
         </a>
        </span>
       </div>
       <div>
        <h5>
         Subject:
        </h5>
        <span>
         <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?subject6=3" title="See other Literature &amp; Writing projects">
          Literature &amp; Writing
         </a>
         <em>
          (in
          <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?subject6=-1" title="See other Literacy &amp; Language projects">
           Literacy &amp; Language
          </a>
          )
         </em>
         <br/>
         <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?subject6=10" title="See other Literacy projects">
          Literacy
         </a>
         <em>
          (in
          <a class="searchLink" href="http://www.donorschoose.org/donors/search.html?subject6=-1" title="See other Literacy &amp; Language projects">
           Literacy &amp; Language
          </a>
          )
         </em>
        </span>
       </div>
       <div id="projectdetails-students-reached">
        <h5>
         Students reached:
        </h5>
        <span>
         20
        </span>
       </div>
       <!-- EXPIRES -->
       <div class="projectdetails-expiration">
        <h5>
         Expiration:
        </h5>
        <span>
         Oct 30, 2007
        </span>
       </div>
       <!-- EXPIRES -->
       <div>
        <h5>
         Project ID:
        </h5>
        <span>
         86486
        </span>
       </div>
       <!-- /IMPACT -->
      </div>
      <div style="clear:both">
      </div>
      <!-- /STATS -->
     </div>
     <div class="moreOrLess">
      <a class="more" href="#" onclick="showLongEssay();showAndSaveMaterialsList(true);return returnFalse();">
       <span>
       </span>
       More
      </a>
      <a class="less" href="#materialsList" onclick="showAndSaveMaterialsList(false);return returnFalse();">
       <span>
       </span>
       Less
      </a>
     </div>
     <script type="text/javascript">
      // TODO: more and less buttons start out hidden; there's a function on proposalResign.jsp
    // which toggles on the more button if appropriate.
        
    function showMaterialsList(show) {
        if ($(".additionalMaterials").length &gt; 0) {
            if (show) {
                //$(".additionalMaterials").show("slide", { direction: "down" }, 1000);
                $(".additionalMaterials").hide().slideToggle("fast");
                $(".additionalDetails").hide().slideToggle("fast");                
                $("#materialsList .more").hide();
                $("#materialsList .less").show();                
                dcAnalytics.trackEventGA(['Project Page', 'Show More Resources']);
            } else {
                //$(".additionalMaterials").hide("slide", { direction: "up" }, 1000);
                $(".additionalMaterials").show().slideToggle("fast"); 
                $(".additionalDetails").show().slideToggle("fast");
                $("#materialsList .more").show();
                $("#materialsList .less").hide();
                location.hash = "#materialsList";
                dcAnalytics.trackEventGA(['Project Page', 'Show Less Resources']);
            }
        }
    }
    
    function showAndSaveMaterialsList(show) {
    	showMaterialsList(show);
    	if (show) {
    		location.hash='#materialsList';
    		addToUserSettings("showMaterialsList");
    	} else {
    		removeFromUserSettings("showMaterialsList");
    	}    	
    	return returnFalse();
    }
     </script>
    </div>
   </div>
   <!-- /MATERIALS -->
   <!-- DONOR MESSAGES -->
   <div id="longDonorMessages">
    <div id="signInInvite" style="display:none">
     <strong>
      Add a Message
     </strong>
     - If you supported this project,
     <a href="https://secure.donorschoose.org/common/signin.html?go=http%3a%2f%2fwww.donorschoose.org%2fdonors%2fproposal.html%3fid%3d86486%23leave_message">
      sign in to add a note
     </a>
     .
    </div>
    <a id="leave_message" name="leave_message">
    </a>
    <div id="proposalMessageForm">
    </div>
    <div style="clear:both">
    </div>
    <a name="lastliveupdate">
    </a>
    <div class="donationMessages" id="donationMessages">
     <div id="donationMessagesLoading">
      <img src="http://cdn.donorschoose.net/images/loading_blue_64.gif"/>
     </div>
    </div>
   </div>
   <div style="clear:both">
   </div>
   <!-- /DONOR MESSAGES -->
   <!-- /DONOR MESSAGES AND MATERIALS -->
   <div class="projectNav">
    <a class="back" href="#" onclick="getNextProject(-1);return returnFalse();">
      Previous project
    </a>
    <a class="next" href="#" onclick="getNextProject(1);return returnFalse();">
     Next project 
    </a>
   </div>
   <!-- /CENTER BODY -->
   <!-- RIGHT_NAV -->
   <!-- /RIGHT_NAV -->
  </div>
  <!-- /INNER_BODY -->
  <!-- /MAIN BODY -->
  <!-- SET VARS FOR DONATION ACQ. TRACKING -->
  <script type="text/javascript">
   /* &lt;![CDATA[ */
var genLandingURL = location.href;




$(document).ready(function() {
    logReferredSiteVisit(genLandingURL);
});
/* ]]&gt; */
  </script>
  <!-- SET VARS FOR DONATION ACQ. TRACKING -->
  <script type="text/javascript">
   var proposalsOnPage = ['86486'];
var teachersOnPage = ['17434'];


// initialize some variables
    var proposalId = 86486;
    var teacherId = 17434;
    var pmaId = qsParam['pmaId']; // qsParam array is defined and populated in util.js
    var pmaHash = qsParam['pmaHash'];
    var verify = qsParam['verify'];
    var queryString = window.location.search.substring(1);
    var displayedPercentFunded = 0.0;
    var utmCampaign = '';

    var proposalMessageFormModel = null;
    var PMsManager = null;
    var DonorPMForm = null;
    var TeacherPMForms = {};
  </script>
  <script type="text/javascript">
   // uses givingCart.html, aka cartAdded.jsp
// include parseJSON and div id=addedProposalId on page

function setDivShim(elem) {
   if( navigator.appName != 'Netscape') {       
       var DivRef = document.getElementById(elem);
       if(DivRef.style.display == "block") {
        $('#'+elem).bgiframe();         
       }
    }
}

// if we see teacherid on the rf param, we'll try to update the challengeId field
function updateChallengeIdFieldBasedOnRFParam(frm) {
	if ($(frm).find("[name=challengeid]").length == 0) {
		var rfParamTeacherId = getRfParamTeacherId();
		if (getTeacherChallengeId() != null &amp;&amp; typeof teacherId != "undefined" &amp;&amp; rfParamTeacherId != null &amp;&amp; parseInt(rfParamTeacherId) != NaN &amp;&amp; parseInt(teacherId) == parseInt(rfParamTeacherId)) {
			$(frm).append('&lt;input type="hidden" name="challengeid" value="'+getTeacherChallengeId()+'"&gt;');
		}
	}
}

// not every page has the teacherChallengeId pre-loaded so try to get it via ajax if needed
function getTeacherChallengeId() {
	if (typeof teacherChallengeId != "undefined") return teacherChallengeId;
	var rfParamTeacherId = (typeof teacherId != "undefined") ? teacherId : getRfParamTeacherId();
	if (rfParamTeacherId == null) return null;
	
	var srcString = baseURL + "/common/json-teacher.html?APIKey="+dcAPIKey+"&amp;teacher="+rfParamTeacherId+"&amp;callback=getTeacherChallengeIdCallback";
    var e = document.createElement("script");
    e.src = srcString;
    e.type="text/javascript";
    document.getElementsByTagName("head")[0].appendChild(e);	
}

function getTeacherChallengeIdCallback(data) {
	window["teacherChallengeId"] = (typeof data != null &amp;&amp; data.hasOwnProperty("teacherChallengeId")) ? data.teacherChallengeId : null;
}

$(document).ready(function() {
	getTeacherChallengeId();
});

// for project page where the form submits directly
function checkDonationAmount(frm) {
    var donAmt = trim(frm.donationAmount.value.replace("$",""));
    donAmt = donAmt.replace(",","");
    frm.donationAmount.value = donAmt;
    var regexp = /^[0-9\.]+$/;
    if (donAmt == "" || donAmt.match(regexp) == null || parseFloat(donAmt) &lt;= 0) {
        showDonationAmountAlert(frm);
        return returnFalse();       
    }
    ga('send', 'event', pageName, 'Donation Amount', frm.proposalid.value, parseInt(frm.donationAmount.value));
    // HEAP TRACKING     
    dcAnalytics.track('Added to Shopping Cart', {
    	'Page Name': pageName,
    	'Add To Cart Price': donAmt,
        'Project Id': parseInt(frm.proposalid.value)
    });    
    updateChallengeIdFieldBasedOnRFParam(frm);
    return true;
}

function ajaxAddToCartSubmit(frm) {
    createCookie('hasCookies','true',0);
    if (readCookie("hasCookies") == null) {
        alert("You must enabled cookies and Javascript to proceed.");
        return false;
    }
    frm.referrer.value = encodeURIComponent(location.href);
    frm.lastSearchURL.value = encodeURIComponent(location.href);
    
                 
    
    
    

    
        
    
    
    
    var donAmt = trim(frm.donationAmount.value.replace("$",""));
    donAmt = donAmt.replace(",","");
    frm.donationAmount.value = donAmt;
    var regexp = /^[0-9\.]+$/;
    if (donAmt == "" || donAmt.match(regexp) == null || parseFloat(donAmt) &lt;= 0) {
        showDonationAmountAlert(frm);
        return returnFalse();       
    } else {
        if ($('.widgetDropdownHolder').css('display') == 'none') {
            frm.widgetStyle.value = "noDropdown";
        } else {
            frm.widgetStyle.value = "dropdown";
        }
        updateChallengeIdFieldBasedOnRFParam(frm);
    
    
    
        urlString = frm.action + "?callback=ajaxAddToCartStatus";
        for (i=0; i&lt; frm.elements.length; i++) {
            if (frm.elements[i].name != null) 
                urlString += "&amp;" + frm.elements[i].name + "=" + frm.elements[i].value;
        }
        var e = document.createElement("script");
        e.src = urlString;
        urlString = urlString.replace('#','');
        e.type="text/javascript";
        e.onerror=function(){toast('There was a problem adding this project to your cart. Please try again later.');};
        frm.style.display = "none";
        document.getElementById("added"+frm.elements["proposalid"].value).innerHTML = '&lt;div align="center"&gt;&lt;img src="http://cdn.donorschoose.net/images/loading_circle.gif" /&gt;&lt;/div&gt;';
        document.getElementsByTagName("head")[0].appendChild(e);        
        dcAnalytics.trackPageViewGA('/cart/add_ajax.html');
        dcAnalytics.trackEventGA([pageName, 'Donation Amount', frm.proposalid.value, parseInt(frm.donationAmount.value)]);
        ga('send', 'event', pageName, 'Donation Amount', frm.proposalid.value, parseInt(frm.donationAmount.value));
        // HEAP TRACKING        
        dcAnalytics.track('Added to Shopping Cart', {
        	'Page Name': pageName,
        	'Add To Cart Price': parseInt(frm.donationAmount.value),
            'Project Id': parseInt(frm.proposalid.value)
        });        
    
    
        return false;
    }
}
function ajaxAddToCartStatus(data) {
    if (data.message.indexOf("Completed!") &gt; -1 || data.message.indexOf("Expired.") &gt; -1) { 
        document.getElementById("added"+data.proposalId).innerHTML = '&lt;div style="float:none;text-align:center;padding:2px 0px;" class="viewMessage"&gt;&lt;b&gt;' + data.message + '&lt;/b&gt;&lt;/div&gt;&lt;div style="clear:both"&gt;&lt;/div&gt;';
    } else {
        document.getElementById("added"+data.proposalId).innerHTML = '&lt;a target="_top" class="viewCart" href="https://secure.donorschoose.org/donors/givingCart.html"&gt;&lt;span&gt;View Cart&lt;/span&gt;&lt;/a&gt;&lt;div style="float:left"&gt;&lt;div style="float:none" class="viewMessage"&gt;' + data.message + '&lt;/div&gt;&lt;div style="float:none" class="viewCheckout"&gt;&lt;a target="_top" href="https://secure.donorschoose.org/donors/givingCart.html"&gt;&lt;span&gt;check out&lt;/span&gt; &lt;img style="width:9px" src="http://cdn.donorschoose.net/images/cart/icon_searchcart_arr.gif"&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style="clear:both"&gt;&lt;/div&gt;';
    }
    if (trim(data.message) != "Added to cart!") {        
        dcAnalytics.trackEventGA([pageName, 'Error - Ajax Add', trim(data.message)]);  
        ga('send', 'event', pageName, 'Error - Ajax Add', trim(data.message));
    }
    updateSessionMiniCartDetails(data.sessionMiniCartDetails);
    if (document.getElementById("wishlist"+data.proposalId)) {
        document.getElementById("wishlist"+data.proposalId).style.display = "none";
    }
    updateWidgetAmounts();

    $("#share" + data.proposalId).hide();
    $(".tooltipTopDouble").hide();
    $(".tooltipTop").hide();    
}

function setDonationAmountDD(frmName,amount) {
    if (amount == 0) {
        document.forms[frmName].donationAmount.value = "";
    } else {
        document.forms[frmName].donationAmount.value = amount;
    }
    try {
        document.forms[frmName].donationAmount.focus();
        document.getElementById(frmName+"DD").style.display = "none";
    } catch(e) {
        //do nothing
    }    
    if (document.forms[frmName].onsubmit()) {
        //ajaxAddToCartSubmit(document.forms[frmName]);
        document.forms[frmName].submit();
    }
}

function updateWidgetAmounts() {
    if (typeof proposalsOnPage != "undefined" &amp;&amp; proposalsOnPage.length &gt; 0) { 
        for (var i in proposalsOnPage) {
            if (proposalsOnPage.hasOwnProperty(i)) {
                changeWidgetsForGiftCode(proposalsOnPage[i]);
            }
        }
    }
    changeQuickDonateWidgetForGiftCode();
}

function changeWidgetsForGiftCodeStyles() {
    var creditsAndGiftCodeAmountDetails = getCreditsAndGiftCodeAmountDetails();
    var cartGiftCodeAmount = creditsAndGiftCodeAmountDetails.total;
    // only show dropdown for gc redeemers &amp;&amp; new donors
    if (readCookie("v") == null || (cartGiftCodeAmount != null &amp;&amp; cartGiftCodeAmount &gt; 0)) {
        if (cartGiftCodeAmount == null) cartGiftCodeAmount = 0;
        $('.widgetDropdown').removeClass('noGC');
        if (cartGiftCodeAmount == 0) {
            $('.widgetDropdown').addClass('noGC');
        }
        $('.widgetDropdownHolder').css({'display':'block'});
        $('.widgetDropdown').css({'margin-left':'-228px'});
        $('#quickDonateDD').css({'margin-left':'0px'});
        $('.ddArrow2').css({'display':'inline'});   
        $('.ddArrow').css({'display':'inline'});    
        $('.dropdownArrow').css({'display':'inline-block'});
        $(".ddInput").addClass("ddInputWithGC");     
    }
}




function changeWidgetsForGiftCode(proposalId) {
    var donationAmountsToTry = new Array(10,25,50,75,100,125,150,200,300,400,500,1000);    
    var cartTotal = currencyToFloat(readCookie("cartTotal"));
    var creditsAndGiftCodeAmountDetails = getCreditsAndGiftCodeAmountDetails();
    var cartGiftCodeAmount = creditsAndGiftCodeAmountDetails.total;
    var creditsString = creditsAndGiftCodeAmountDetails.type;

    // only show dropdown for gc redeemers &amp;&amp; new donors
    changeWidgetsForGiftCodeStyles();
    if (readCookie("v") == null || (cartGiftCodeAmount != null &amp;&amp; cartGiftCodeAmount &gt; 0)) {
        if (cartTotal != null &amp;&amp; cartTotal &gt; 0 &amp;&amp; cartGiftCodeAmount != null &amp;&amp; cartGiftCodeAmount &gt; 0) {
            cartGiftCodeAmount = cartGiftCodeAmount/1 - cartTotal/1;
        }     	
        if (cartGiftCodeAmount == null || cartGiftCodeAmount &lt; 0) cartGiftCodeAmount = 0;
        cartGiftCodeAmount = parseInt(cartGiftCodeAmount);
          
        var amountNeededToComplete = parseInt(($(".togo strong").html()).replace("$","").replace(/,/g,""));
        var widgetName = "simpleWidgetForm";
        var isProjectPage = true;
        
        if ($("#" + proposalId + " .togo strong").html() != null) {
        	amountNeededToComplete =  parseInt(($("#" + proposalId + " .togo strong").html()).replace("$","").replace(/,/g,""));
        	widgetName = "widget" + proposalId;
        	isProjectPage = false;
        }
        if (amountNeededToComplete &gt; 0) {
            var dropdownString = "";
            dropdownString += '&lt;div id="'+widgetName+'DD" class="widgetDropdown" '+(isProjectPage ? 'style="display:none;"' : '')+'&gt;';
            // other amount            
            dropdownString += '&lt;div style="border-bottom:1px solid #a7a7a7"&gt;&lt;a target="_top" onclick="toggleDonationAmountDD(\''+widgetName+'\');document.forms[\''+widgetName+'\'].donationAmount.focus();return returnFalse();" class="on"&gt;other amount&lt;/a&gt;&lt;/div&gt;';

            // gc amount
            if (cartGiftCodeAmount &gt; 0 &amp;&amp; amountNeededToComplete/1 &gt; cartGiftCodeAmount/1) {
            	dropdownString += '&lt;a onclick="'+(isProjectPage ? 'changeWidgetToSpinner();':'')+'setDonationAmountDD(\''+widgetName+'\','+cartGiftCodeAmount+');return returnFalse();" id="'+widgetName+'_amount_'+cartGiftCodeAmount+'" target="_top" class="on"&gt;'+formatCurrency(cartGiftCodeAmount/1, true)+' &lt;em class="on"&gt;('+creditsString+' only)&lt;/em&gt;&lt;/a&gt;';
            }
            
            // donationAmountsToTry
            for (var i=0;i &lt; donationAmountsToTry.length; i++) {
                if (donationAmountsToTry[i] &lt; amountNeededToComplete &amp;&amp; donationAmountsToTry[i] &gt; cartGiftCodeAmount/1) {
                    dropdownString += '&lt;a onclick="'+(isProjectPage ? 'changeWidgetToSpinner();':'')+'setDonationAmountDD(\''+widgetName+'\','+donationAmountsToTry[i]+');return returnFalse();" id="'+widgetName+'_amount_'+donationAmountsToTry[i]+'" target="_top" class="on"&gt;'+formatCurrency(donationAmountsToTry[i], true)+' &lt;em class="on"&gt;('+creditsString+' + ' + formatCurrency(donationAmountsToTry[i]/1 - cartGiftCodeAmount/1, true) + ' donation)&lt;/em&gt;&lt;/a&gt;';
                }
            }
            // fully funding amount
            if (amountNeededToComplete/1 &lt;= cartGiftCodeAmount/1) {
                dropdownString += '&lt;a onclick="'+(isProjectPage ? 'changeWidgetToSpinner();':'')+'setDonationAmountDD(\''+widgetName+'\','+amountNeededToComplete+');return returnFalse();" id="'+widgetName+'_amount_complete" target="_top" class="on"&gt;'+formatCurrency(amountNeededToComplete/1, true)+' complete! &lt;em class="on"&gt;(' + formatCurrency(cartGiftCodeAmount/1-amountNeededToComplete/1, true) + ' credit will remain)&lt;/em&gt;&lt;/a&gt;';
            } else {
                dropdownString += '&lt;a onclick="'+(isProjectPage ? 'changeWidgetToSpinner();':'')+'setDonationAmountDD(\''+widgetName+'\','+amountNeededToComplete+');return returnFalse();" id="'+widgetName+'_amount_complete" target="_top" class="on"&gt;'+formatCurrency(amountNeededToComplete/1, true)+' complete! &lt;em class="on"&gt;('+creditsString+' + ' + formatCurrency(amountNeededToComplete/1-cartGiftCodeAmount/1, true) + ' donation)&lt;/em&gt;&lt;/a&gt;';
            }
            dropdownString += '&lt;/div&gt;';
            
            // append string to dom element
            if (isProjectPage) {
            	$(".widgetDropdownHolder").html($(dropdownString));
            } else {
            	$("#" + proposalId + " .widgetDropdownHolder").html($(dropdownString));
            }
        }
        if (cartGiftCodeAmount == 0) {
            $(".widgetDropdownHolder em").hide();
        }         
    } else {
    	
        $('.widgetDropdown').css({'margin-left':'0px'});
        $('.widgetDropdownHolder').css({'display':'none'});
        $('.ddArrow2').css({'display':'none'});   
        $('.ddArrow').css({'display':'none'});    
        $('.dropdownArrow').css({'display':'none'});
        $(".ddInput").removeClass("ddInputWithGC");
        
    }
}


function changeQuickDonateWidgetForGiftCode() {
	changeWidgetsForGiftCodeStyles();
    var donationAmountsToTry = new Array(10,25,50,75,125,150,200,300,400,500,1000);
    var cartTotal = readCookie("cartTotal");
    var creditsAndGiftCodeAmountDetails = getCreditsAndGiftCodeAmountDetails();
    var cartGiftCodeAmount = creditsAndGiftCodeAmountDetails.total;
    var creditsString = creditsAndGiftCodeAmountDetails.type;
    if (cartTotal != null &amp;&amp; cartTotal &gt; 0 &amp;&amp; cartGiftCodeAmount != null &amp;&amp; cartGiftCodeAmount &gt; 0) {
        cartGiftCodeAmount = cartGiftCodeAmount/1 - cartTotal/1;
    }    
    if (cartGiftCodeAmount != null &amp;&amp; cartGiftCodeAmount &gt; 0) {    	
        if (document.getElementById('quickDonateDD') != null) { document.getElementById('quickDonateDD').style.width="300px"; }
        try {
            document.getElementById('quickDonate_amount_code').innerHTML = '$'+cartGiftCodeAmount+' &lt;em&gt;('+creditsString+' only)&lt;/em&gt;';
            document.getElementById('quickDonate_amount_code').onclick = function() { setDonationAmountDD('quickDonate',cartGiftCodeAmount/1);if('undefined' != typeof(event) )event.returnValue = false;return false; };
            document.getElementById('quickDonate_option_code').style.display='block';
        } catch(error) { }        
        for (var i=0; i &lt; donationAmountsToTry.length; i++) {
            if (document.getElementById('quickDonate_option_'+donationAmountsToTry[i]) != null) {
                try { 
                    if (cartGiftCodeAmount/1 == donationAmountsToTry[i]) {
                        document.getElementById('quickDonate_option_code').style.display='none';
                    }
                    if (cartGiftCodeAmount/1 &gt; donationAmountsToTry[i]) {
                        document.getElementById('quickDonate_option_'+donationAmountsToTry[i]).style.display = 'none';
                    } else if (cartGiftCodeAmount/1 == donationAmountsToTry[i]) {
                        document.getElementById('quickDonate_option_'+donationAmountsToTry[i]).style.display = 'block';
                        document.getElementById('quickDonate_amount_'+donationAmountsToTry[i]).innerHTML = '$'+donationAmountsToTry[i]+' &lt;em&gt;('+creditsString+' only)&lt;/em&gt;';
                    } else {
                        document.getElementById('quickDonate_option_'+donationAmountsToTry[i]).style.display = 'block';
                        document.getElementById('quickDonate_amount_'+donationAmountsToTry[i]).innerHTML = '$'+donationAmountsToTry[i]+' &lt;em&gt;('+creditsString+' + $' + (donationAmountsToTry[i]/1-cartGiftCodeAmount/1) + ' donation)&lt;/em&gt;';
                    }
                } catch(error) {
                    // alert("error");
                }
            }
        }
    } else {
        // check whether this menu needs to be changed back
        if (document.getElementById('quickDonateDD') &amp;&amp; document.getElementById('quickDonateDD').style.width=="300px") {
            try {
                document.getElementById('quickDonate_option_code').style.display='none';
                document.getElementById('quickDonateDD').style.width="150px";
                var donationAmountsToTry = new Array(10,25,50,75,100,125,150,200,300,400,500,1000);
                for (var i = 0; i &lt; donationAmountsToTry.length; i++) {
                    try {
                        document.getElementById('quickDonate_option_'+donationAmountsToTry[i]).style.display = 'block';
                        document.getElementById('quickDonate_amount_'+donationAmountsToTry[i]).innerHTML = '$'+donationAmountsToTry[i];
                    } catch(error) { }
                }
            } catch(error) { }
        }
    }
}

function openDonationAmountDD(frmName) {
    if (document.forms[frmName].donationAmount.value == "$" || document.forms[frmName].donationAmount.value == "any amount") {
        document.forms[frmName].donationAmount.value = "";
    }
    $('.widgetDropdown').css('display','none');
    if (document.getElementById(frmName+"DD") == null) {
        return;
    }
        document.getElementById(frmName+"DD").style.display = "block";  
        setDivShim(frmName+"DD");
        if (document.forms[frmName].donationAmount.value == "") {
            var els = document.getElementById(frmName+"DD").getElementsByTagName("a");
            var elsTrimmed = new Array();
            for (i=0;i&lt;els.length;i++) {
                if (els[i].style.display != "none") {
                    elsTrimmed.push(els[i]);
                }
            }
            els = elsTrimmed;
            if (els.length &gt; 0) els[0].className = "on";
            for (i=0;i&lt;els.length;i++) {
                els[i].onmouseover = function(e) {
                    for (j=0;j&lt;els.length;j++) {
                        els[j].className = "";
                    }
                    var targ;
                    if (!e) var e = window.event;
                    if (e.target) targ = e.target;
                    else if (e.srcElement) targ = e.srcElement;
                    if (targ.nodeType == 3) // defeat Safari bug
                        targ = targ.parentNode;
                    targ.className = "on";      
                }
            }
            document.forms[frmName].donationAmount.onkeydown = function(e) {
                if (document.getElementById(frmName + "DD").style.display != "none") {
                    var keycode;
                    if (window.event) keycode = window.event.keyCode;
                    else if (e) keycode = e.which;              
                    
                    var selectedPrice = 0;
                    for (j=0;j&lt;els.length;j++) {
                        if (els[j].className == "on") {
                            selectedPrice = j;
                        }
                    }
                    if (keycode == 13) {
                        if (selectedPrice != null &amp;&amp; els[selectedPrice].getAttribute("onclick") != null) {
                            if (typeof(els[selectedPrice].getAttribute("onclick")) == "string") {
                                eval(els[selectedPrice].getAttribute("onclick").replace("return false;",""));
                            } else {
                                var fnAttr = els[selectedPrice].getAttribute("onclick");
                                fnAttr();
                            }
                        }
                        document.forms[frmName].donationAmount.focus(); 
                        document.getElementById(frmName + "DD").style.display = "none";
                        setDivShim(frmName+"DD");
                        return false;
                    }  else if (keycode == 40) { // down arrow
                        if (selectedPrice != null &amp;&amp; selectedPrice &lt; els.length - 1) {
                            els[selectedPrice].className = "";
                            els[selectedPrice+1].className = "on";
                        } else if (selectedPrice != null) {
                            els[selectedPrice].className = "";
                            els[0].className = "on";
                        }
                    }  else if (keycode == 38) { // up arrow
                        if (selectedPrice != null &amp;&amp; selectedPrice &gt; 0) {
                            els[selectedPrice].className = "";
                            els[selectedPrice-1].className = "on";
                        } else if (selectedPrice != null) {
                            els[selectedPrice].className = "";
                            els[els.length - 1].className = "on";
                        }                   
                    } else {
                        document.getElementById(frmName + "DD").style.display = "none";
                        setDivShim(frmName+"DD");
                    }
                }            
            }        
        }    
}



function toggleDonationAmountDD(frmName) {
    if (document.forms[frmName].donationAmount.value == "$" || document.forms[frmName].donationAmount.value == "any amount") {
        document.forms[frmName].donationAmount.value = "";
    }
    /*
    if ($('.widgetDropdownHolder').css('display') == 'none') {
    	ajaxAddToCartSubmit(document.forms[frmName]);
    }
    */
    if (document.getElementById(frmName+"DD")) {
	    if (!$("#" + frmName+"DD").is(":visible")) {
	        openDonationAmountDD(frmName);
	        setDivShim(frmName+"DD");            
	    } else {
	        document.getElementById(frmName+"DD").style.display = "none";   
	        setDivShim(frmName+"DD");       
	    }  
    }
}

$(document).bind("click.widgetDropdown",function(e) {
    var evt = (e)?e:event;
    var theElem = (evt.srcElement)?evt.srcElement:evt.target;
    if (!$(theElem).hasClass('ddInput') &amp;&amp; !$(theElem).hasClass('ddArrow')) {
        $(".widgetDropdown").hide();
    }
    return true;
});

if(typeof initNewDDs == 'function') {
    initNewDDs();
}
if(typeof initReturnDDs == 'function') {
    initReturnDDs();
}
  </script>
  <script type="text/javascript">
   $(document).ready(function() {
    if (readCookie("v") != null) { 
        $('head').append('&lt;link rel="stylesheet" href="http://cdn.donorschoose.net/styles/returnDonor.css?version=844904d" type="text/css" /&gt;');
    }
});

$(window).on("miniCartUpdated.updateWidgetAmounts",function() {
	updateWidgetAmounts(); 
});

$(window).on("signoutTriggered.updateWidgetAmounts",function() {
	updateWidgetAmounts();
	$(".addToCart form").show();
	$(".addToCart input[name=donationAmount]").val("");
	$(".actions .share").show();
	$(".addToCart .added").empty();
});
  </script>
  <div id="addToChallengeSigninContainer" style="display:none">
   <iframe id="addToChallengeSigninIframe" name="addToChallengeSigninIframe">
   </iframe>
   <form action="https://secure.donorschoose.org/common/signin.html" id="addToChallengeSignin" method="post" name="addToChallengeSignin" onsubmit="return validateAddToChallengeSignin()" target="addToChallengeSigninIframe">
    <div style="padding-top:10px">
     Please sign in:
    </div>
    <input autocomplete="off" name="email" placeholder="email" style="width:170px" type="email"/>
    <div id="addToChallengePassword">
     <input autocomplete="off" disabled="disabled" id="addToChallengePasswordField" name="password" style="width:170px;display:none" type="password" value=""/>
     <input autocomplete="off" class="textFieldWithInnerLabel" id="addToChallengePasswordFieldFAKE" name="passwordFAKE" onfocus="resetPasswordFieldWithInnerLabel(this.id)" style="width:170px;color:#999999;" type="text" value="password"/>
     <div style="font-size:11px;">
      (
      <a href="https://secure.donorschoose.org/donors/forgot_password.html">
       forgot password
      </a>
      )
     </div>
    </div>
    <div style="text-align:right">
     <input name="followSubmit" type="submit" value="submit"/>
    </div>
   </form>
   <div id="addToChallengeSigninLoading" style="text-align:center">
    <img src="http://cdn.donorschoose.net/images/loading_circle.gif"/>
   </div>
  </div>
  <script type="text/javascript">
   var addToChallengeProposalId = ((typeof proposalId != "undefined") ? proposalId:null);
var addToChallengeVerify = null;
var addToChallengeId = null;

var donorChallenges = null;

function getAddToChallengeSigninString() {
    
    var addToChallengeSignin = '&lt;form method="post" id="addToChallengeSignin" name="addToChallengeSignin" action="https://secure.donorschoose.org/common/signin.html" target="addToChallengeSigninIframe" onsubmit="return validateAddToChallengeSignin()"&gt;';
    addToChallengeSignin += '&lt;div style="padding-top:10px"&gt;Please sign in:&lt;/div&gt;';
    addToChallengeSignin += '&lt;input style="width:170px" type="text" name="email" placeholder="email" autocomplete="off" /&gt;';
    addToChallengeSignin += '&lt;div id="addToChallengePassword"&gt;&lt;input style="width:170px;display:none" id="addToChallengePasswordField" type="password" name="password" value="" disabled="disabled"  autocomplete="off" /&gt;';
    addToChallengeSignin += '&lt;input style="width:170px;color:#999999" id="addToChallengePasswordFieldFAKE" type="text" name="passwordFAKE" value="password" class="textFieldWithInnerLabel" onfocus="resetPasswordFieldWithInnerLabel(this.id)" autocomplete="off" /&gt;'; 
    addToChallengeSignin += '&lt;div style="font-size:11px;"&gt;(&lt;a href="'+secureBaseURL+'donors/forgot_password.html"&gt;forgot password&lt;/a&gt;)&lt;/div&gt;&lt;/div&gt;';
    addToChallengeSignin += '&lt;div style="text-align:right"&gt;&lt;input type="submit" name="followSubmit" value="submit" /&gt;&lt;/div&gt;';
    addToChallengeSignin += '&lt;/form&gt;';
    
    return addToChallengeSignin;
}

function validateAddToChallengeSignin() {
    $("#addToChallengeSigninIframe").unbind("load.signin");
    document.addToChallengeSignin.action += "?go=" + encodeURIComponent(location.href); 
    $("#addToChallengeSignin").after($("#addToChallengeSigninLoading"));
    $("#addToChallengeSigninContainer").append($("#addToChallengeSignin"));
    $("#addToChallengeSigninIframe").bind("load.signin",function() {
        setUpUserCookies();
        showSignOutLink();
        doAddToChallenge(addToChallengeProposalId,addToChallengeId,addToChallengeVerify);           
    });
    return true;
}

function validateSaveSearchToChallengeSignin() {
    $("#addToChallengeSigninIframe").unbind("load.signin");
    document.addToChallengeSignin.action += "?go=" + encodeURIComponent(location.href); 
    $("#addToChallengeSignin").after($("#addToChallengeSigninLoading"));
    $("#addToChallengeSigninContainer").append($("#addToChallengeSignin"));
    $("#addToChallengeSigninIframe").bind("load.signin",function() {
        setUpUserCookies();
        showSignOutLink();
        saveSearchToChallenge();
    });
    return true;
}

function setupChallengeLinks(proposalId,verify) {   
    var challengesString = "";
    verify = ((verify != null &amp;&amp; verify != "") ? verify : "null");    
    $.when(getFavList("myGPs")).then(function(favList) { 
    	// make sure donorChallenges is updated from localStorage
        donorChallenges = favList;
	    for (i=0;i&lt;donorChallenges.length;i++) {	    	
	        challengesString += '&lt;a href="#" onclick="doAddToChallenge('+proposalId+','+donorChallenges[i].id+','+verify+');return returnFalse();" &gt;' + decodeURIComponent(donorChallenges[i].title) + '&lt;/a&gt;&lt;/div&gt;';
	    }
	    document.getElementById("addToChallenge"+proposalId).innerHTML = challengesString;
	    document.getElementById("addToChallenge"+proposalId).style.display = "block";	    
    });    
}

function closeAddToChallenge(elName) {
    document.getElementById(elName).style.display = "none";
}

function doAddToChallenge(proposalId,challengeId,verify) {
    if (!isLoggedIn()) {
        if ($("#addToChallengeSignin").length == 0) {
            $("#addToChallengeSigninContainer").append(getAddToChallengeSigninString());
        } 
        document.getElementById("addToChallengeSignin").onsubmit = validateAddToChallengeSignin;
        $("#addToChallenge"+proposalId).append($("#addToChallengeSignin"));
        $("#addToChallenge"+proposalId).addClass("addToChallengeSignin");
        addToChallengeProposalId = proposalId;
        addToChallengeVerify = verify;
        addToChallengeId = challengeId;    
    } else if (donorChallenges == null || donorChallenges.length == 0) {
        document.getElementById("addToChallenge"+proposalId).innerHTML = '&lt;div class="message"&gt;First, please &lt;a href="../donors/createChallenge.html"&gt;create a Giving Page&lt;/a&gt;.&lt;/div&gt;';
        document.getElementById("addToChallenge"+proposalId).style.display = "block";
    } else {
        addToChallenge(proposalId,challengeId,verify);   
    }
    
}

function addToChallenge(proposalId,challengeId,verify) {
    if (document.getElementById("addToChallenge"+proposalId)) document.getElementById("addToChallenge"+proposalId).style.display = "none";
    document.getElementById("addToChallSuccess"+proposalId).innerHTML = '&lt;div align="center"&gt;&lt;br /&gt;&lt;img src="http://cdn.donorschoose.net/images/loading_circle.gif" /&gt;&lt;/div&gt;';
    document.getElementById("addToChallSuccess"+proposalId).style.display = "block";
    var urlString = secureBaseURL + "donors/add_to_challenge_json.html?proposalId="+proposalId+"&amp;challengeId="+challengeId+"&amp;callback=addToChallengeStatus";
    if (verify != null)  urlString += "&amp;verify=" + verify;
    var e = document.createElement("script");
    e.src = urlString;
    e.type="text/javascript";
    document.getElementsByTagName("head")[0].appendChild(e);    
    try {
        if ('project' != '') {
            dcAnalytics.trackEventGA(['project', 'Link', 'Add to Giving Page']);     
        } 
    } catch (e) {
        // do nothing
    }   
}

function addToChallengeStatus(obj) {    
    if (obj.message) {
        document.getElementById("addToChallSuccess"+obj.proposalId).innerHTML = "&lt;p&gt;" + obj.message + "&lt;/p&gt;";
        document.getElementById("addToChallSuccess"+obj.proposalId).style.display = "block";
    } else {
        document.getElementById("addToChallSuccess"+obj.proposalId).innerHTML = "Successfully added!";
        document.getElementById("addToChallSuccess"+obj.proposalId).style.display = "block";
    }      
    document.getElementById("addToChallenge"+obj.proposalId).style.display = "block";
}

function saveSearchToChallenge() {
	$.when(getFavList("myGPs")).then(function(favList) {
        // make sure donorChallenges is updated from localStorage
        donorChallenges = favList;	
	    if (!isLoggedIn()) {
	        if ($("#addToChallengeSignin").length == 0) {
	            $("#addToChallengeSigninContainer").append(getAddToChallengeSigninString());
	        }       
	        document.getElementById("addToChallengeSignin").onsubmit = validateSaveSearchToChallengeSignin;
	        if ($("#saveSearchToChallengeList").is(":empty")) $("#saveSearchToChallengeList").append($("#addToChallengeSignin"));
	        $("#saveSearchToChallengeList").addClass("addToChallengeSignin");
	        $("#saveSearchToChallengeList").show();            
	    } else if (donorChallenges.length == 1) {
	        doSaveSearchToChallenge(donorChallenges[0].id);
	    } else {
	        var challengesString = "";
	        for (i=0;i&lt;donorChallenges.length;i++) {
	            challengesString += '&lt;a href="#" onclick="doSaveSearchToChallenge('+donorChallenges[i].id+');return returnFalse();" &gt;' + decodeURIComponent(donorChallenges[i].title) + '&lt;/a&gt;&lt;br /&gt;';
	        }   
	        document.getElementById("saveSearchToChallengeList").innerHTML = challengesString;
	        document.getElementById("saveSearchToChallengeList").style.display = "block";
	    }
    });
}

function doSaveSearchToChallenge(challengeId) {
    document.getElementById("saveSearchToChallengeForm").elements["backfillURL"].value = searchURLString;
    document.getElementById("saveSearchToChallengeLink").className = "loading";
    document.getElementById("saveSearchToChallengeList").style.display = "none";
    document.saveSearchToChallengeForm.id.value = challengeId;
    if (document.getElementById("followIframe")) {
        var wiEl = document.getElementById("followIframe");
        wiEl.parentNode.removeChild(wiEl);  
    }
    followIframe = document.createElement('iframe');
    followIframe.setAttribute("id","followIframe");
    followIframe.setAttribute("name","followIframe");
    followIframe.setAttribute("width","0");
    followIframe.setAttribute("height","0");
    followIframe.setAttribute("frameBorder","0");
    document.body.appendChild(followIframe);        
    document.saveSearchToChallengeForm.target = "followIframe";
    document.saveSearchToChallengeForm.submit();
}

function saveSearchToChallengeStatus(status) {
    document.getElementById("saveSearchToChallengeLink").className = "";
    if (status == "success") { 
        toast("Success!"); 
        // if (donorChallenges.length == 1) document.getElementById("saveSearchToChallengeLink").style.display = "none";
    }
    else if (status == "signinRequired") toast("Please sign into your account to use this feature.");
    else if (status == "noChallenge") toast("The giving page could not be found.");
}

function getIframeBody(id) {
    var el = getContentDocument(id);
    if (el.src != "javascript:false") {
        eval(el.body.innerHTML);
    }
}

function getSaveToAction(el) {
    var proposalId = $(el).data("proposalid");
    var proposalHash = $(el).data("proposalhash");
    if (donorChallenges != null &amp;&amp; donorChallenges.length &gt; 0) {
       dcAnalytics.trackEventGA(['Save To', pageName]);
       if ($('#followBar' + proposalId).css("display") == "none") {
           setupChallengeLinks(proposalId,proposalHash);
       }
       toggleAddTo(proposalId);
    } else {
        addToWishlist(proposalId,proposalHash,"saveForLater" + proposalId); 
    }
}

function updateSaveToStyle() {	
	$.when(getFavList("myGPs")).then(function(favList) {
        // make sure donorChallenges is updated from localStorage			
		donorChallenges = favList;
        if (donorChallenges != null &amp;&amp; donorChallenges.length &gt; 0) { 
			$('head').append('&lt;link type="text/css" rel="stylesheet" href="'+baseCacheURL+'gcss/saveForLaterSignedIn.css?version=844904d" /&gt;');		
		} else {
	        $('head').append('&lt;link type="text/css" rel="stylesheet" href="'+baseCacheURL+'gcss/saveForLater.css?version=844904d" /&gt;');
	    }
        
    });
}

$(document).ready(function() {
    $(document).bind('click.saveSearchToChallengeCloser', function(ev){
        if ($(ev.target).closest("#saveSearchToChallengeList").length == 0 &amp;&amp; $(ev.target).closest("#saveSearchToChallengeLink").length == 0) {
            $("#saveSearchToChallengeList").hide();
        }
    });    
    $(document).bind('loginAttempted', function(e){
        updateSaveToStyle();
    });
    $(document).on("updateFavoritesCookie",function() {
    	updateSaveToStyle();
    });    
    updateSaveToStyle();
});
  </script>
  <script crossorigin="anonymous" src="http://cdn.donorschoose.net/js/jquery/jquery.history.js?v=844904d" type="text/javascript">
  </script>
  <script crossorigin="anonymous" src="http://cdn.donorschoose.net/js/dc/project.js?version=844904d" type="text/javascript">
  </script>
  <script type="text/javascript">
   &lt;!--
var addToFbAsyncInit = function() {
 FB.Event.subscribe('edge.create', function(href, widget) {
    dcAnalytics.trackEventGA(['Project Page','FB Like']);
 });
};


$("body").on("googlePlusLoaded", function() {
    if (qsParam["clickShareButton"] != null || qsParam["sharebar"] != null) {
        toggleShare(proposalId);
    }
});


$(document).ready(function() {
    if (qsParam["utm_campaign"] != null &amp;&amp; qsParam["utm_campaign"].substring(0,4) === "mmi_") {
        if (false) {
            dcAnalytics.trackEventGA(['Project Page','MMiEmail','Completed']);
        } else {
            dcAnalytics.trackEventGA(['Project Page','MMiEmail','Live']);
        }
    }


});

//--&gt;
  </script>
  <script src="http://cdn.donorschoose.net/js/dojo/dc/layers/ProposalMessages.js?version=844904dxx" type="text/javascript">
  </script>
  <script type="text/javascript">
   // setting up the Dojo configuration
        var dojoConfig = {
            async: true,
            isDebug: true,
            baseUrl: "http://www.donorschoose.org/js/dojo/dojo-release-1.8.1/dojo/",
            packages: [
                {"name": "proposal", "location":"http://www.donorschoose.org/js/dojo/dc/proposal"}
            ]
        }
  </script>
  <script type="text/javascript">
   require(["dojo/_base/lang", "proposal/ProposalMessagesManager", "dojo/Deferred", "dojo/_base/array", "dojo/domReady!"],

            function(lang, ProposalMessagesManager, Deferred, array) {

                // load the messages
                var args = {
                    "proposalId": proposalId,
                    "teacherId": teacherId,
                    "proposalMessagesDiv": document.getElementById("donationMessages"),
                    "baseURL": baseURL,
                    "baseCacheURL": baseCacheURL,
                    "pmaIdParameter": pmaId,
                    "pmaHashParameter": pmaHash,
                    "verifyParameter": verify,
                    "queryString": queryString
                };
                var deferred = new Deferred();
                PMsManager = new ProposalMessagesManager(args, deferred);

                deferred.then(function(results) {

                    if (displayedPercentFunded &lt;= 0) {
                        return;
                    }

                    // set ity and dty salutation to use donor's name
                    var pmAuthors = new Array();
                    pmAuthors['17434'] = 'Jeanette';
                    

                    if (userId != "" &amp;&amp; parseInt(userId) != teacherId  &amp;&amp; pmAuthors[userId] != null) {
                        $(".titleAndMessage .salutation").html("Dear " + pmAuthors[userId] + ",");
                    }
                    var authorIds = PMsManager.getPermittedMessageAuthorIds();

                    // scroll to element in url hash. done manually here in case this element was
                    // dynamically loaded just now.
                    if (window.location.hash.length &gt; 1 &amp;&amp; document.getElementById(window.location.hash.substring(1))) {
                        document.getElementById(window.location.hash.substring(1)).scrollIntoView();
                    } else if (qsParam["lightbox"] != null) {
                    	try {
                    		document.getElementById(qsParam["lightbox"]).scrollIntoView();
                    	} catch(e) {
                    		// if the id is missing, skip it
                    	}
                    }

                    if (!shouldWeQueryTheServerForProposalMessageFormModel(authorIds, pmaId, pmaHash)) {
                        if ((cookiesIndicateThatUserIsPartiallyAuthenticated() &amp;&amp; array.indexOf(authorIds, userId) &gt; -1) || userCameToPageFromTYPCoverLetter(utmCampaign)) {
                            $("#signInInvite").show();
                        }
                        return;
                    }

                    // using DWR's JSONP mechanism (here and in other parts of the code) instead of loader.js to ensure the form shows
                    // up if i login-as-a-user and then view a project that user donated to. if the query below is made against baseURL
                    // the server has a different session than if the query is made against secureBaseURL. in the first case, the user
                    // associated with the session is me, so the form doesn't show, because i didn't donate to the project. in the second
                    // case, the user associated with the session is the user i logged in as, and the form shows. it is not possible to
                    // specify the host against which you wish requests to be made in loader.js.

                    // also, note that we are encoding the hash. this is because DWR double-decodes parameters when a GET request is made via
                    // the DWR JSONP mechanism (see bug report http://directwebremoting.org/jira/browse/DWR-598). if a user is viewing this
                    // page with a valid hash parameter, then they probably came via a link in an email, in which case it is already single-
                    // encoded. thus, we need to encode it one more time, so that when it arrives in our Java code it is in its proper form.
                    // this bug will be fixed in version 3.0 RC3.

                    var url = secureBaseURL + 'dwr/jsonp/ProposalMessageWebService/getProposalMessageFormModel?param0=' + this.proposalId;
                    if (pmaId) { url += '&amp;param1=' + pmaId; }
                    if (pmaHash) { url += '&amp;param2=' + encodeURIComponent(pmaHash); }

                    $.get(
                        url, {},
                        lang.hitch(this, function (response) {
                            if (response.reply.success) {
                                proposalMessageFormModel = response.reply.data;
                                if (proposalMessageFormModel) {
                                    var isUserTheTeacher = proposalMessageFormModel.author.type == 'T';
                                    if (!isUserTheTeacher) {
                                        renderDonorProposalMessageForm(proposalMessageFormModel, document.getElementById("proposalMessageForm"));
                                    } else {
                                        PMsManager.showReplyButtons();
                                    }
                                }
                            }
                            $("#lightboxBackgroundOpacity").height(getDocHeight() + 40);
                        }),
                        'jsonp'
                    );

                });
            }

        );
  </script>
  <!-- /PAGESCRIPTS -->
  <!-- FOOTER -->
  <div id="mainFooter">
   <div class="footer-container">
    <div class="fluid-container">
     <div class="mobile" id="footer-mobile-links">
      <a class="button-redux secondary small" href="http://help.donorschoose.org/" target="_top">
       Help center
      </a>
      <ul>
       <li>
        <a href="http://www.donorschoose.org/donors/search.html" target="_top">
         Find a project
        </a>
       </li>
       <li>
        <a href="http://www.donorschoose.org/donors/giftoptions.html" target="_top">
         Gift cards
        </a>
       </li>
       <li>
        <a href="http://www.donorschoose.org/monthly" target="_top">
         Donate monthly
        </a>
       </li>
       <li>
        <a href="http://help.donorschoose.org/hc/en-us/articles/202002793" target="_top">
         Support us
        </a>
       </li>
      </ul>
      <ul>
       <li>
        <a href="http://www.donorschoose.org/about" target="_top">
         About us
        </a>
       </li>
       <li>
        <a href="http://www.donorschoose.org/careers" target="_top">
         Join our team
        </a>
       </li>
       <li>
        <a href="http://www.donorschoose.org/communities" target="_top">
         Communities
        </a>
       </li>
       <li>
        <a href="http://www.donorschoose.org/blog/" target="_top">
         Blog
        </a>
       </li>
       <li>
        <a href="http://www.donorschoose.org/common/contact_landing.html" target="_top">
         Contact us
        </a>
       </li>
      </ul>
     </div>
     <!--#footer-mobile-links-->
     <div class="col col6">
      <div id="footerSummary">
       <h5>
        Supporting teachers and students since2000
       </h5>
       <p>
        DonorsChoose.org makes it easy for anyone to help a classroom in need.  Public school teachers from every corner of America create classroom project requests, and you can give any amount to the project that inspires you.
       </p>
       <div class="stats">
       </div>
      </div>
     </div>
     <div class="desktop" id="footerLinks">
      <div class="col col2">
       <h5>
        About Us
       </h5>
       <ul>
        <li>
         <a href="http://www.donorschoose.org/about" target="_top">
          How it works
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/about/story.html" target="_top">
          Our story
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/about/finance.html" target="_top">
          Transparency
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/about/meet_the_team.html" target="_top">
          Staff &amp; Board
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/careers" target="_top">
          Join our team
         </a>
        </li>
       </ul>
      </div>
      <div class="col col2">
       <h5>
        Ways to give
       </h5>
       <ul>
        <li>
         <a href="http://www.donorschoose.org/donors/search.html" target="_top">
          Find a project
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/donors/giftoptions.html" target="_top">
          Gift cards
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/monthly" target="_top">
          Donate monthly
         </a>
        </li>
        <li>
         <a href="http://help.donorschoose.org/hc/en-us/articles/202002793" target="_top">
          Support us
         </a>
        </li>
       </ul>
      </div>
      <div class="col col2">
       <h5>
        Connect
       </h5>
       <ul>
        <li>
         <a href="http://help.donorschoose.org/" target="_top">
          Help center
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/communities" target="_top">
          Communities
         </a>
        </li>
        <li>
         <a href="http://help.donorschoose.org/hc/en-us/articles/202002833-Information-about-DonorsChoose-org-for-the-media-and-press" target="_top">
          Media
         </a>
         /
         <a href="http://www.donorschoose.org/blog/" target="_top">
          Blog
         </a>
        </li>
        <li>
         <a href="http://data.donorschoose.org/docs/overview" target="_top">
          API &amp; open data
         </a>
        </li>
        <li>
         <a href="http://www.donorschoose.org/common/contact_landing.html" target="_top">
          Contact us
         </a>
        </li>
       </ul>
      </div>
     </div>
    </div>
    <div class="fluid-container">
     <div class="col col6">
      <div id="footer-teacher-link">
       <p>
        Are you a teacher in need of funding?
        <a href="http://www.donorschoose.org/teachers">
         Start your first project 
        </a>
       </p>
      </div>
     </div>
     <div class="col col6">
      <div id="footer-share-links">
       <ul>
        <li>
         <a class="fa fa-twitter" href="http://twitter.com/DonorsChoose" onclick="dcAnalytics.trackEventGA(['Footer','Links', 'Twitter']);" target="_top">
         </a>
        </li>
        <li>
         <a class="fa fa-facebook" href="https://www.facebook.com/DonorsChoose" onclick="dcAnalytics.trackEventGA(['Footer','Links', 'Facebook']);" target="_top">
         </a>
        </li>
        <li>
         <a class="fa fa-google-plus" href="https://plus.google.com/113100650355461881905?prsrc=3" onclick="dcAnalytics.trackEventGA(['Footer','Links', 'GooglePlus']);" rel="author" target="_top">
         </a>
        </li>
        <li>
         <a class="fa fa-instagram" href="http://instagram.com/donorschoose" onclick="dcAnalytics.trackEventGA(['Footer','Links', 'Instagram']);" target="_top">
         </a>
        </li>
        <li>
         <a class="fa fa-pinterest-square" href="http://pinterest.com/DonorsChoose/" onclick="dcAnalytics.trackEventGA(['Footer','Links', 'Pinterest']);" target="_top">
         </a>
        </li>
       </ul>
      </div>
     </div>
    </div>
    <div id="footer-supporters">
     <div class="footer-container">
      <h5>
       Open to every public school in America thanks to
       <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
        our partners
       </a>
      </h5>
      <div class="fluid-container top-tier desktop" id="footer-partner-logos">
       <div class="col col2 col-offset4">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-west-chevron" data-track='{ "type":"footer logo", "sponsor" : { "region": "West", "sponsor": "Chevron" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-west-google" data-track='{ "type":"footer logo", "sponsor" : { "region": "West", "sponsor": "Google" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
      </div>
      <div class="fluid-container second-tier desktop">
       <div class="col col2 col-offset1">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-staples" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "Staples" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-west-kia" data-track='{ "type":"footer logo", "sponsor" : { "region": "West", "sponsor": "Kia" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-west-gates" data-track='{ "type":"footer logo", "sponsor" : { "region": "West", "sponsor": "BillMelindaGatesFoundation" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-west-codedotorg" data-track='{ "type":"footer logo", "sponsor" : { "region": "West", "sponsor": "Codeorg" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-pwc" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "pwc" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
      </div>
      <div class="fluid-container third-tier desktop">
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-west-disney" data-track='{ "type":"footer logo", "sponsor" : { "region": "West", "sponsor": "Disney" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-west-paulgallen" data-track='{ "type":"footer logo", "sponsor" : { "region": "West", "sponsor": "PaulGAllen" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-sonic" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "Sonic" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-horacemann" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "HoraceMann" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-3m" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "3M" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-mff" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "MFF" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
      </div>
      <div class="fluid-container third-tier desktop" id="footer-partner-logos">
       <div class="col col2 col-offset4">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-burlington" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "Burlington" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
       <div class="col col2">
        <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
         <div class="footer-logo logo-east-ncaa" data-track='{ "type":"footer logo", "sponsor" : { "region": "East", "sponsor": "NCAA" } }' data-track-no-click="true">
         </div>
        </a>
       </div>
      </div>
     </div>
     <h6 class="desktop">
      <a href="http://www.donorschoose.org/about/our_supporters.html" target="_top">
       View all of our partners
      </a>
     </h6>
     <a class="button-redux secondary small" href="http://www.donorschoose.org/about/partnership_center.html" target="_top">
      Partner with us
     </a>
    </div>
   </div>
   <div id="footer-bar">
    <div id="footerBarText">
      2000-
     <script language="javascript" type="text/javascript">
      &lt;!--
var d = new Date();
var thisYear = d.getFullYear();
document.write(thisYear);
//--&gt;
     </script>
     DonorsChoose.org, a 501(c)(3) not-for-profit corporation.
    </div>
    <div id="privacyAndTerms">
     <a href="http://www.donorschoose.org/privacy-policy" target="_top">
      Privacy
     </a>
     <span>
      |
     </span>
     <a href="http://www.donorschoose.org/user-agreement" target="_top">
      Terms of service
     </a>
    </div>
    <!-- GOOGLE ANALYTICS MOVED TO GATRACKINGHEADER AND GATRACKINGFOOTER -->
    <!-- EXACT TARGET -->
    <script type="text/javascript">
     /* &lt;![CDATA[ */
//Set the number of days before your cookie should expire
var ExpireDays = 30;
//Do not change anything below this line
// Note: Edited to create local variables
function SetCookie(cookieName,cookieValue,nDays) {
    var today = new Date();
    var expire = new Date();
    if (nDays==null || nDays==0) nDays=1;
    expire.setTime(today.getTime() + 3600000*24*nDays);
    document.cookie = cookieName + "=" + escape(cookieValue) + "; expires=" + expire.toGMTString() + "; path=/;domain=donorschoose.org";
}

function setExactTargetCookies() {
	var qstr = document.location.search;
	qstr = qstr.substring(1,qstr.length);
		
	var thevars = qstr.split("&amp;");
	for(var i=0;i&lt;thevars.length;i++) {
	    var cookiecase = thevars[i].split("=");
	    switch(cookiecase[0]) {
	        case "e":
	            SetCookie("EmailAddr",cookiecase[1],ExpireDays);
	            break;
	        case "j":
	            SetCookie("JobID",cookiecase[1],ExpireDays);
	            break;
	        case "l":
	            SetCookie("ListID",cookiecase[1],ExpireDays);
	            break
	        case "jb":
	            SetCookie("BatchID",cookiecase[1],ExpireDays);
	            break;
	        case "u":
	            SetCookie("UrlID",cookiecase[1],ExpireDays);
	            break;
	        case "mid":
	            SetCookie("MemberID",cookiecase[1],ExpireDays);
	            break;
	        default:
	            break;
	    }
	}
}
setExactTargetCookies();
/* ]]&gt; */
    </script>
    <!-- FACEBOOK INIT -->
    <div id="fb-root">
    </div>
    <script type="text/javascript">
     window.fbAsyncInit = function() {
		FB.init({
			appId: '44550081712',
			status: true,
			cookie: true,
			xfbml: true,
			channelUrl: 'https://secure.donorschoose.org/html/facebookInitChannelUrl.htm',
			oauth: true,
			version: 'v2.2'
		});
		// add facebook events, etc
		if (typeof addToFbAsyncInit == "function") {
			addToFbAsyncInit();
		}

		FB.getLoginStatus(function(response) {
			if (response.status === "connected" &amp;&amp; document.getElementById("facebookHeaderPhoto") &amp;&amp; readCookie("userId") != null) {
				var uid = response.authResponse.userID;
				document.getElementById('facebookHeaderPhoto').innerHTML = '&lt;img width="20" src="//graph.facebook.com/v2.2/'+uid+'/picture?return_ssl_resources=1" /&gt;&lt;img src="http://cdn.donorschoose.net/images/header/fb_tn.gif" alt="" /&gt;';
			}
		});
	};

	(function(d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = "//connect.facebook.net/en_US/sdk.js#version=v2.2&amp;xfbml=1&amp;appId=" + facebookAppId;
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
    </script>
   </div>
  </div>
  <div id="mobileOrFullSite">
   <a href="#" id="mobileSite" onclick="setMobileSite();return returnFalse();">
    Mobile
   </a>
   &amp;nbsp/
   <a href="#" id="fullSite" onclick="setFullSite();return returnFalse();">
    Full Site
   </a>
  </div>
  <script type="text/javascript">
   $("#footerLinks h5").bind("click",function() {
		if ($(this).hasClass("on")) {
			$(this).next("ul").hide();
			$(this).removeClass("on");
		} else {
	        $(this).next("ul").show();
			$(this).addClass("on");
		}
	});
  </script>
  <script type="text/javascript">
   /* &lt;![CDATA[ */
var hasTimestamp = false;
function keepAliveCart() {
	var miniCartDetails = new MiniCartDetails();
    if (miniCartDetails.hasItems || (isNonBlankCookie("isLoggedIn")) || (hasTimestamp)) {
        var e = document.createElement("script");
        e.src = "https://secure.donorschoose.org/common/keepalive.html";
        e.type="text/javascript";
        document.getElementsByTagName("head")[0].appendChild(e);
        hasTimestamp = false;
        var keepAlive = setTimeout("keepAliveCart()",15*60*1000);
    }
}
keepAliveCart();
/* ]]&gt; */
  </script>
  <!-- AddRoll Retargeting Pixel -->
  <script type="text/javascript">
   adroll_adv_id = "MLTXT2Z6CBB4LBZUNDBMFX";
adroll_pix_id = "ULQO36I2GRBZ3GGYEQVVE4";
(function () {
var oldonload = window.onload;
window.onload = function(){
  __adroll_loaded=true;
  var scr = document.createElement("script");
  var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
  scr.setAttribute('async', 'true');
  scr.type = "text/javascript";
  scr.src = host + "/j/roundtrip.js";
  document.documentElement.firstChild.appendChild(scr);
  if(oldonload){oldonload()}};
}());
  </script>
  <!-- /AddRoll Retargeting Pixel -->
  <script type="text/javascript">
   var maxmindTimeout = setTimeout(function() {
		$(document).trigger("maxmindFailure");
	}, 3000);
	var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;

	po.onload = function() {
		$(document).trigger("maxmindLoaded");
		clearInterval(maxmindTimeout);
	};
	
	po.src = '//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js';
	var scripts = document.getElementsByTagName('script');
	var s = scripts[0]; s.parentNode.appendChild(po);
  </script>
  <!-- GOOGLE ANALYTICS TRACKING FOOTER -->
  <script type="text/javascript">
   (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script type="text/javascript">
   if (typeof doNotCallHeapIdentify === 'undefined' || !doNotCallHeapIdentify) {
   if (userId != null &amp;&amp; userId != "") {
	   heap.identify({name: userName,
	       visitor: userObj.userType || readCookie("v"),
	       handle: userId});
   } else if (readCookie("v") != null) {
      heap.identify({visitor: readCookie("v")});
   }
}
  </script>
  <script type="text/javascript">
   if (userId != null &amp;&amp; userId != "") {
	FS.identify(userId, {
		displayName: userName,
		email: userEmail
	});
	function _fs_ready() {
		var sessionUrl = FS.getCurrentSessionURL();
	}
}
  </script>
  <!-- /GOOGLE ANALYTICS TRACKING FOOTER -->
 </body>
</html>