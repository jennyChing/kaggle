<!DOCTYPE html>
<html>
 <head>
  <script type="text/javascript">
   var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);
  </script>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   District Data Labs - How to Develop Quality Python Code
  </title>
  <meta content="How to Develop Quality Python Code - Workflows and Development Tools" name="description"/>
  <meta content="District Data Labs" name="author"/>
  <!-- Do a conditional here to test for the theme selected in settings.-->
  <link href="/assets/kaia_theme-cd7264b390a254a89f34617b84777895.css" media="all" rel="stylesheet" type="text/css"/>
  <script src="/assets/application-ca489438c3819e65b29e5b66367b9aff.js" type="text/javascript">
  </script>
  <script src="//use.typekit.net/cqm7mbn.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   var _gaq = _gaq || [];
    //handles all back end tracking, and silvrback home tracking

      //pushes stats to user account, with either custom domain or subdomain. One or the other, not both. If custom domain is set, then silvrback subdomain tracking won't show for user. 
      _gaq.push(['user._setAccount', 'UA-47245418-1']);
        _gaq.push(['user._setDomainName', 'silvrback.com']);
      _gaq.push(['user._setAllowLinker', true]);
      _gaq.push(['user._trackPageview']);

      //Send tracking data to 3rd profile. Tracks all front end user domain data (custom domains and subdomains)
      _gaq.push(['custom._setAccount', 'UA-43290725-3']);
      _gaq.push(['custom._setDomainName', 'silvrback.com']);
      _gaq.push(['custom._setAllowLinker', true]);
      _gaq.push(['custom._trackPageview']);


    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  &lt;/script&gt;

    &lt;link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"&gt;
    
    &lt;script type="text/javascript"&gt;var _sf_startpt=(new Date()).getTime()
  </script>
  <script type="text/javascript">
   try{Typekit.load();}catch(e){}
  </script>
  <!--[if lt IE 9]&gt;
      &lt;script src="http://html5shim.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;
      &lt;script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"&gt;&lt;/script&gt;
    &lt;![endif]-->
  <style>
   .theme_wrapper {
          background-color: #242729;
        }
        .header_background_text {
          color: #fff;
        }
        .header_background_text &gt; ul &gt; li &gt;a {
          color: #fff;
        }
  </style>
  <style>
   .hll { background-color: #ffffcc }
.c { color: #408080; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.cm { color: #408080; font-style: italic } /* Comment.Multiline */
.cp { color: #BC7A00 } /* Comment.Preproc */
.c1 { color: #408080; font-style: italic } /* Comment.Single */
.cs { color: #408080; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.gr { color: #FF0000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #00A000 } /* Generic.Inserted */
.go { color: #888888 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0044DD } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #7D9029 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #999999; font-weight: bold } /* Name.Entity */
.ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #A0A000 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #BB6688 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.il { color: #666666 } /* Literal.Number.Integer.Long */
      .highlight {
        background-color: #f8f8f8;
      }
  </style>
  <link href="/feed" rel="alternate" title="ATOM" type="application/atom+xml"/>
  <link href="/feed.rss" rel="alternate" title="RSS" type="application/rss+xml"/>
 </head>
 <body class="home show">
  <!-- conditional here for the theme body -->
  <article class="theme_wrapper">
   <!--for user uploaded background pics-->
   <div class="banner_container">
    <img alt="Python_large" class="user_banner animated" src="https://silvrback.s3.amazonaws.com/uploads/116a016f-518f-416d-a722-f11ac4b2c813/python_large.jpg"/>
   </div>
   <div class="shade" style="display:block">
   </div>
   <div class="kaia_page" style="position:relative; z-index:10">
    <div class="big_article_header">
     <h1 class="kaia_header_title header_background_text">
      How to Develop Quality Python Code
     </h1>
     <h3 class="kaia_header_subtitle header_background_text">
      <i>
       Workflows and Development Tools
      </i>
     </h3>
     <div class="pic_and_name">
      <div class="name_link">
       <a class="header_background_text" href="https://twitter.com/bbengfort" target="_blank">
        Benjamin Bengfort
       </a>
      </div>
     </div>
    </div>
   </div>
   <div class="article_body theme2_body">
    <div class="kaia_page">
     <div class="article_padding theme2_content">
      <div class="all_external_links">
       <p>
        Developing in Python is very different from developing in other languages. Python is an interpreted language like Ruby or Perl, so developers are able to use read-evaluate-print loops (REPLs) to execute Python in real-time. This feature of Python means that it can be used for rapid development and prototyping because there is no build process. Python includes many functional programming tools akin to Scala or Javascript to assist with closure based script development. But Python is also a fully scalable object-oriented language, a paradigm used to build large modular software rather than to simply execute scripts, more akin to Java or C++.
       </p>
       <p>
        Python sits in the middle of these paradigms, providing the best of many worlds. Python is used for writing quick one-off scripts, large scale web frameworks like Django, data processing with Celery, even numerical and scientific computing. Python is lightweight, is standard on many operating systems, and is effective, thereby making it the top choice for data scientists and analysts for data engineering and analytical tasks.
       </p>
       <p>
        However, the breadth of Python means that there is no one workflow to developing with it, and certainly there is no standard IDE or environment framework to make these decisions on your behalf. Most Python educational materials focus on the scripting aspects of the language, leaving out the important details of how to construct larger projects.  This post will focus on the question of how a developer interacts with Python to build larger data applications.
       </p>
       <h2 id="toc_0">
        A Development Environment
       </h2>
       <p>
        So what do you need in order to successfully develop data apps with Python? Quite simply all you need is:
       </p>
       <ol>
        <li>
         A text editor - Sublime, Notepad++, Vim, Emacs, and Text Wrangler all work.
        </li>
        <li>
         A terminal with the
         <code>
          python
         </code>
         executable in your path.
        </li>
       </ol>
       <p>
        That's it! There are many development environments for using Python that add additional tools to your workflow including debuggers, code completion, and syntax highlighting. However, when it comes down to it, these software programs are simply wrapping the basic text editor and terminal together with some added functionality. If you must use an IDE, I would suggest the following:
       </p>
       <ol>
        <li>
         <a href="https://docs.python.org/2/library/idle.html">
          IDLE
         </a>
         - this environment will be familiar to Windows users who probably executed their first Python commands in it. It's very simple, but it is the default and effective.
        </li>
        <li>
         <a href="http://komodoide.com/komodo-edit/">
          Komodo Edit
         </a>
         - this free IDE for Python is written by ActiveState and provides many tools and functionality.
        </li>
        <li>
         <a href="http://www.jetbrains.com/pycharm/">
          PyCharm
         </a>
         - this IDE is not free, but provides an IntelliJ-like experience.
        </li>
        <li>
         <a href="http://www.aptana.com/">
          Aptana Studio
         </a>
         - Aptana does have some built in Python support, and focuses on web.
        </li>
        <li>
         <a href="https://code.google.com/p/spyderlib/">
          Spyder
         </a>
         - A Python studio specifically for scientific computing.
        </li>
        <li>
         <a href="http://ipython.org/">
          iPython
         </a>
         - an interactive development environment that allows you to create notebooks for presenting Python code and data.
        </li>
       </ol>
       <p>
        However, even when using one of these tools, you'll still probably use the basic workflow described below. Many professional Python developers are content with
        <a href="http://www.sublimetext.com/3">
         Sublime Text 3
        </a>
        for its subtly powerful features and syntax highlighting coupled with
        <code>
         pdb
        </code>
        and the command line. This is what I do, and it will enable you to have truly foo development!
       </p>
       <p>
        As your projects grow larger you will also want to include the following tools into your worklow:
       </p>
       <ol>
        <li>
         <a href="http://git-scm.com/">
          Git
         </a>
         /
         <a href="https://github.com/">
          Github.com
         </a>
         - code repository, but with Github, also an issue tracker and wiki.
        </li>
        <li>
         <a href="https://pypi.python.org/pypi/pip">
          pip
         </a>
         - the python package manager for installing third party tools.
        </li>
        <li>
         <a href="http://virtualenv.readthedocs.org/en/latest/">
          virtualenv
         </a>
         and
         <a href="http://virtualenvwrapper.readthedocs.org/en/latest/">
          virtualenvwrapper
         </a>
         - manage virtual environments for development.
        </li>
       </ol>
       <p>
        There are many tools to aid in software development, but these three tools are a vital part of modern Python development, and will be discussed further in the rest of this post.
       </p>
       <h3 id="toc_1">
        Third Party Libraries
       </h3>
       <p>
        As you develop Python code, you'll inevitably start including third party packages, especially if you're doing data science and require tools like Numpy, Pandas, and others. Building these third party libraries and installing them on your system is typically done with
        <code>
         pip
        </code>
        - the python package manager. Make sure that you have
        <code>
         pip
        </code>
        installed on your system, it will save you a lot of time and effort!
       </p>
       <p>
        To install the
        <code>
         requests.py
        </code>
        Python library, a simple HTTP library that allows you to very easily fetch things from the web, you would simply run the following command:
       </p>
       <div class="highlight">
        <pre>
         <span class="nv">
          $
         </span>
         pip install requests
        </pre>
       </div>
       <p>
        Uninstalling and package management, including upgrading, are also included with the
        <code>
         pip
        </code>
        command. By using
        <code>
         pip freeze
        </code>
        you can also get a list of the third party Python packages you have installed on your system. To search for various libraries to use in your code, see the
        <a href="https://pypi.python.org/pypi">
         Python Package Index (PyPI)
        </a>
        .
       </p>
       <h3 id="toc_2">
        Virtual Environments
       </h3>
       <p>
        As you start to develop more code, you'll start to find that specific versions of tools or tools that are hard to build and maintain are required for specific projects and that they conflict with versions of software in other projects. Even Python can be a problem if you develop for both Python 2 and 3 depending on your deployment environment! More worringly, Python is also a crucial aspect of many operating systems, the (small) possibility exists that you may end up breaking the system Python during development!
       </p>
       <p>
        The solution to these problems is to use virtualenv to package a complete development environment with your code. Virtualenv allows you to create a directory that contains a project-specific version of Python, pip, and all third-party dependencies. The virtualenv can be activated and deactivated on the command line, allowing you to create a self-contained environment. Moreover, it can be used to create environments that match your production environment (typically a Linux server).
       </p>
       <p>
        Virtualenvwrapper is another library that allows you to manage multiple virtual environments and associate them with specific projects. This tool will also quickly become essential to your workflow. To install
        <code>
         virtualenv
        </code>
        and
        <code>
         virtualenvwrapper
        </code>
        , use the following code:
       </p>
       <div class="highlight">
        <pre>
         <span class="nv">
          $
         </span>
         pip install virtualenv virtualenvwrapper
        </pre>
       </div>
       <p>
        Then edit your
        <code>
         .profile
        </code>
        in your home directory and add the following to the end:
       </p>
       <div class="highlight">
        <pre>
         <span class="nb">
          export
         </span>
         <span class="nv">
          WORKON_HOME
         </span>
         <span class="o">
          =
         </span>
         <span class="nv">
          $HOME
         </span>
         /.virtualenvs
         <span class="nb">
          export
         </span>
         <span class="nv">
          PROJECT_HOME
         </span>
         <span class="o">
          =
         </span>
         <span class="nv">
          $HOME
         </span>
         /Projects
         <span class="nb">
          source
         </span>
         /usr/local/bin/virtualenvwrapper.sh
        </pre>
       </div>
       <p>
        All your virtual environments will be stored in a hidden directory called
        <code>
         virtualenvs
        </code>
        , and your project directory is where you would store your code. We'll discuss this more in the following section. I also alias many of the virtualenv scripts to make it easier to work with, you can see my extensions at
        <a href="https://gist.github.com/bbengfort/246bc820e76b48f71df7">
         Ben's VirtualEnv Cheat Sheet
        </a>
        .
       </p>
       <p>
        <strong>
         Note
        </strong>
        : Windows users may have to follow OS-specific instructions, which I would be happy to update and include in this post.
       </p>
       <h2 id="toc_3">
        Code Construction Workflow
       </h2>
       <p>
        Creating and executing Python code follows two different workflow patterns.
       </p>
       <ol>
        <li>
         Create code in a text file and execute it with Python
        </li>
        <li>
         Create code in a text file and import it into the Python REPL.
        </li>
       </ol>
       <p>
        Generally speaking, developers do both. Python programs are
        <em>
         intended
        </em>
        to be executed on the command line via the
        <code>
         python
        </code>
        binary, and the thing that is executed is usually an entry point to a much larger
        <em>
         library
        </em>
        of code that is imported. The difference between importing and execution is subtle, but as you do more Python it becomes more important.
       </p>
       <p>
        With either of these workflows, you create your code in as modular a fashion as possible and, during the creation process, you execute it in one of the methods described above to check it's working. Most Python developers are back and forth between their terminal and the editor, and can do fine grained testing of every single line of code as they're writing it. This is the rapid prototyping aspect of Python.
       </p>
       <p>
        So let's start with a simple example.
       </p>
       <ol>
        <li>
         <p>
          Open a terminal window (see your specific operating system for instructions on how to do this).
         </p>
         <p>
          <strong>
           NOTE
          </strong>
          : Commands are in bash (Linux/Mac) or Windows Powershell
         </p>
        </li>
        <li>
         <p>
          Create a
          <strong>
           workspace
          </strong>
          for yourself. A workspace, in this sense, is just an empty directory where you can get ready to start doing development work. You should probably also keep your various projects (here, a synonym for workspace) in their own directory as well, for now we'll just call it "Projects" and assume it is in your home directory. Our first project will be called "myproject", but you'd just name this whatever you'd like.
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           <span class="nb">
            cd
           </span>
           ~/Projects
           <span class="nv">
            $
           </span>
           mkdir myproject
           <span class="nv">
            $
           </span>
           <span class="nb">
            cd
           </span>
           myproject
          </pre>
         </div>
        </li>
        <li>
         <p>
          Let's create our first Python script. You can either open your favorite editor and save the file into your workspace (the ~/Projects/myproject directory), or you can touch it and then open that file with your editor.
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           touch foo.py
          </pre>
         </div>
         <p>
          <strong>
           PRO TIP
          </strong>
          : If you're using Sublime Text 3 and have the
          <code>
           subl
          </code>
          command line tool installed (See Sublime Text installation instructions), you can use the following command to open up the current directory in the editor:
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           subl .
           <span class="p">
            &amp;
           </span>
          </pre>
         </div>
         <p>
          I use this so much that I've aliased the command to
          <code>
           e
          </code>
          .
         </p>
        </li>
        <li>
         <p>
          So here's where you should be: You should have a text editor open and editing the file at
          <code>
           ~/Projects/myproject/foo.py
          </code>
          , and you should have a terminal window open whose current working directory is
          <code>
           ~/Projects/myproject
          </code>
          . You're now ready to develop. Add the following code to foo.py:
         </p>
         <div class="highlight">
          <pre>
           <span class="c">
            #!/usr/bin/env python
           </span>
           <span class="kn">
            import
           </span>
           <span class="nn">
            csv
           </span>
           <span class="k">
            def
           </span>
           <span class="nf">
            dataset
           </span>
           <span class="p">
            (
           </span>
           <span class="n">
            path
           </span>
           <span class="p">
            ):
           </span>
           <span class="k">
            with
           </span>
           <span class="nb">
            open
           </span>
           <span class="p">
            (
           </span>
           <span class="n">
            path
           </span>
           <span class="p">
            ,
           </span>
           <span class="s">
            'rU'
           </span>
           <span class="p">
            )
           </span>
           <span class="k">
            as
           </span>
           <span class="n">
            data
           </span>
           <span class="p">
            :
           </span>
           <span class="n">
            reader
           </span>
           <span class="o">
            =
           </span>
           <span class="n">
            csv
           </span>
           <span class="o">
            .
           </span>
           <span class="n">
            reader
           </span>
           <span class="p">
            (
           </span>
           <span class="n">
            data
           </span>
           <span class="p">
            )
           </span>
           <span class="k">
            for
           </span>
           <span class="n">
            row
           </span>
           <span class="ow">
            in
           </span>
           <span class="n">
            reader
           </span>
           <span class="p">
            :
           </span>
           <span class="n">
            row
           </span>
           <span class="p">
            [
           </span>
           <span class="mi">
            2
           </span>
           <span class="p">
            ]
           </span>
           <span class="o">
            =
           </span>
           <span class="nb">
            int
           </span>
           <span class="p">
            (
           </span>
           <span class="n">
            row
           </span>
           <span class="p">
            [
           </span>
           <span class="mi">
            2
           </span>
           <span class="p">
            ])
           </span>
           <span class="k">
            yield
           </span>
           <span class="n">
            row
           </span>
          </pre>
         </div>
         <p>
          This code is very simple. It just implements a function that accepts a path and returns an iterator so that you can access every row of a CSV file, while also converting the third item in every row to an integer.
         </p>
         <p>
          <strong>
           PRO TIP
          </strong>
          : The
          <code>
           #!
          </code>
          (pronounced "shebang") line must appear at the very beginning of an executable Python script with nothing before it. It will tell your computer that this is a Python file and execute the script correctly if run from the command line as a standalone app. This line doesn't need to appear in library modules, that is, Python code that you plan to
          <em>
           import
          </em>
          rather than
          <em>
           execute
          </em>
          .
         </p>
        </li>
        <li>
         <p>
          Create some data so that we can use our function. Let's keep all of our data in a fixtures directory in our project.
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           mkdir fixtures
           <span class="nv">
            $
           </span>
           touch fixtures/calories.csv
          </pre>
         </div>
         <p>
          Using your editor, add this data to the calories.csv file:
         </p>
         <div class="highlight">
          <pre>
           <span class="n">
            butter
           </span>
           <span class="p">
            ,
           </span>
           <span class="n">
            tbsp
           </span>
           <span class="p">
            ,
           </span>
           <span class="mi">
            102
           </span>
           <span class="n">
            cheddar
           </span>
           <span class="n">
            cheese
           </span>
           <span class="p">
            ,
           </span>
           <span class="n">
            slice
           </span>
           <span class="p">
            ,
           </span>
           <span class="mi">
            113
           </span>
           <span class="n">
            whole
           </span>
           <span class="n">
            milk
           </span>
           <span class="p">
            ,
           </span>
           <span class="n">
            cup
           </span>
           <span class="p">
            ,
           </span>
           <span class="mi">
            148
           </span>
           <span class="n">
            hamburger
           </span>
           <span class="p">
            ,
           </span>
           <span class="n">
            item
           </span>
           <span class="p">
            ,
           </span>
           <span class="mi">
            254
           </span>
          </pre>
         </div>
        </li>
        <li>
         <p>
          Ok, now it's time to use our code. First, let's try to execute the code in the interpreter. Open up the REPL as follows:
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           python
&gt;&gt;&gt;
          </pre>
         </div>
         <p>
          You should now be presented with the Python prompt (
          <code>
           &gt;&gt;&gt;
          </code>
          ). Anything you type in now should be in Python, not bash. Always note the prompts in the instructions. A prompt with
          <code>
           $
          </code>
          means type in command line instructions (bash), a prompt that says
          <code>
           &gt;&gt;&gt;
          </code>
          means type in Python on the REPL, and if there is no prompt, you're probably editing a file. Import your code:
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            &gt;&gt;&gt;
           </span>
           <span class="kn">
            from
           </span>
           <span class="nn">
            foo
           </span>
           <span class="kn">
            import
           </span>
           <span class="n">
            dataset
           </span>
           <span class="o">
            &gt;&gt;&gt;
           </span>
           <span class="k">
            for
           </span>
           <span class="n">
            row
           </span>
           <span class="ow">
            in
           </span>
           <span class="n">
            dataset
           </span>
           <span class="p">
            (
           </span>
           <span class="s">
            'fixtures/calories.csv'
           </span>
           <span class="p">
            ):
           </span>
           <span class="o">
            ...
           </span>
           <span class="k">
            print
           </span>
           <span class="n">
            row
           </span>
           <span class="p">
            [
           </span>
           <span class="mi">
            0
           </span>
           <span class="p">
            ]
           </span>
           <span class="n">
            butter
           </span>
           <span class="n">
            cheddar
           </span>
           <span class="n">
            cheese
           </span>
           <span class="n">
            whole
           </span>
           <span class="n">
            milk
           </span>
           <span class="n">
            hamburger
           </span>
           <span class="o">
            &gt;&gt;&gt;
           </span>
          </pre>
         </div>
         <p>
          A lot happened here, so let's inspect it. First, when you imported the dataset function from foo, Python looked in your current working directory and found the
          <code>
           foo.py
          </code>
          file, and that's where it imported it from. Where you are on the command line and what your Python path is matters!
         </p>
         <p>
          When you import the dataset function the way we did, the module is loaded and executed all at once and provided to the interpreter's namespace. You can now use it by writing a for loop to go through every row and print the first item. Note the
          <code>
           ...
          </code>
          prompt. This means that Python is expecting an indented block. To exit the block, hit enter twice. The print results appear right in the screen, and then you're returned to the prompt.
         </p>
         <p>
          But what if you make a change in the code, for example, capitalizing the first letter of the words in first item of each row? The changes you write in your file won't show up in the REPL. This is because Python has already loaded the code once. To get the changes, you either have to exit the REPL and restart or you have to import in a different way:
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            &gt;&gt;&gt;
           </span>
           <span class="kn">
            import
           </span>
           <span class="nn">
            foo
           </span>
           <span class="o">
            &gt;&gt;&gt;
           </span>
           <span class="k">
            for
           </span>
           <span class="n">
            row
           </span>
           <span class="ow">
            in
           </span>
           <span class="n">
            foo
           </span>
           <span class="o">
            .
           </span>
           <span class="n">
            dataset
           </span>
           <span class="p">
            (
           </span>
           <span class="s">
            'fixtures/calories.csv'
           </span>
           <span class="p">
            ):
           </span>
           <span class="o">
            ...
           </span>
          </pre>
         </div>
         <p>
          Now you can reload the foo module and get your code changes:
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            &gt;&gt;&gt;
           </span>
           <span class="nb">
            reload
           </span>
           <span class="p">
            (
           </span>
           <span class="n">
            foo
           </span>
           <span class="p">
            )
           </span>
          </pre>
         </div>
        </li>
        <li>
         <p>
          This can get pretty unwieldy as code gets larger and more changes happen, so let's shift our development strategy over to executing Python files. Inside foo.py, add the following to the end of the file:
         </p>
         <div class="highlight">
          <pre>
           <span class="k">
            if
           </span>
           <span class="n">
            __name__
           </span>
           <span class="o">
            ==
           </span>
           <span class="s">
            '__main__'
           </span>
           <span class="p">
            :
           </span>
           <span class="k">
            for
           </span>
           <span class="n">
            row
           </span>
           <span class="ow">
            in
           </span>
           <span class="n">
            dataset
           </span>
           <span class="p">
            (
           </span>
           <span class="s">
            'fixtures/calories.csv'
           </span>
           <span class="p">
            ):
           </span>
           <span class="k">
            print
           </span>
           <span class="n">
            row
           </span>
           <span class="p">
            [
           </span>
           <span class="mi">
            0
           </span>
           <span class="p">
            ]
           </span>
          </pre>
         </div>
         <p>
          To execute this code, you simply type the following on the command line:
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           python foo.py
butter
cheddar cheese
whole milk
hamburger
          </pre>
         </div>
         <p>
          The
          <code>
           if __name__ == '__main__':
          </code>
          statement means that the code will only get executed if the code is run directly, not imported. In fact, if you open up the REPL and type in
          <code>
           import foo
          </code>
          , nothing will be printed to your screen. This is incredibly useful. It means that you can put test code inside your script as you're developing it without worrying that it will interfere with your project. Not only that, it documents to other developers how the code in that file should be used and provides a simple test to check to make sure that you're not creating errors.
         </p>
         <p>
          In larger projects, you'll see that most developers put test and debugging code under so called "ifmain" statements at the bottom of their files. You should do this too!
         </p>
        </li>
       </ol>
       <p>
        With this example, hopefully you have learned the workflow for developing Python programs both by executing scripts and using "ifmain" as well as importing and reloading scripts in the REPL. Most developers use both methods interchangeably, using whatever is needed at the time.
       </p>
       <h2 id="toc_4">
        Structuring Larger Projects
       </h2>
       <p>
        Ok, so how do you write an actual Python program and move from experimenting with short snippets of code to larger programs? The first thing you have to do is organize your code into a project. Unfortunately there is really nothing to do this for you automatically, but most developers follow a well known pattern that was introduce by Zed Shaw in his book
        <em>
         <a href="http://amzn.to/1w9nMfB">
          Learn Python the Hard Way
         </a>
        </em>
        .
       </p>
       <p>
        In order to create a new project, you'll implement the "Python project skeleton," a set of directories and files that belong in every single project you create. The project skeleton is very familiar to Python developers, and you'll quickly start to recognize it as you investigate the code of other Python developers (which you should be doing). The basic skeleton is implemented inside of a project directory, which are stored in your workspace as described above. The directory structure is as follows (for an example project called
        <code>
         myproject
        </code>
        ):
       </p>
       <div class="highlight">
        <pre>
         <span class="nv">
          $
         </span>
         myproject
.
 README.md
 LICENSE.txt
 requirements.txt
 setup.py
 bin
         <span class="p">
          |
         </span>
          myapp.py
 docs
         <span class="p">
          |
         </span>
          _build
         <span class="p">
          |
         </span>
          conf.py
         <span class="p">
          |
         </span>
          index.rst
         <span class="p">
          |
         </span>
          Makefile
 fixtures
 foo
         <span class="p">
          |
         </span>
          __init__.py
 tests
     __init__.py
        </pre>
       </div>
       <p>
        This is a lot, but don't be intimidated. This structure implements many tools including packaging for distribution, documentation with Sphinx, testing, and more.
       </p>
       <p>
        Let's go through the pieces one by one. Project documentation is the first part, implemented as
        <code>
         README.md
        </code>
        and
        <code>
         LICENSE.txt
        </code>
        files. The README file is a markdown document that you can add developer-specific documentation to your project. The LICENSE can be any open source license, or a Copyright statement in the case of proprietary code. Both of these files are typically generated for you if you create your project in Github. If you do create your file in Github, you should also use the Python
        <code>
         .gitignore
        </code>
        that Github provides, which helps keep your repositories clean.
       </p>
       <p>
        The
        <code>
         setup.py
        </code>
        script is a Python setuptools or distutils installation script and will allow you to configure your project for deployment. It will use the
        <code>
         requirements.txt
        </code>
        to specify the third party dependencies required to implement your project. Other developers will also use these files to create their development environments.
       </p>
       <p>
        The
        <code>
         docs
        </code>
        directory contains the Sphinx documentation generator, Python documentation is written in restructuredText, a Markup language similar to Markdown and others. This documentation should be more extensive and should be for both users and developers. The
        <code>
         bin
        </code>
        directory will contain any executable scripts you intend to build. Data scientists also typically also have a
        <code>
         fixtures
        </code>
        directory in which to store data files.
       </p>
       <p>
        The
        <code>
         foo
        </code>
        and
        <code>
         tests
        </code>
        directories are actually Python modules since they contain the
        <code>
         __init__.py
        </code>
        file. You'll put your code in foo and your tests in tests. Once you start developing inside your foo directory, note that when you open up the REPL, you have to import everything from the 'foo' namespace. You can put import statements in your
        <code>
         __init__.py
        </code>
        files to make things easier to import as well. You can still also execute your scripts in the foo directory using the "ifmain" method.
       </p>
       <h3 id="toc_5">
        Setting Up Your First Project
       </h3>
       <p>
        You don't have to manually create the structure above, many tools will help you build this environment. For example the
        <a href="https://github.com/audreyr/cookiecutter">
         Cookiecutter
        </a>
        project will help you manage project templates and quickly build them. The
        <a href="http://sphinx-doc.org/tutorial.html">
         spinx-quickstart
        </a>
        command will generate your documentation directory. Github will add the
        <code>
         README.md
        </code>
        and
        <code>
         LICENSE.txt
        </code>
        stubs. Finally,
        <code>
         pip freeze
        </code>
        will generate the
        <code>
         requirements.txt
        </code>
        file.
       </p>
       <p>
        Starting a Python project is a ritual, however, so I will take you through my process for starting one. Light a candle, roll up your sleeves, and get a coffee. It's time.
       </p>
       <ol>
        <li>
         <p>
          Inside of your Projects directory, create a directory for your workspace (project). Let's pretend that we're building a project that will generate a social network from emails, we'll call it "emailgraph."
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           mkdir ~/Projects/emailgraph
           <span class="nv">
            $
           </span>
           <span class="nb">
            cd
           </span>
           ~/Projects/emailgraph
          </pre>
         </div>
        </li>
        <li>
         <p>
          Initialize your repository with Git.
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           git init
          </pre>
         </div>
        </li>
        <li>
         <p>
          Initialize your virtualenv with virtualenv wrapper.
         </p>
         <div class="highlight">
          <pre>
           <span class="nv">
            $
           </span>
           mkvirtualenv -a
           <span class="k">
            $(
           </span>
           <span class="nb">
            pwd
           </span>
           <span class="k">
            )
           </span>
           emailgraph
          </pre>
         </div>
         <p>
          This will create the virtual environment in ~/.virtualenvs/emailgraph and automatically activate it for you. At any time and at any place on the command line, you can issue the
          <code>
           workon emailgraph
          </code>
          command and you'll be taken to your project directory (the
          <code>
           -a
          </code>
          flag specifies that this is the project directory for this virtualenv).
         </p>
        </li>
        <li>
         <p>
          Create the various directories that you'll require:
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           mkdir bin tests emailgraph docs fixtures
          </pre>
         </div>
         <p>
          And then create the various files that are needed:
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           touch tests/__init__.py
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           touch emailgraph/__init__.py
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           touch setup.py README.md LICENSE.txt .gitignore
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           touch bin/emailgraph-admin.py
          </pre>
         </div>
        </li>
        <li>
         <p>
          Generate the documentation using
          <code>
           sphinx-quickstart
          </code>
          :
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           sphinx-quickstart
          </pre>
         </div>
         <p>
          You can safely use the defaults, but make sure that you do accept the Makefile at the end to quickly and easily generate the documentation. This should create an index.rst and conf.py file in your
          <code>
           docs
          </code>
          directory.
         </p>
        </li>
        <li>
         <p>
          Install nose and coverage to begin your test harness:
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           pip install nose coverage
          </pre>
         </div>
        </li>
        <li>
         <p>
          Open up the
          <code>
           tests/__init__.py
          </code>
          file with your favorite editor, and add the following initialization tests:
         </p>
         <div class="highlight">
          <pre>
           <span class="kn">
            import
           </span>
           <span class="nn">
            unittest
           </span>
           <span class="k">
            class
           </span>
           <span class="nc">
            InitializationTests
           </span>
           <span class="p">
            (
           </span>
           <span class="n">
            unittest
           </span>
           <span class="o">
            .
           </span>
           <span class="n">
            TestCase
           </span>
           <span class="p">
            ):
           </span>
           <span class="k">
            def
           </span>
           <span class="nf">
            test_initialization
           </span>
           <span class="p">
            (
           </span>
           <span class="bp">
            self
           </span>
           <span class="p">
            ):
           </span>
           <span class="sd">
            """
           </span>
           <span class="sd">
            Check the test suite runs by affirming 2+2=4
           </span>
           <span class="sd">
            """
           </span>
           <span class="bp">
            self
           </span>
           <span class="o">
            .
           </span>
           <span class="n">
            assertEqual
           </span>
           <span class="p">
            (
           </span>
           <span class="mi">
            2
           </span>
           <span class="o">
            +
           </span>
           <span class="mi">
            2
           </span>
           <span class="p">
            ,
           </span>
           <span class="mi">
            4
           </span>
           <span class="p">
            )
           </span>
           <span class="k">
            def
           </span>
           <span class="nf">
            test_import
           </span>
           <span class="p">
            (
           </span>
           <span class="bp">
            self
           </span>
           <span class="p">
            ):
           </span>
           <span class="sd">
            """
           </span>
           <span class="sd">
            Ensure the test suite can import our module
           </span>
           <span class="sd">
            """
           </span>
           <span class="k">
            try
           </span>
           <span class="p">
            :
           </span>
           <span class="kn">
            import
           </span>
           <span class="nn">
            emailgraph
           </span>
           <span class="k">
            except
           </span>
           <span class="ne">
            ImportError
           </span>
           <span class="p">
            :
           </span>
           <span class="bp">
            self
           </span>
           <span class="o">
            .
           </span>
           <span class="n">
            fail
           </span>
           <span class="p">
            (
           </span>
           <span class="s">
            "Was not able to import the emailgraph"
           </span>
           <span class="p">
            )
           </span>
          </pre>
         </div>
         <p>
          From your project directory, you can now run the test suite, with coverage as follows:
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           nosetests -v --with-coverage --cover-package
           <span class="o">
            =
           </span>
           emailgraph
           <span class="se">
            \
           </span>
           --cover-inclusive --cover-erase tests
          </pre>
         </div>
         <p>
          You should see two tests passing along with a 100% test coverage report.
         </p>
        </li>
        <li>
         <p>
          Open up the
          <code>
           setup.py
          </code>
          file and add the following lines:
         </p>
         <div class="highlight">
          <pre>
           <span class="c">
            #!/usr/bin/env python
           </span>
           <span class="k">
            raise
           </span>
           <span class="ne">
            NotImplementedError
           </span>
           <span class="p">
            (
           </span>
           <span class="s">
            "Setup not implemented yet."
           </span>
           <span class="p">
            )
           </span>
          </pre>
         </div>
         <p>
          Setting up your app for deployment is the topic of another post, but this will alert other developers to the fact that you haven't gotten around to it yet.
         </p>
        </li>
        <li>
         <p>
          Create the
          <code>
           requirements.txt
          </code>
          file using
          <code>
           pip freeze
          </code>
          :
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           pip freeze &gt; requirements.txt
          </pre>
         </div>
        </li>
        <li>
         <p>
          Finally, commit all the work you've done to email graph to the repository.
         </p>
         <div class="highlight">
          <pre>
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           git add --all
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           git status
On branch master

Initial commit

Changes to be committed:
           <span class="o">
            (
           </span>
           use
           <span class="s2">
            "git rm --cached &lt;file&gt;..."
           </span>
           to unstage
           <span class="o">
            )
           </span>
           new file:   LICENSE.txt
    new file:   README.md
    new file:   bin/emailgraph-admin.py
    new file:   docs/Makefile
    new file:   docs/conf.py
    new file:   docs/index.rst
    new file:   emailgraph/__init__.py
    new file:   requirements.txt
    new file:   setup.py
    new file:   tests/__init__.py
           <span class="o">
            (
           </span>
           emailgraph
           <span class="o">
            )
           </span>
           <span class="nv">
            $
           </span>
           git commit -m
           <span class="s2">
            "Initial repository setup"
           </span>
          </pre>
         </div>
        </li>
       </ol>
       <p>
        With that you should have your project all setup and ready to go. Get some more coffee, it's time to start work!
       </p>
       <h2 id="toc_6">
        Conclusion
       </h2>
       <p>
        With this post, hopefully you've discovered some best practices and workflows for Python development. Structuring both your code and projects this way will help keep you organized and will also help others quickly understand what you've built, which is critical when working on projects involving more than one person. More importantly, this project structure is the preparation for deployment and the base for larger applications and professional, production grade software. Whether you're scripting or writing apps, I hope that these workflows will be useful.
       </p>
       <p>
        If you'd like to explore further how to include professional grade tools into your Python development, check out some of the following tools:
       </p>
       <ul>
        <li>
         <a href="https://travis-ci.org/">
          Travis-CI
         </a>
         is a continuing integration service that will automatically run your test harness when you commit to Github. It will make sure that all of your tests are passing before you push to production!
        </li>
        <li>
         <a href="https://waffle.io/">
          Waffle.io
         </a>
         will turn your Github issues into a full Agile board allowing you to track milestones and sprints, and better coordinate your team.
        </li>
        <li>
         <a href="http://www.pylint.org/">
          Pylint
         </a>
         will automatically check for good coding standards, error detection, and even draw UML diagrams for your code!
        </li>
       </ul>
       <p>
        If you're having trouble with anything we've covered or you find any errors, please leave us a comment! Also, all developers are as different as they are the same, so if you have a workflow that you think others would benefit from, please let us know in the code!
       </p>
       <p>
        If you liked this post and found it helpful, go to the
        <a href="http://districtdatalabs.silvrback.com">
         blog home page
        </a>
        and click the
        <strong>
         Subscribe
        </strong>
        button so that you don't miss any of the awesome posts we have coming up.
       </p>
       <h2 id="toc_7">
        Additional Reading
       </h2>
       <ul>
        <li>
         <a href="http://amzn.to/1w9nMfB">
          Learn Python the Hard Way
         </a>
        </li>
        <li>
         <a href="http://amzn.to/1vHixj1">
          Learning Python, 5th Edition
         </a>
        </li>
        <li>
         <a href="http://amzn.to/1CP1csB">
          Programming Python
         </a>
        </li>
        <li>
         <a href="http://amzn.to/YRP8rH">
          Practical Data Science Cookbook
         </a>
        </li>
       </ul>
      </div>
      <div class="clear">
      </div>
      <p class="kaia_name_and_tag">
       <a href="https://twitter.com/bbengfort" target="_blank">
        Benjamin Bengfort
       </a>
      </p>
      <div class="entry_meta_area">
       <p class="kaia_actions">
        <span class="entry_date">
         August 20, 2014
        </span>
        <a class="comment_link fa fa-comment" href="#comment_drawer_top" title="Comment">
        </a>
        <a class="comment_link comment_link_text" data-disqus-identifier="silvrback-districtdatalabs-7582" href="#disqus_thread">
        </a>
        <span class="share_social">
         <a data-lang="en" href="http://www.twitter.com/share?url=https://districtdatalabs.silvrback.com/how-to-develop-quality-python-code?utm_content=bufferc193e&amp;utm_medium=social&amp;utm_source=twitter.com&amp;utm_campaign=buffer&amp;text=How to Develop Quality Python Code by @districtdatalab" onclick="return !window.open(this.href, 'Twitter', 'width=640,height=300')" title="Share this post on Twitter">
          <i class="fa fa-twitter">
          </i>
         </a>
         <a href="http://www.facebook.com/sharer/sharer.php?u=https://districtdatalabs.silvrback.com/how-to-develop-quality-python-code?utm_content=bufferc193e&amp;utm_medium=social&amp;utm_source=twitter.com&amp;utm_campaign=buffer" onclick="return !window.open(this.href, 'Facebook', 'width=640,height=300')" target="_blank" title="Share this post on Facebook">
          <i class="fa fa-facebook">
          </i>
         </a>
         <a href="http://plus.google.com/share?url=https://districtdatalabs.silvrback.com/how-to-develop-quality-python-code?utm_content=bufferc193e&amp;utm_medium=social&amp;utm_source=twitter.com&amp;utm_campaign=buffer" onclick="return !window.open(this.href, 'Google +', 'width=640,height=300')" target="_blank" title="Share this post on Google +">
          <i class="last_link fa fa-google-plus">
          </i>
         </a>
         <script>
          !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
         </script>
        </span>
       </p>
       <div class="posted_in">
        <p>
         Posted in:
         <a href="/tags/python">
          python
         </a>
        </p>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div style="position:relative; z-index:100">
    <div class="kaia_page kaia_footer_section">
     <div class="align_center read_next">
      <h2 class="read_next_btn">
      </h2>
     </div>
     <div class="bottom_menu_links align_center header_background_text">
      <ul>
       <li>
        <a href="/">
         Blog Home
        </a>
       </li>
       <li>
        <a href="/archive">
         Archive
        </a>
       </li>
       <li>
        <a href="http://districtdatalabs.com" target="_blank">
         District Data Labs
        </a>
       </li>
       <li>
        <a href="/feed">
         RSS
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="kaia_footer">
     <div class="kaia_page">
      <div class="bottom_footer_area">
       <p class="align_center header_background_text">
        You can also find me on
        <a class="personal_social_links" href="https://twitter.com/districtdatalab">
         Twitter
        </a>
        and
        <a class="personal_social_links" href="https://github.com/DistrictDataLabs">
         GitHub
        </a>
        .
        <br/>
         2015
        <a href="https://districtdatalabs.silvrback.com">
         District Data Labs
        </a>
        <br/>
        <br/>
        <a href="https://www.silvrback.com" title="Proudly Published With Silvrback Blog">
         <img alt="Gorilla-white" src="/assets/gorilla-white-cc82aa5e7ecc20a1813b75fdc962458f.svg" style="width:40px; margin-top:20px;"/>
        </a>
       </p>
      </div>
     </div>
    </div>
   </div>
  </article>
  <div class="comments" id="comment_drawer_top">
   <div class="article_body">
    <div class="kaia_page">
     <p class="comments_x">
      <a class="fa fa-times comments_close" style="color:#000">
      </a>
     </p>
     <div class="article_padding comments_inner">
      <div class="align_center disqus">
       <div id="disqus_thread" style="width:94%; border:1px solid #eee; padding:20px;">
       </div>
      </div>
      <script type="text/javascript">
       /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = "districtdatalabs"; // required: replace example with your forum shortname
    var disqus_identifier = "silvrback-districtdatalabs-7582";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
      </script>
      <noscript>
       Please enable JavaScript to view the
       <a href="http://disqus.com/?ref_noscript">
        comments powered by Disqus.
       </a>
      </noscript>
      <a class="dsq-brlink" href="http://disqus.com">
       comments powered by
       <span class="logo-disqus">
        Disqus
       </span>
      </a>
     </div>
    </div>
   </div>
  </div>
  <div class="clear">
  </div>
  <script type="text/javascript">
   /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = "districtdatalabs";; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
  </script>
  <script type="text/javascript">
   $(document).ready(function() {
    //need to fetch the read next btn via js to avoid the cache. Convert to utc. 
    $.getScript("/home/read_next?date=2014-08-20 19:01:00 UTC&amp;article_id=7582");
    $('.all_external_links').find('a[href^="http://"], a[href^="https://"]').attr('target', '_blank');

  });
  </script>
  <script type="text/javascript">
   var _sf_async_config = { uid: 35610, domain: 'silvrback.com', useCanonical: true };
      (function() {
        function loadChartbeat() {
          window._sf_endpt = (new Date()).getTime();
          var e = document.createElement('script');
          e.setAttribute('language', 'javascript');
          e.setAttribute('type', 'text/javascript');
          e.setAttribute('src','//static.chartbeat.com/js/chartbeat.js');
          document.body.appendChild(e);
        };
        var oldonload = window.onload;
        window.onload = (typeof window.onload != 'function') ?
          loadChartbeat : function() { oldonload(); loadChartbeat(); };
      })();
  </script>
  <script type="text/javascript">
   if (!NREUMQ.f) { NREUMQ.f=function() {
NREUMQ.push(["load",new Date().getTime()]);
var e=document.createElement("script");
e.type="text/javascript";
e.src=(("http:"===document.location.protocol)?"http:":"https:") + "//" +
  "js-agent.newrelic.com/nr-100.js";
document.body.appendChild(e);
if(NREUMQ.a)NREUMQ.a();
};
NREUMQ.a=window.onload;window.onload=NREUMQ.f;
};
NREUMQ.push(["nrfj","bam.nr-data.net","9a6a49e4f0","2607212","JwtXQEMLWF1SRU5aWAkBFkdZC0M=",9,5,new Date().getTime(),"","","","",""]);
  </script>
 </body>
</html>