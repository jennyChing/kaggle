<!--
-->
<html>
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="Unix Daemon Server Programming" http-equiv="Description"/>
  <meta content="Levent, Karaka, Karakas, Unix, Daemon, Server, Programming" http-equiv="Keywords"/>
  <title>
   Unix Daemon Server Programming
  </title>
  <style type="text/css">
   &lt;!--
BODY, TD {
	background : #FFFFFF;
	color : #000000;
	font-family : normal arial, helvetica;
	font-size: 12px;
	text-align: justify;
}
H1 {
	font-size : 20px;
	text-ali   g   n       :       c   e   n   t   e   r   ;   
   }   
   H   2       {   
   	   f   o   n   t   -   s   i   z   e       :       1   6   p   x   ;   
   	   t   e   x   t   -   a   l   i   g   n       :       l   e   f   t   ;   
   }   
   A   :   l   i   n   k   ,       A   :   v   i   s   i   t   e   d       {   
   	   c   o   l   o   r   :       #   0   0   0   0   F   F   ;   
   	   t   e   x   t   -   d   e   c   o   r   a   t   i   o   n   :       n   o   n   e   ;   
   }   
   /   /   -   -   &gt;   
   &lt;   /   s   t   y   l   e   &gt;   
   &lt;   /   h   e   a   d   &gt;   
   
   &lt;   b   o   d   y   &gt;   
   
   &lt;   d   i   v       a   l   i   g   n   =   "   c   e   n   t   e   r   "   &gt;   
   
   &lt;   t   a   b   l   e       b   o   r   d   e   r   =   "   0   "       c   e   l   l   p   a   d   d   i   n   g   =   "   0   "       c   e   l   l   s   p   a   c   i   n   g   =   "   0   "       w   i   d   t   h   =   "   6   0   0   "   &gt;   
           &lt;   t   r   &gt;   
                   &lt;   t   d   &gt;   
   
   &lt;   h   1   &gt;   U   n   i   x       D   a   e   m   o   n       S   e   r   v   e   r       P   r   o   g   r   a   m   m   i   n   g   &lt;   /   h   1   &gt;   
   
   &lt;   h   2   &gt;   I   n   t   r   o   d   u   c   t   i   o   n   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   U   n   i   x       p   r   o   c   e   s   s   e   s       w   o   r   k   s       e   i   t   h   e   r       i   n       f   o   r   e   g   r   o   u   n   d       o   r       b   a   c   k   g   r   o   u   n   d   .       A       p   r   o   c   e   s   s       r   u   n   n   i   n   g       i   n       f   o   r   e   g   r   o   u   n   d       i   n   t   e   r   a   c   t   s       w   i   t   h       t   h   e       u   s   e   r       i   n       f   r   o   n   t       o   f       t   h   e       t   e   r   m   i   n   a   l       (   m   a   k   e   s       I   /   O   )   ,       w   h   e   r   e   a   s       a       b   a   c   k   g   r   o   u   n   d       p   r   o   c   e   s   s       r   u   n   s       b   y       i   t   s   e   l   f   .       T   h   e       u   s   e   r       c   a   n       c   h   e   c   k       i   t   s       s   t   a   t   u   s       b   u   t       h   e       d   o   e   s   n   '   t       (   n   e   e   d       t   o   )       k   n   o   w       w   h   a   t       i   t       i   s       d   o   i   n   g   .       T   h   e       t   e   r   m       '   d   a   e   m   o   n   '       i   s       u   s   e   d       f   o   r       p   r   o   c   e   s   s   e   s       t   h   a   t       p   e   r   f   o   r   m   s       s   e   r   v   i   c   e       i   n       b   a   c   k   g   r   o   u   n   d   .       A       s   e   r   v   e   r       i   s       a       p   r   o   c   e   s   s       t   h   a   t       b   e   g   i   n   s       e   x   e   c   u   t   i   o   n       a   t       s   t   a   r   t   u   p       (   n   o   t       n   e   c   c   e   s   s   a   r   i   l   y   )   ,       r   u   n   s       f   o   r   e   v   e   r   ,       u   s   u   a   l   l   y       d   o       n   o   t       d   i   e       o   r       g   e   t       r   e   s   t   a   r   t   e   d   ,       o   p   e   r   a   t   e   s       i   n       b   a   c   k   g   r   o   u   n   d   ,       w   a   i   t   s       f   o   r       r   e   q   u   e   s   t   s       t   o       a   r   r   i   v   e       a   n   d       r   e   s   p   o   n   d       t   o       t   h   e   m       a   n   d           f   r   e   q   u   e   n   t   l   y       s   p   a   w   n       o   t   h   e   r       p   r   o   c   e   s   s   e   s       t   o       h   a   n   d   l   e       t   h   e   s   e       r   e   q   u   e   s   t   s   .   &lt;   /   p   &gt;   
   
   &lt;   p   &gt;   R   e   a   d   e   r   s       a   r   e       s   u   p   p   o   s   s   e   d       t   o       k   n   o   w       U   n   i   x       f   u   n   d   a   m   e   n   t   a   l   s       a   n   d       C       l   a   n   g   u   a   g   e   .       F   o   r       f   u   r   t   h   e   r       d   e   s   c   r   i   p   t   i   o   n       o   n       a   n   y       t   o   p   i   c       u   s   e       &amp;   q   u   o   t   ;   m   a   n   &amp;   q   u   o   t   ;       c   o   m   m   a   n   d       (   I       w   r   i   t   e       u   s   e   f   u   l       k   e   y   w   o   r   d   s       i   n       b   r   a   c   k   e   t   s   )   ,       i   t       h   a   s       a   l   w   a   y   s       b   e   e   n       v   e   r   y       u   s   e   f   u   l   ,       t   r   u   s   t       m   e       :   )   )       K   e   e   p       i   n       m   i   n   d       t   h   a   t       t   h   i   s       d   o   c   u   m   e   n   t       d   o   e   s       n   o   t       c   o   n   t   a   i   n       e   v   e   r   y   t   h   i   n   g   ,       i   t       i   s       j   u   s   t       a       g   u   i   d   e   .   &lt;   /   p   &gt;   
   
   
   &lt;   h   2   &gt;   1   )       D   a   e   m   o   n   i   z   i   n   g       (   p   r   o   g   r   a   m   m   i   n   g       t   o       o   p   e   r   a   t   e       i   n       b   a   c   k   g   r   o   u   n   d   )       [   f   o   r   k   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   F   i   r   s   t       t   h   e       f   o   r   k   (   )       s   y   s   t   e   m       c   a   l   l       w   i   l   l       b   e       u   s   e   d       t   o       c   r   e   a   t   e       a       c   o   p   y       o   f       o   u   r       p   r   o   c   e   s   s   (   c   h   i   l   d   )   ,       t   h   e   n       l   e   t       p   a   r   e   n   t       e   x   i   t   .       O   r   p   h   a   n   e   d       c   h   i   l   d       w   i   l   l       b   e   c   o   m   e       a       c   h   i   l   d       o   f       i   n   i   t       p   r   o   c   e   s   s       (   t   h   i   s       i   s       t   h   e       i   n   i   t   i   a   l       s   y   s   t   e   m       p   r   o   c   e   s   s   ,       i   n       o   t   h   e   r       w   o   r   d   s       t   h   e       p   a   r   e   n   t       o   f       a   l   l       p   r   o   c   e   s   s   e   s   )   .       A   s       a       r   e   s   u   l   t       o   u   r       p   r   o   c   e   s   s       w   i   l   l       b   e       c   o   m   p   l   e   t   e   l   y       d   e   t   a   c   h   e   d       f   r   o   m       i   t   s       p   a   r   e   n   t       a   n   d       s   t   a   r   t       o   p   e   r   a   t   i   n   g       i   n       b   a   c   k   g   r   o   u   n   d   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   i   =   f   o   r   k   (   )   ;   
   	   i   f       (   i   &amp;   l   t   ;   0   )       e   x   i   t   (   1   )   ;       /   *       f   o   r   k       e   r   r   o   r       *   /   
   	   i   f       (   i   &amp;   g   t   ;   0   )       e   x   i   t   (   0   )   ;       /   *       p   a   r   e   n   t       e   x   i   t   s       *   /   
   	   /   *       c   h   i   l   d       (   d   a   e   m   o   n   )       c   o   n   t   i   n   u   e   s       *   /   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   h   2   &gt;   2   )       P   r   o   c   e   s   s       I   n   d   e   p   e   n   d   e   n   c   y       [   s   e   t   s   i   d   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   A       p   r   o   c   e   s   s       r   e   c   e   i   v   e   s       s   i   g   n   a   l   s       f   r   o   m       t   h   e       t   e   r   m   i   n   a   l       t   h   a   t       i   t       i   s       c   o   n   n   e   c   t   e   d       t   o   ,       a   n   d       e   a   c   h       p   r   o   c   e   s   s       i   n   h   e   r   i   t   s       i   t   s       p   a   r   e   n   t   '   s       c   o   n   t   r   o   l   l   i   n   g       t   t   y   .       A       s   e   r   v   e   r       s   h   o   u   l   d       n   o   t       r   e   c   e   i   v   e       s   i   g   n   a   l   s       f   r   o   m       t   h   e       p   r   o   c   e   s   s       t   h   a   t       s   t   a   r   t   e   d       i   t   ,       s   o       i   t       m   u   s   t       d   e   t   a   c   h       i   t   s   e   l   f       f   r   o   m       i   t   s       c   o   n   t   r   o   l   l   i   n   g       t   t   y   .   &lt;   /   p   &gt;   
   
   &lt;   p   &gt;   I   n       U   n   i   x       s   y   s   t   e   m   s   ,       p   r   o   c   e   s   s   e   s       o   p   e   r   a   t   e   s       w   i   t   h   i   n       a       p   r   o   c   e   s   s       g   r   o   u   p   ,       s   o       t   h   a   t       a   l   l       p   r   o   c   e   s   s   e   s       w   i   t   h   i   n       a       g   r   o   u   p       i   s       t   r   e   a   t   e   d       a   s       a       s   i   n   g   l   e       e   n   t   i   t   y   .       P   r   o   c   e   s   s       g   r   o   u   p       o   r       s   e   s   s   i   o   n       i   s       a   l   s   o       i   n   h   e   r   i   t   e   d   .       A       s   e   r   v   e   r       s   h   o   u   l   d       o   p   e   r   a   t   e       i   n   d   e   p   e   n   d   e   n   t   l   y       f   r   o   m       o   t   h   e   r       p   r   o   c   e   s   s   e   s   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   s   e   t   s   i   d   (   )       /   *       o   b   t   a   i   n       a       n   e   w       p   r   o   c   e   s   s       g   r   o   u   p       *   /   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   T   h   i   s       c   a   l   l       w   i   l   l       p   l   a   c   e       t   h   e       s   e   r   v   e   r       i   n       a       n   e   w       p   r   o   c   e   s   s       g   r   o   u   p       a   n   d       s   e   s   s   i   o   n       a   n   d       d   e   t   a   c   h       i   t   s       c   o   n   t   r   o   l   l   i   n   g       t   e   r   m   i   n   a   l   .       (   s   e   t   p   g   r   p   (   )       i   s       a   n       a   l   t   e   r   n   a   t   i   v   e       f   o   r       t   h   i   s   )   &lt;   /   p   &gt;   
   
   &lt;   h   2   &gt;   3   )       I   n   h   e   r   i   t   e   d       D   e   s   c   r   i   p   t   o   r   s       a   n   d       S   t   a   n   d   a   r   t       I   /   0       D   e   s   c   r   i   p   t   o   r   s       [   g   e   t   t   a   b   l   e   s   i   z   e   ,   f   o   r   k   ,   o   p   e   n   ,   c   l   o   s   e   ,   d   u   p   ,   s   t   d   i   o   .   h   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   O   p   e   n       d   e   s   c   r   i   p   t   o   r   s       a   r   e       i   n   h   e   r   i   t   e   d       t   o       c   h   i   l   d       p   r   o   c   e   s   s   ,       t   h   i   s       m   a   y       c   a   u   s   e       t   h   e       u   s   e       o   f       r   e   s   o   u   r   c   e   s       u   n   n   e   c   c   e   s   s   a   r   i   l   y   .       U   n   n   e   c   c   e   s   a   r   r   y       d   e   s   c   r   i   p   t   o   r   s       s   h   o   u   l   d       b   e       c   l   o   s   e   d       b   e   f   o   r   e       f   o   r   k   (   )       s   y   s   t   e   m       c   a   l   l       (   s   o       t   h   a   t       t   h   e   y       a   r   e       n   o   t       i   n   h   e   r   i   t   e   d   )       o   r       c   l   o   s   e       a   l   l       o   p   e   n       d   e   s   c   r   i   p   t   o   r   s       a   s       s   o   o   n       a   s       t   h   e       c   h   i   l   d       p   r   o   c   e   s   s       s   t   a   r   t   s       r   u   n   n   i   n   g   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   f   o   r       (   i   =   g   e   t   d   t   a   b   l   e   s   i   z   e   (   )   ;   i   &gt;   =   0   ;   -   -   i   )       c   l   o   s   e   (   i   )   ;       /   *       c   l   o   s   e       a   l   l       d   e   s   c   r   i   p   t   o   r   s       *   /   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   T   h   e   r   e       a   r   e       t   h   r   e   e       s   t   a   n   d   a   r   t       I   /   O       d   e   s   c   r   i   p   t   o   r   s   :       s   t   a   n   d   a   r   t       i   n   p   u   t       '   s   t   d   i   n   '       (   0   )   ,       s   t   a   n   d   a   r   t       o   u   t   p   u   t       '   s   t   d   o   u   t   '       (   1   )   ,       s   t   a   n   d   a   r   t       e   r   r   o   r       '   s   t   d   e   r   r   '       (   2   )   .       A       s   t   a   n   d   a   r   d       l   i   b   r   a   r   y       r   o   u   t   i   n   e       m   a   y       r   e   a   d       o   r       w   r   i   t   e       t   o       s   t   a   n   d   a   r   t       I   /   O       a   n   d       i   t       m   a   y       o   c   c   u   r       t   o       a       t   e   r   m   i   n   a   l       o   r       f   i   l   e   .       F   o   r       s   a   f   e   t   y   ,       t   h   e   s   e       d   e   s   c   r   i   p   t   o   r   s       s   h   o   u   l   d       b   e       o   p   e   n   e   d       a   n   d       c   o   n   n   e   c   t   e   d   t   h   e   m       t   o       a       h   a   r   m   l   e   s   s       I   /   O       d   e   v   i   c   e       (   s   u   c   h       a   s       /   d   e   v   /   n   u   l   l   )   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   i   =   o   p   e   n   (   &amp;   q   u   o   t   ;   /   d   e   v   /   n   u   l   l   &amp;   q   u   o   t   ;   ,   O   _   R   D   W   R   )   ;       /   *       o   p   e   n       s   t   d   i   n       *   /   
   	   d   u   p   (   i   )   ;       /   *       s   t   d   o   u   t       *   /   
   	   d   u   p   (   i   )   ;       /   *       s   t   d   e   r   r       *   /   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   A   s       U   n   i   x       a   s   s   i   g   n   s       d   e   s   c   r   i   p   t   o   r   s       s   e   q   u   e   n   t   i   a   l   l   y   ,       f   o   p   e   n       c   a   l   l       w   i   l   l       o   p   e   n       s   t   d   i   n       a   n   d       d   u   p       c   a   l   l   s       w   i   l   l       p   r   o   v   i   d   e       a       c   o   p   y       f   o   r       s   t   d   o   u   t       a   n   d       s   t   d   e   r   r   .   &lt;   /   p   &gt;   
   
   &lt;   h   2   &gt;   4   )       F   i   l   e       C   r   e   a   t   i   o   n       M   a   s   k       [   u   m   a   s   k   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   M   o   s   t       s   e   r   v   e   r   s       r   u   n   s       a   s       s   u   p   e   r   -   u   s   e   r   ,       f   o   r       s   e   c   u   r   i   t   y       r   e   a   s   o   n   s       t   h   e   y       s   h   o   u   l   d       p   r   o   t   e   c   t       f   i   l   e   s       t   h   a   t       t   h   e   y       c   r   e   a   t   e   .       S   e   t   t   i   n   g       u   s   e   r       m   a   s   k       w   i   l   l       p   r   e       v   e   n   t       u   n   s   e   c   u   r   e       f   i   l   e       p   r   i   v   i   l   i   g   e   s       t   h   a   t       m   a   y       o   c   c   u   r       o   n       f   i   l   e       c   r   e   a   t   i   o   n   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   u   m   a   s   k   (   0   2   7   )   ;   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   T   h   i   s       w   i   l   l       r   e   s   t   r   i   c   t       f   i   l   e       c   r   e   a   t   i   o   n       m   o   d   e       t   o       7   5   0       (   c   o   m   p   l   e   m   e   n   t       o   f       0   2   7   )   .   &lt;   /   p   &gt;   
   
   &lt;   h   2   &gt;   5   )       R   u   n   n   i   n   g       D   i   r   e   c   t   o   r   y       [   c   h   d   i   r   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   A       s   e   r   v   e   r       s   h   o   u   l   d       r   u   n       i   n       a       k   n   o   w   n       d   i   r   e   c   t   o   r   y   .       T   h   e   r   e       a   r   e       m   a   n   y       a   d   v   a   n   t   a   g   e   s   ,       i   n       f   a   c   t       t   h   e       o   p   p   o   s   i   t   e       h   a   s       m   a   n   y       d   i   s   a   d   v   a   n   t   a   g   e   s   :       s   u   p   p   o   s   e       t   h   a   t       o   u   r       s   e   r   v   e   r       i   s       s   t   a   r   t   e   d       i   n       a       u   s   e   r   '   s       h   o   m   e       d   i   r   e   c   t   o   r   y   ,       i   t       w   i   l   l       n   o   t       b   e       a   b   l   e       t   o       f   i   n   d       s   o   m   e       i   n   p   u   t       a   n   d       o   u   t   p   u   t       f   i   l   e   s   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   c   h   d   i   r   (   &amp;   q   u   o   t   ;   /   s   e   r   v   e   r   s   /   &amp;   q   u   o   t   ;   )   ;   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   T   h   e       r   o   o   t       &amp;   q   u   o   t   ;   /   &amp;   q   u   o   t   ;       d   i   r   e   c   t   o   r   y       m   a   y       n   o   t       b   e       a   p   p   r   o   p   r   i   a   t   e       f   o   r       e   v   e   r   y       s   e   r   v   e   r   ,       i   t       s   h   o   u   l   d       b   e       c   h   o   o   s   e   n       c   a   r   e   f   u   l   l   y       d   e   p   e   n   d   i   n   g       o   n       t   h   e       t   y   p   e       o   f       t   h   e       s   e   r   v   e   r   .   &lt;   /   p   &gt;   
   
   &lt;   h   2   &gt;   6   )       M   u   t   u   a   l       E   x   c   l   u   s   i   o   n       a   n   d       R   u   n   n   i   n   g       a       S   i   n   g   l   e       C   o   p   y       [   o   p   e   n   ,   l   o   c   k   f   ,   g   e   t   p   i   d   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   M   o   s   t       s   e   r   v   i   c   e   s       r   e   q   u   i   r   e       r   u   n   n   i   n   g       o   n   l   y       o   n   e       c   o   p   y       o   f       a       s   e   r   v   e   r       a   t       a       t   i   m   e   .       F   i   l   e       l   o   c   k   i   n   g       m   e   t   h   o   d       i   s       a       g   o   o   d       s   o   l   u   t   i   o   n       f   o   r       m   u   t   u   a   l       e   x   c   l   u   s   i   o   n   .       T   h   e       f   i   r   s   t       i   n   s   t   a   n   c   e       o   f       t   h   e       s   e   r   v   e   r       l   o   c   k   s       t   h   e       f   i   l   e       s   o       t   h   a   t       o   t   h   e   r       i   n   s   t   a   n   c   e   s       u   n   d   e   r   s   t   a   n   d       t   h   a   t       a   n       i   n   s   t   a   n   c   e       i   s       a   l   r   e   a   d   y       r   u   n   n   i   n   g   .       I   f       s   e   r   v   e   r       t   e   r   m   i   n   a   t   e   s       l   o   c   k       w   i   l   l       b   e       a   u   t   o   m   a   t   i   c   a   l   l   y       r   e   l   e   a   s   e   d       s   o       t   h   a   t       a       n   e   w       i   n   s   t   a   n   c   e       c   a   n       r   u   n   .       R   e   c   o   r   d   i   n   g       t   h   e       p   i   d       o   f       t   h   e       r   u   n   n   i   n   g       i   n   s   t   a   n   c   e       i   s       a       g   o   o   d       i   d   e   a   .       I   t       w   i   l   l       s   u   r   e   l   y       b   e       e   f   f   i   c   i   e   n   t       t   o       m   a   k   e       '   c   a   t       m   y   d   a   a   m   o   n   .   l   o   c   k   '       i   n   s   t   e   a   d       o   f       '   p   s       -   e   f   |   g   r   e   p       m   y   d   a   e   m   o   n   '   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   l   f   p   =   o   p   e   n   (   &amp;   q   u   o   t   ;   e   x   a   m   p   l   e   d   .   l   o   c   k   &amp;   q   u   o   t   ;   ,   O   _   R   D   W   R   |   O   _   C   R   E   A   T   ,   0   6   4   0   )   ;   
   	   i   f       (   l   f   p   &amp;   l   t   ;   0   )       e   x   i   t   (   1   )   ;       /   *       c   a   n       n   o   t       o   p   e   n       *   /   
   	   i   f       (   l   o   c   k   f   (   l   f   p   ,   F   _   T   L   O   C   K   ,   0   )   &amp;   l   t   ;   0   )       e   x   i   t   (   0   )   ;       /   *       c   a   n       n   o   t       l   o   c   k       *   /   
   	   /   *       o   n   l   y       f   i   r   s   t       i   n   s   t   a   n   c   e       c   o   n   t   i   n   u   e   s       *   /   
   
   	   s   p   r   i   n   t   f   (   s   t   r   ,   &amp;   q   u   o   t   ;   %   d   \   n   &amp;   q   u   o   t   ;   ,   g   e   t   p   i   d   (   )   )   ;   
   	   w   r   i   t   e   (   l   f   p   ,   s   t   r   ,   s   t   r   l   e   n   (   s   t   r   )   )   ;       /   *       r   e   c   o   r   d       p   i   d       t   o       l   o   c   k   f   i   l   e       *   /   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   h   2   &gt;   7   )       C   a   t   c   h   i   n   g       S   i   g   n   a   l   s       [   s   i   g   n   a   l   ,   s   y   s   /   s   i   g   n   a   l   .   h   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   A       p   r   o   c   e   s   s       m   a   y       r   e   c   e   i   v   e       s   i   g   n   a   l       f   r   o   m       a       u   s   e   r       o   r       a       p   r   o   c   e   s   s   ,       i   t   s       b   e   s   t       t   o       c   a   t   c   h       t   h   o   s   e       s   i   g   n   a   l   s       a   n   d       b   e   h   a   v   e       a   c   c   o   r   d   i   n   g   l   y   .       C   h   i   l   d       p   r   o   c   e   s   s   e   s       s   e   n   d       S   I   G   C   H   L   D       s   i   g   n   a   l       w   h   e   n       t   h   e   y       t   e   r   m   i   n   a   t   e   ,       s   e   r   v   e   r       p   r   o   c   e   s   s       m   u   s   t       e   i   t   h   e   r       i   g   n   o   r   e       o   r       h   a   n   d   l   e       t   h   e   s   e       s   i   g   n   a   l   s   .       S   o   m   e       s   e   r   v   e   r   s       a   l   s   o       u   s   e       h   a   n   g   -   u   p       s   i   g   n   a   l       t   o       r   e   s   t   a   r   t       t   h   e       s   e   r   v   e   r       a   n   d       i   t       i   s       a       g   o   o   d       i   d   e   a       t   o       r   e   h   a   s   h       w   i   t   h       a       s   i   g   n   a   l   .       N   o   t   e       t   h   a   t       '   k   i   l   l   '       c   o   m   m   a   n   d       s   e   n   d   s       S   I   G   T   E   R   M       (   1   5   )       b   y       d   e   f   a   u   l   t       a   n   d       S   I   G   K   I   L   L       (   9   )       s   i   g   n   a   l       c   a   n       n   o   t       b   e       c   a   u   g   h   t   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   s   i   g   n   a   l   (   S   I   G   _   I   G   N   ,   S   I   G   C   H   L   D   )   ;       /   *       c   h   i   l   d       t   e   r   m   i   n   a   t   e       s   i   g   n   a   l       *   /   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   T   h   e       a   b   o   v   e       c   o   d   e       i   g   n   o   r   e   s       t   h   e       c   h   i   l   d       t   e   r   m   i   n   a   t   e       s   i   g   n   a   l       (   o   n       B   S   D       s   y   s   t   e   m   s       p   a   r   e   n   t   s       s   h   o   u   l   d       w   a   i   t       f   o   r       t   h   e   i   r       c   h   i   l   d   ,       s   o       t   h   i   s       s   i   g   n   a   l       s   h   o   u   l   d       b   e       c   a   u   g   h   t       t   o       a   v   o   i   d       z   o   m   b   i   e       p   r   o   c   e   s   s   e   s   )   ,       a   n   d       t   h   e       o   n   e       b   e   l   o   w       d   e   m   o   n   s   t   r   a   t   e   s       h   o   w       t   o       c   a   t   c   h       t   h   e       s   i   g   n   a   l   s   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   v   o   i   d       S   i   g   n   a   l   _   H   a   n   d   l   e   r   (   s   i   g   )       /   *       s   i   g   n   a   l       h   a   n   d   l   e   r       f   u   n   c   t   i   o   n       *   /   
   	   i   n   t       s   i   g   ;   
   	   {   
   	   	   s   w   i   t   c   h   (   s   i   g   )   {   
   	   	   	   c   a   s   e       S   I   G   H   U   P   :   
   	   	   	   	   /   *       r   e   h   a   s   h       t   h   e       s   e   r   v   e   r       *   /   
   	   	   	   	   b   r   e   a   k   ;   	   	   
   	   	   	   c   a   s   e       S   I   G   T   E   R   M   :   
   	   	   	   	   /   *       f   i   n   a   l   i   z   e       t   h   e       s   e   r   v   e   r       *   /   
   	   	   	   	   e   x   i   t   (   0   )   
   	   	   	   	   b   r   e   a   k   ;   	   	   
   	   	   }   	   
   	   }   
   
   	   s   i   g   n   a   l   (   S   I   G   H   U   P   ,   S   i   g   n   a   l   _   H   a   n   d   l   e   r   )   ;       /   *       h   a   n   g   u   p       s   i   g   n   a   l       *   /   
   	   s   i   g   n   a   l   (   S   I   G   T   E   R   M   ,   S   i   g   n   a   l   _   H   a   n   d   l   e   r   )   ;       /   *       s   o   f   t   w   a   r   e       t   e   r   m   i   n   a   t   i   o   n       s   i   g   n   a   l       f   r   o   m       k   i   l   l       *   /   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   F   i   r   s   t       w   e       c   o   n   s   t   r   u   c   t       a       s   i   g   n   a   l       h   a   n   d   l   i   n   g       f   u   n   c   t   i   o   n       a   n   d       t   h   e   n       t   i   e       u   p       s   i   g   n   a   l   s       t   o       t   h   a   t       f   u   n   c   t   i   o   n   .   &lt;   /   p   &gt;   
   
   &lt;   h   2   &gt;   8   )       L   o   g   g   i   n   g       [   s   y   s   l   o   g   d   ,   s   y   s   l   o   g   .   c   o   n   f   ,   o   p   e   n   l   o   g   ,   s   y   s   l   o   g   ,   c   l   o   s   e   l   o   g   ]   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   A       r   u   n   n   i   n   g       s   e   r   v   e   r       c   r   e   a   t   e   s       m   e   s   s   a   g   e   s   ,       n   a   t   u   r   a   l   l   y       s   o   m   e       a   r   e       i   m   p   o   r   t   a   n   t       a   n   d       s   h   o   u   l   d       b   e       l   o   g   g   e   d   .       A       p   r   o   g   r   a   m   m   e   r       w   a   n   t   s       t   o       s   e   e       d   e   b   u   g       m   e   s   s   a   g   e   s       o   r       a       s   y   s   t   e   m       o   p   e   r   a   t   o   r       w   a   n   t   s       t   o       s   e   e       e   r   r   o   r       m   e   s   s   a   g   e   s   .       T   h   e   r   e       a   r   e       s   e   v   e   r   a   l       w   a   y   s       t   o       h   a   n   d   l   e       t   h   o   s   e       m   e   s   s   a   g   e   s   .   &lt;   /   p   &gt;   
   
   &lt;   p   &gt;   &lt;   b   &gt;   R   e   d   i   r   e   c   t   i   n   g       a   l   l       o   u   t   p   u   t       t   o       s   t   a   n   d   a   r   d       I   /   O       :       &lt;   /   b   &gt;   T   h   i   s       i   s       w   h   a   t       a   n   c   i   e   n   t       s   e   r   v   e   r   s       d   o   ,       t   h   e   y       u   s   e       s   t   d   o   u   t       a   n   d       s   t   d   e   r   r       s   o       t   h   a   t       m   e   s   s   a   g   e   s       a   r   e       w   r   i   t   t   e   n       t   o       c   o   n   s   o   l   e   ,       t   e   r   m   i   n   a   l   ,       f   i   l   e       o   r       p   r   i   n   t   e   d       o   n       p   a   p   e   r   .       I   /   O       i   s       r   e   d   i   r   e   c   t   e   d       w   h   e   n       s   t   a   r   t   i   n   g       t   h   e       s   e   r   v   e   r   .       (   t   o       c   h   a   n   g   e       d   e   s   t   i   n   a   t   i   o   n   ,       s   e   r   v   e   r       m   u   s   t       b   e       r   e   s   t   a   r   t   e   d   )       I   n       f   a   c   t       t   h   i   s       k   i   n   d       o   f       a       s   e   r   v   e   r       i   s       a       p   r   o   g   r   a   m       r   u   n   n   i   n   g       i   n       f   o   r   e   g   r   o   u   n   d       (   n   o   t       a       d   a   e   m   o   n   )   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   #       m   y   d   a   e   m   o   n       2   &gt;       e   r   r   o   r   .   l   o   g   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   T   h   i   s       e   x   a   m   p   l   e       i   s       a       p   r   o   g   r   a   m       t   h   a   t       p   r   i   n   t   s       o   u   t   p   u   t       (   s   t   d   o   u   t   )       m   e   s   s   a   g   e   s       t   o       c   o   n   s   o   l   e       a   n   d       e   r   r   o   r       (   s   t   d   e   r   r   )       m   e   s   s   a   g   e   s       t   o       a       f   i   l   e       n   a   m   e   d       &amp;   q   u   o   t   ;   e   r   r   o   r   .   l   o   g   &amp;   q   u   o   t   ;   .       N   o   t   e       t   h   a   t       t   h   i   s       i   s       n   o   t       a       d   a   e   m   o   n       b   u   t       a       n   o   r   m   a   l       p   r   o   g   r   a   m   .   &lt;   /   p   &gt;   
   &lt;   p   &gt;   &lt;   b   &gt;   L   o   g       f   i   l   e       m   e   t   h   o   d       :       &lt;   /   b   &gt;   A   l   l       m   e   s   s   a   g   e   s       a   r   e       l   o   g   g   e   d       t   o       f   i   l   e   s       (   t   o       d   i   f   f   e   r   e   n   t       f   i   l   e   s       a   s       n   e   e   d   e   d   )   .       T   h   e   r   e       i   s       a       s   a   m   p   l   e       l   o   g   g   i   n   g       f   u   n   c   t   i   o   n       b   e   l   o   w   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   v   o   i   d       l   o   g   _   m   e   s   s   a   g   e   (   f   i   l   e   n   a   m   e   ,   m   e   s   s   a   g   e   )   
   	   c   h   a   r       *   f   i   l   e   n   a   m   e   ;   
   	   c   h   a   r       *   m   e   s   s   a   g   e   ;   
   	   {   
   	   F   I   L   E       *   l   o   g   f   i   l   e   ;   
   	   	   l   o   g   f   i   l   e   =   f   o   p   e   n   (   f   i   l   e   n   a   m   e   ,   &amp;   q   u   o   t   ;   a   &amp;   q   u   o   t   ;   )   ;   
   	   	   i   f   (   !   l   o   g   f   i   l   e   )       r   e   t   u   r   n   ;   
   	   	   f   p   r   i   n   t   f   (   l   o   g   f   i   l   e   ,   &amp;   q   u   o   t   ;   %   s   \   n   &amp;   q   u   o   t   ;   ,   m   e   s   s   a   g   e   )   ;   
   	   	   f   c   l   o   s   e   (   l   o   g   f   i   l   e   )   ;   
   	   }   
   
   	   l   o   g   _   m   e   s   s   a   g   e   (   &amp;   q   u   o   t   ;   c   o   n   n   .   l   o   g   &amp;   q   u   o   t   ;   ,   &amp;   q   u   o   t   ;   c   o   n   n   e   c   t   i   o   n       a   c   c   e   p   t   e   d   &amp;   q   u   o   t   ;   )   ;   
   	   l   o   g   _   m   e   s   s   a   g   e   (   &amp;   q   u   o   t   ;   e   r   r   o   r   .   l   o   g   &amp;   q   u   o   t   ;   ,   &amp;   q   u   o   t   ;   c   a   n       n   o   t       o   p   e   n       f   i   l   e   &amp;   q   u   o   t   ;   )   ;   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   &lt;   b   &gt;   L   o   g       s   e   r   v   e   r       m   e   t   h   o   d       :       &lt;   /   b   &gt;   A       m   o   r   e       f   l   e   x   i   b   l   e       l   o   g   g   i   n   g       t   e   c   h   n   i   q   u   e       i   s       u   s   i   n   g       l   o   g       s   e   r   v   e   r   s   .       U   n   i   x       d   i   s   t   r   i   b   u   t   i   o   n   s       h   a   v   e       s   y   s   t   e   m       l   o   g       d   a   e   m   o   n       n   a   m   e   d       &amp;   q   u   o   t   ;   s   y   s   l   o   g   d   &amp;   q   u   o   t   ;   .       T   h   i   s       d   a   e   m   o   n       g   r   o   u   p   s       m   e   s   s   a   g   e   s       i   n   t   o       c   l   a   s   s   e   s       (   k   n   o   w   n       a   s       f   a   c   i   l   i   t   y   )       a   n   d       t   h   e   s   e       c   l   a   s   s   e   s       c   a   n       b   e       r   e   d   i   r   e   c   t   e   d       t   o       d   i   f   f   e   r   e   n   t       p   l   a   c   e   s   .       S   y   s   l   o   g       u   s   e   s       a       c   o   n   f   i   g   u   r   a   t   i   o   n       f   i   l   e       (   /   e   t   c   /   s   y   s   l   o   g   .   c   o   n   f   )       t   h   a   t       t   h   o   s   e       r   e   d   i   r   e   c   t   i   o   n       r   u   l   e   s       r   e   s   i   d   e       i   n   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   	   o   p   e   n   l   o   g   (   &amp;   q   u   o   t   ;   m   y   d   a   e   m   o   n   &amp;   q   u   o   t   ;   ,   L   O   G   _   P   I   D   ,   L   O   G   _   D   A   E   M   O   N   )   
   	   s   y   s   l   o   g   (   L   O   G   _   I   N   F   O   ,       &amp;   q   u   o   t   ;   C   o   n   n   e   c   t   i   o   n       f   r   o   m       h   o   s   t       %   d   &amp;   q   u   o   t   ;   ,       c   a   l   l   i   n   g   h   o   s   t   n   a   m   e   )   ;   
   	   s   y   s   l   o   g   (   L   O   G   _   A   L   E   R   T   ,       &amp;   q   u   o   t   ;   D   a   t   a   b   a   s   e       E   r   r   o   r       !   &amp;   q   u   o   t   ;   )   ;   
   	   c   l   o   s   e   l   o   g   (   )   ;   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   I   n       o   p   e   n   l   o   g       c   a   l   l       &amp;   q   u   o   t   ;   m   y   d   a   e   m   o   n   &amp;   q   u   o   t   ;       i   s       a       s   t   r   i   n   g       t   h   a   t       i   d   e   n   t   i   f   i   e   s       o   u   r       d   a   e   m   o   n   ,       L   O   G   _   P   I   D       m   a   k   e   s       s   y   s   l   o   g   d       l   o   g       t   h   e       p   r   o   c   e   s   s       i   d       w   i   t   h       e   a   c   h       m   e   s   s   a   g   e       a   n   d       L   O   G   _   D   A   E   M   O   N       i   s       t   h   e       m   e   s   s   a   g   e       c   l   a   s   s   .       W   h   e   n       c   a   l   l   i   n   g       s   y   s   l   o   g       c   a   l   l       f   i   r   s   t       p   a   r   a   m   e   t   e   r       i   s       t   h   e       p   r   i   o   r   i   t   y       a   n   d       t   h   e       r   e   s   t       w   o   r   k   s       l   i   k   e       p   r   i   n   t   f   /   s   p   r   i   n   t   f   .       T   h   e   r   e       a   r   e       s   e   v   e   r   a   l       m   e   s   s   a   g   e       c   l   a   s   s   e   s       (   o   r       f   a   c   i   l   i   t   y       n   a   m   e   s   )   ,       l   o   g       o   p   t   i   o   n   s       a   n   d       p   r   i   o   r   i   t   y       l   e   v   e   l   s   .       H   e   r   e       a   r   e       s   o   m   e       e   x   a   m   p   l   e   s       :   &lt;   /   p   &gt;   
   
   &lt;   d   l   &gt;   
   &lt;   d   d   &gt;   M   e   s   s   a   g   e       c   l   a   s   s   e   s       :       L   O   G   _   U   S   E   R   ,       L   O   G   _   D   A   E   M   O   N   ,       L   O   G   _   L   O   C   A   L   0       t   o       L   O   G   _   L   O   C   A   L   7   &lt;   /   d   d   &gt;   
   &lt;   d   d   &gt;   L   o   g       o   p   t   i   o   n   s       :       L   O   G   _   P   I   D   ,       L   O   G   _   C   O   N   S   ,       L   O   G   _   P   E   R   R   O   R   &lt;   /   d   d   &gt;   
   &lt;   d   d   &gt;   P   r   i   o   r   i   t   y       l   e   v   e   l   s       :       L   O   G   _   E   M   E   R   G   ,       L   O   G   _   A   L   E   R   T   ,       L   O   G   _   E   R   R   ,       L   O   G   _   W   A   R   N   I   N   G   ,       L   O   G   _   I   N   F   O   &lt;   /   d   d   &gt;   
   &lt;   /   d   l   &gt;   
   
   &lt;   h   2   &gt;   A   b   o   u   t   &lt;   /   h   2   &gt;   
   
   &lt;   p   &gt;   T   h   i   s       t   e   x   t       i   s       w   r   i   t   t   e   n       b   y       L   e   v   e   n   t       K   a   r   a   k   a   s       &lt;   a       h   r   e   f   =   "   m   a   i   l   t   o   :   l   e   v   e   n   t       a   t       m   e   k   t   u   p       d   o   t       a   t   "   &gt;   &amp;   l   t   ;   l   e   v   e   n   t       a   t       m   e   k   t   u   p       d   o   t       a   t       &amp;   g   t   ;   &lt;   /   a   &gt;   .       S   e   v   e   r   a   l       b   o   o   k   s   ,       s   o   u   r   c   e   s       a   n   d       m   a   n   u   a   l       p   a   g   e   s       a   r   e       u   s   e   d   .       T   h   i   s       t   e   x   t       i   n   c   l   u   d   e   s       a       s   a   m   p   l   e       d   a   e   m   o   n       p   r   o   g   r   a   m       (   c   o   m   p   i   l   e   s       o   n       L   i   n   u   x       2   .   4   .   2   ,       O   p   e   n   B   S   D       2   .   7   ,       S   u   n   O   S       5   .   8   ,       S   C   O   -   U   n   i   x       3   .   2       a   n   d       p   r   o   b   a   b   l   y       o   n       y   o   u   r       f   l   a   v   o   r       o   f       U   n   i   x   )   .       Y   o   u       c   a   n       a   l   s   o       d   o   w   n   l   o   a   d       p   l   a   i   n       s   o   u   r   c   e       f   i   l   e       :       &lt;   a       h   r   e   f   =   "   e   x   a   m   p   l   e   d   .   c   "   &gt;   e   x   a   m   p   l   e   d   .   c   &lt;   /   a   &gt;   .       H   o   p   e       y   o   u       f   i   n   d       t   h   i   s       d   o   c   u   m   e   n   t       u   s   e   f   u   l   .       W   e       d   o       l   o   v   e       U   n   i   x   .   &lt;   /   p   &gt;   
   
   &lt;   p   r   e   &gt;   
   
   /   *   
   U   N   I   X       D   a   e   m   o   n       S   e   r   v   e   r       P   r   o   g   r   a   m   m   i   n   g       S   a   m   p   l   e       P   r   o   g   r   a   m   
   L   e   v   e   n   t       K   a   r   a   k   a   s       &amp;   l   t   ;   l   e   v   e   n   t       a   t       m   e   k   t   u   p       d   o   t       a   t   &amp;   g   t   ;       M   a   y       2   0   0   1   
   
   T   o       c   o   m   p   i   l   e   :   	   c   c       -   o       e   x   a   m   p   l   e   d       e   x   a   m   p   e   d   .   c   
   T   o       r   u   n   :   	   	   .   /   e   x   a   m   p   l   e   d   
   T   o       t   e   s   t       d   a   e   m   o   n   :   	   p   s       -   e   f   |   g   r   e   p       e   x   a   m   p   l   e   d       (   o   r       p   s       -   a   u   x       o   n       B   S   D       s   y   s   t   e   m   s   )   
   T   o       t   e   s   t       l   o   g   :   	   t   a   i   l       -   f       /   t   m   p   /   e   x   a   m   p   l   e   d   .   l   o   g   
   T   o       t   e   s   t       s   i   g   n   a   l   :   	   k   i   l   l       -   H   U   P       `   c   a   t       /   t   m   p   /   e   x   a   m   p   l   e   d   .   l   o   c   k   `   
   T   o       t   e   r   m   i   n   a   t   e   :   	   k   i   l   l       `   c   a   t       /   t   m   p   /   e   x   a   m   p   l   e   d   .   l   o   c   k   `   
   *   /   
   
   #   i   n   c   l   u   d   e       &amp;   l   t   ;   s   t   d   i   o   .   h   &amp;   g   t   ;   
   #   i   n   c   l   u   d   e       &amp;   l   t   ;   f   c   n   t   l   .   h   &amp;   g   t   ;   
   #   i   n   c   l   u   d   e       &amp;   l   t   ;   s   i   g   n   a   l   .   h   &amp;   g   t   ;   
   #   i   n   c   l   u   d   e       &amp;   l   t   ;   u   n   i   s   t   d   .   h   &amp;   g   t   ;   
   
   #   d   e   f   i   n   e       R   U   N   N   I   N   G   _   D   I   R   	   &amp;   q   u   o   t   ;   /   t   m   p   &amp;   q   u   o   t   ;   
   #   d   e   f   i   n   e       L   O   C   K   _   F   I   L   E   	   &amp;   q   u   o   t   ;   e   x   a   m   p   l   e   d   .   l   o   c   k   &amp;   q   u   o   t   ;   
   #   d   e   f   i   n   e       L   O   G   _   F   I   L   E   	   &amp;   q   u   o   t   ;   e   x   a   m   p   l   e   d   .   l   o   g   &amp;   q   u   o   t   ;   
   
   v   o   i   d       l   o   g   _   m   e   s   s   a   g   e   (   f   i   l   e   n   a   m   e   ,   m   e   s   s   a   g   e   )   
   c   h   a   r       *   f   i   l   e   n   a   m   e   ;   
   c   h   a   r       *   m   e   s   s   a   g   e   ;   
   {   
   F   I   L   E       *   l   o   g   f   i   l   e   ;   
   	   l   o   g   f   i   l   e   =   f   o   p   e   n   (   f   i   l   e   n   a   m   e   ,   &amp;   q   u   o   t   ;   a   &amp;   q   u   o   t   ;   )   ;   
   	   i   f   (   !   l   o   g   f   i   l   e   )       r   e   t   u   r   n   ;   
   	   f   p   r   i   n   t   f   (   l   o   g   f   i   l   e   ,   &amp;   q   u   o   t   ;   %   s   \   n   &amp;   q   u   o   t   ;   ,   m   e   s   s   a   g   e   )   ;   
   	   f   c   l   o   s   e   (   l   o   g   f   i   l   e   )   ;   
   }   
   
   v   o   i   d       s   i   g   n   a   l   _   h   a   n   d   l   e   r   (   s   i   g   )   
   i   n   t       s   i   g   ;   
   {   
   	   s   w   i   t   c   h   (   s   i   g   )       {   
   	   c   a   s   e       S   I   G   H   U   P   :   
   	   	   l   o   g   _   m   e   s   s   a   g   e   (   L   O   G   _   F   I   L   E   ,   &amp;   q   u   o   t   ;   h   a   n   g   u   p       s   i   g   n   a   l       c   a   t   c   h   e   d   &amp;   q   u   o   t   ;   )   ;   
   	   	   b   r   e   a   k   ;   
   	   c   a   s   e       S   I   G   T   E   R   M   :   
   	   	   l   o   g   _   m   e   s   s   a   g   e   (   L   O   G   _   F   I   L   E   ,   &amp;   q   u   o   t   ;   t   e   r   m   i   n   a   t   e       s   i   g   n   a   l       c   a   t   c   h   e   d   &amp;   q   u   o   t   ;   )   ;   
   	   	   e   x   i   t   (   0   )   ;   
   	   	   b   r   e   a   k   ;   
   	   }   
   }   
   
   v   o   i   d       d   a   e   m   o   n   i   z   e   (   )   
   {   
   i   n   t       i   ,   l   f   p   ;   
   c   h   a   r       s   t   r   [   1   0   ]   ;   
   	   i   f   (   g   e   t   p   p   i   d   (   )   =   =   1   )       r   e   t   u   r   n   ;       /   *       a   l   r   e   a   d   y       a       d   a   e   m   o   n       *   /   
   	   i   =   f   o   r   k   (   )   ;   
   	   i   f       (   i   &amp;   l   t   ;   0   )       e   x   i   t   (   1   )   ;       /   *       f   o   r   k       e   r   r   o   r       *   /   
   	   i   f       (   i   &amp;   g   t   ;   0   )       e   x   i   t   (   0   )   ;       /   *       p   a   r   e   n   t       e   x   i   t   s       *   /   
   	   /   *       c   h   i   l   d       (   d   a   e   m   o   n   )       c   o   n   t   i   n   u   e   s       *   /   
   	   s   e   t   s   i   d   (   )   ;       /   *       o   b   t   a   i   n       a       n   e   w       p   r   o   c   e   s   s       g   r   o   u   p       *   /   
   	   f   o   r       (   i   =   g   e   t   d   t   a   b   l   e   s   i   z   e   (   )   ;   i   &amp;   g   t   ;   =   0   ;   -   -   i   )       c   l   o   s   e   (   i   )   ;       /   *       c   l   o   s   e       a   l   l       d   e   s   c   r   i   p   t   o   r   s       *   /   
   	   i   =   o   p   e   n   (   &amp;   q   u   o   t   ;   /   d   e   v   /   n   u   l   l   &amp;   q   u   o   t   ;   ,   O   _   R   D   W   R   )   ;       d   u   p   (   i   )   ;       d   u   p   (   i   )   ;       /   *       h   a   n   d   l   e       s   t   a   n   d   a   r   t       I   /   O       *   /   
   	   u   m   a   s   k   (   0   2   7   )   ;       /   *       s   e   t       n   e   w   l   y       c   r   e   a   t   e   d       f   i   l   e       p   e   r   m   i   s   s   i   o   n   s       *   /   
   	   c   h   d   i   r   (   R   U   N   N   I   N   G   _   D   I   R   )   ;       /   *       c   h   a   n   g   e       r   u   n   n   i   n   g       d   i   r   e   c   t   o   r   y       *   /   
   	   l   f   p   =   o   p   e   n   (   L   O   C   K   _   F   I   L   E   ,   O   _   R   D   W   R   |   O   _   C   R   E   A   T   ,   0   6   4   0   )   ;   
   	   i   f       (   l   f   p   &amp;   l   t   ;   0   )       e   x   i   t   (   1   )   ;       /   *       c   a   n       n   o   t       o   p   e   n       *   /   
   	   i   f       (   l   o   c   k   f   (   l   f   p   ,   F   _   T   L   O   C   K   ,   0   )   &amp;   l   t   ;   0   )       e   x   i   t   (   0   )   ;       /   *       c   a   n       n   o   t       l   o   c   k       *   /   
   	   /   *       f   i   r   s   t       i   n   s   t   a   n   c   e       c   o   n   t   i   n   u   e   s       *   /   
   	   s   p   r   i   n   t   f   (   s   t   r   ,   &amp;   q   u   o   t   ;   %   d   \   n   &amp;   q   u   o   t   ;   ,   g   e   t   p   i   d   (   )   )   ;   
   	   w   r   i   t   e   (   l   f   p   ,   s   t   r   ,   s   t   r   l   e   n   (   s   t   r   )   )   ;       /   *       r   e   c   o   r   d       p   i   d       t   o       l   o   c   k   f   i   l   e       *   /   
   	   s   i   g   n   a   l   (   S   I   G   C   H   L   D   ,   S   I   G   _   I   G   N   )   ;       /   *       i   g   n   o   r   e       c   h   i   l   d       *   /   
   	   s   i   g   n   a   l   (   S   I   G   T   S   T   P   ,   S   I   G   _   I   G   N   )   ;       /   *       i   g   n   o   r   e       t   t   y       s   i   g   n   a   l   s       *   /   
   	   s   i   g   n   a   l   (   S   I   G   T   T   O   U   ,   S   I   G   _   I   G   N   )   ;   
   	   s   i   g   n   a   l   (   S   I   G   T   T   I   N   ,   S   I   G   _   I   G   N   )   ;   
   	   s   i   g   n   a   l   (   S   I   G   H   U   P   ,   s   i   g   n   a   l   _   h   a   n   d   l   e   r   )   ;       /   *       c   a   t   c   h       h   a   n   g   u   p       s   i   g   n   a   l       *   /   
   	   s   i   g   n   a   l   (   S   I   G   T   E   R   M   ,   s   i   g   n   a   l   _   h   a   n   d   l   e   r   )   ;       /   *       c   a   t   c   h       k   i   l   l       s   i   g   n   a   l       *   /   
   }   
   
   m   a   i   n   (   )   
   {   
   	   d   a   e   m   o   n   i   z   e   (   )   ;   
   	   w   h   i   l   e   (   1   )       s   l   e   e   p   (   1   )   ;       /   *       r   u   n       *   /   
   }   
   
   /   *       E   O   F       *   /   
   
   &lt;   /   p   r   e   &gt;   
   
   &lt;   p   &gt;   &amp;   n   b   s   p   ;   &lt;   /   p   &gt;   
   &lt;   p   &gt;   L   a   s   t       U   p   d   a   t   e       :       1   6   .   0   5   .   2   0   0   1   &lt;   /   p   &gt;   
   &lt;   p   &gt;   &amp;   n   b   s   p   ;   &lt;   /   p   &gt;   
   
   
                   &lt;   /   t   d   &gt;   
           &lt;   /   t   r   &gt;   
   &lt;   /   t   a   b   l   e   &gt;   &lt;   b   r   /   &gt;   
   
   &lt;   /   d   i   v   &gt;   
   
   &lt;   /   b   o   d   y   &gt;   
   &lt;   /   h   t   m   l   &gt;
  </style>
 </head>
</html>