<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Dynamic Capabilities of Scrolling Divs JavaScript
  </title>
  <link href="/lib/css/page_v1_r1.css" rel="stylesheet"/>
  <link href="/lib/css/small_r1.css" media="screen and (max-width: 900px)" rel="stylesheet"/>
  <script src="/lib/js/page_v1_r1.js" type="text/javascript">
  </script>
  <style type="text/css">
   /* Styles can be set up for accessibility with CSS enabled / JavaScript disabled.
That is not the case for online demos. */
    
/* for non-js */
/*div#scroll_controls {
    display:none;
    }*/
    
@media print {
    /* scroll code positions absolute */
    div#lyr1, div#lyr2, div#lyr3, div#lyr4 { position:static !important; } 
}
  </style>
  <link href="css/refresh.css" rel="stylesheet" type="text/css"/>
  <script src="js/dw_scroll_c.js" type="text/javascript">
  </script>
  <script src="/lib/js/dw_xhr.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   function init_dw_Scroll() {
    var wndo = new dw_scrollObj('wn', 'lyr1');
    wndo.buildScrollControls('scrollbar', 'v', 'mouseover', true);
    wndo.setUpLoadLinks('scroll_controls');
}

// if code supported, link in the style sheet (optional) and call the init function onload
if ( dw_scrollObj.isSupported() ) {
    // include with link tag when using domReady
    //dw_Util.writeStyleSheet('css/refresh.css');
    //dw_Event.add( window, 'load', init_dw_Scroll);
    
    // flash ads w/o 'polite load' GREATLY delay onload event
	DYN_WEB.Event.domReady(init_dw_Scroll);
    // refresh onload, in case image height/width not included
	DYN_WEB.Event.add( window, 'load', dw_scrollObj.refreshAll);
}


/////////////////////////////////////////////////////////////////////
// ajax demo 

dw_scrollObj.request = null;
dw_scrollObj.ajaxCallback = {
    success: handleScrollRequest
}

// links for ajax demo call this function
function get_content(url) {
    url = 'demos/' + url;
    // Place the content in lyr4 for our demo 
    var el = document.getElementById('lyr4');
    
    if ( dw_scrollObj.request ) {
        dw_scrollObj.request.abort();
    }
    var req = dw_scrollObj.request = dw_XHR.makeRequest(url, dw_scrollObj.ajaxCallback );
    
    if (req) {
        dw_scrollObj.loadLayer('wn','lyr4');
        el.innerHTML = 'Retrieving data ... ';
    } else {
        
    }
}

function handleScrollRequest() {
    var el = document.getElementById('lyr4');
    var req = dw_scrollObj.request;

    try {
        var msg = req.responseText;
        el.innerHTML = msg;
        dw_scrollObj.loadLayer('wn','lyr4');
    } catch (e) {
    }
}

dw_scrollObj.loadLayer = function(wndoId, lyrId, horizId) {
    if ( dw_scrollObj.col[wndoId] ) dw_scrollObj.col[wndoId].load(lyrId, horizId);
}

// end ajax demo code
/////////////////////////////////////////////////////////////////////

// Adds content to whichever layer is active and updates the dimensions and scrollbar
function add_content() {  
    var wndo = dw_scrollObj.col['wn'];
    var el = document.getElementById(wndo.lyrId);
    el.innerHTML += '&lt;p&gt;More content for the scroll area. Adding a bit more content for our demo.&lt;/p&gt;';
    
    wndo.updateDims();
}

// another demo for updating scroll values
function toggleDisplay(id) {
    var el = document.getElementById(id);
    if ( el.style.display == 'block' ) {
        el.style.display = 'none';
    } else {
        el.style.display = 'block';
    }
    
    var wndo = dw_scrollObj.col['wn'];
    wndo.updateDims();
}
  </script>
 </head>
 <body>
  <!-- BuySellAds Ad Code -->
  <script type="text/javascript">
   (function(){
  var bsa = document.createElement('script');
     bsa.type = 'text/javascript';
     bsa.async = true;
     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';
  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
})();
  </script>
  <!-- End BuySellAds Ad Code -->
  <div id="container">
   <div id="header">
    <ul id="header_nav">
     <li>
      <span id="logo">
       <a href="http://www.dyn-web.com/">
        Dynamic Web Coding
       </a>
      </span>
     </li>
     <li>
      <a href="/tutorials/">
       Tutorials
      </a>
     </li>
     <li>
      <a href="/code/">
       JavaScripts
      </a>
     </li>
     <li>
      <a href="/php/">
       PHP
      </a>
     </li>
     <li>
      <a href="/sitemap.php">
       Site Map
      </a>
     </li>
    </ul>
   </div>
   <div class="cf" id="main">
    <div class="leaderboard cf">
     <div class="lb_ad">
      <div class="bsarocks bsap_1bccacec8a237dc435b9b6de892921cd" id="bsap_1302867">
      </div>
     </div>
     <div class="my_ad2" id="my_lbd_ad">
      <a href="https://buysellads.com/buy/detail/255995" rel="nofollow" target="_blank">
       Advertise on dyn-web.com.
       <br/>
       Start now at BuySellAds!
      </a>
     </div>
    </div>
    <div id="content">
     <div id="text">
      <h1>
       Updating Content and Values in Scrolling Divs
      </h1>
      <p>
       The content inside a scrolling div may be modified or replaced in a variety of ways: using Ajax, changing visibility or display on elements inside the scrolling div, or by using innerHTML or DOM methods. The
       <a href="/code/scroll/">
        Scrolling Divs JavaScript
       </a>
       is able to accommodate these changes by providing methods for recalculating and updating values as needed. The example below demonstrates.
      </p>
      <h2>
       Demonstrating Dynamic Update
      </h2>
      <div id="holder">
       <div id="scroll_controls">
        <ul>
         <li>
          <a class="load_wn_lyr2" href="#lyr2">
           Swap Content
          </a>
         </li>
         <li>
          <a class="load_wn_lyr1" href="#lyr1">
           Original Content
          </a>
         </li>
         <li>
          <a class="load_wn_lyr3" href="#lyr3">
           Toggle Display
          </a>
         </li>
         <li>
          <a href="demos/ex1.php" onclick="get_content('ex1.php'); return false">
           Ajax Link 1
          </a>
         </li>
         <li>
          <a href="demos/ex2.php" onclick="get_content('ex2.php'); return false">
           Ajax Link 2
          </a>
         </li>
         <li>
          <a href="#" onclick="add_content(); return false">
           Add Content
          </a>
         </li>
        </ul>
       </div>
       <div id="scrollbar">
       </div>
       <div id="wn">
        <div class="scroll_content" id="lyr1">
         <h3>
          Refreshing Scrolling Divs
         </h3>
         <p>
          Click the links on the right to see new content swapped into this scroll area. The "Swap Content" and "Original Content" links toggle the visibility of divs that are nested within this scroll area.
         </p>
         <p>
          The Scrolling Divs JavaScript supports Ajax as well. Try the two Ajax links on the right to see.
         </p>
         <p>
          The "Add Content" link will add a bit of content to whatever div is visible in this scroll area to demonstrate the code's ability to adapt to changes in content.
         </p>
         <p>
          If one of the divs does not contain enough content for scrolling to be required, the scroll controls will be hidden by default, although you can easily override this feature if you prefer.
         </p>
        </div>
        <div class="scroll_content" id="lyr2">
         <h3>
          Swapping Content
         </h3>
         <p>
          This content is in another div originally hidden within the scroll area. An unlimited number of hidden divs can be nested within a scroll area for the purpose of swapping content.
         </p>
         <p>
          The
          <a href="documentation2.php#swap">
           documentation
          </a>
          has information on setting up divs and links for swapping.
         </p>
         <p>
          The "Toggle Display" link swaps another div in this scroll area and shows how the scrolling divs code can respond to changes in content size when elements inside are expanded and contracted.
         </p>
         <p>
          The scroll controls can be hidden if the amount of content in the div is not sufficient to require scrolling.
         </p>
        </div>
        <div class="scroll_content" id="lyr3">
         <h3>
          Toggling Display in Scroll Divs
         </h3>
         <p>
          The links below demonstrate the scrolling divs capability to adapt to changes in content size. Clicking the links toggles display between
          <code>
           none
          </code>
          and
          <code>
           block
          </code>
          .
         </p>
         <dl class="toggle">
          <dt>
           <a href="#" onclick="toggleDisplay('tog1'); return false">
            Custom scrollbar
           </a>
          </dt>
          <dd id="tog1">
           You can control the appearance using the styles and graphics of your choice.
          </dd>
          <dt>
           <a href="#" onclick="toggleDisplay('tog2'); return false">
            Auto-hide controls
           </a>
          </dt>
          <dd id="tog2">
           The scrollbar and/or scroll links can be hidden when no scrolling is required.
          </dd>
          <dt>
           <a href="#" onclick="toggleDisplay('tog3'); return false">
            Swap content
           </a>
          </dt>
          <dd id="tog3">
           You can place hidden divs in the scroll area and provide links to swap their visibility.
          </dd>
         </dl>
        </div>
        <div class="scroll_content" id="lyr4">
        </div>
       </div>
      </div>
      <h2>
       Methods for Updating Scroll Areas
      </h2>
      <p>
       Two methods are provided for use when the content of a scroll area is replaced or modified:
       <code>
        updateDims
       </code>
       and
       <code>
        refreshAll
       </code>
       . The
       <code>
        updateDims
       </code>
       method recalculates maximum values for scrolling based on any changes that may have been made to affect the scroll area dimensions. It also updates the scrollbar. If you have code that makes changes to scroll area content affecting its dimensions, you could include the following to update the scroll values:
      </p>
      <div class="code_view">
       <pre>
        <code class="language-javascript">
         <span class="keyword">
          var
         </span>
         wndo
         <span class="operator">
          =
         </span>
         <span class="obj">
          dw_scrollObj
         </span>
         <span class="punc">
          .
         </span>
         col
         <span class="punc">
          [
         </span>
         <span class="string">
          'wn'
         </span>
         <span class="punc">
          ]
         </span>
         <span class="punc">
          ;
         </span>
         <span class="comment">
          // scroll area id
         </span>
         wndo
         <span class="punc">
          .
         </span>
         <span class="function">
          updateDims
          <span class="punc">
           (
          </span>
         </span>
         <span class="punc">
          );
         </span>
        </code>
       </pre>
      </div>
      <p>
       The
       <code>
        refreshAll
       </code>
       method applies
       <code>
        updateDims
       </code>
       to all scroll areas you have implemented in your document. It can be invoked as follows:
      </p>
      <div class="code_view">
       <pre>
        <code class="language-javascript">
         <span class="obj">
          dw_scrollObj
         </span>
         <span class="punc">
          .
         </span>
         <span class="function">
          refreshAll
          <span class="punc">
           (
          </span>
         </span>
         <span class="punc">
          );
         </span>
        </code>
       </pre>
      </div>
     </div>
     <!-- end text -->
    </div>
    <!-- end content -->
    <div id="sidebar">
     <div class="side_wrap">
      <div class="side_links">
       <h4>
        Other Scrolling Div Demos
       </h4>
       <ul>
        <li>
         <a href="vert.php">
          Vertical Scrolling
         </a>
        </li>
        <li>
         <a href="horiz.php">
          Horizontal Scrolling
         </a>
        </li>
       </ul>
      </div>
      <div class="side_links">
       <h4>
        More on Scrolling Divs
       </h4>
       <ul>
        <li>
         <a href=".">
          Scrolling Divs Overview
         </a>
        </li>
        <li>
         <a href="documentation.php">
          Scrolling Divs Documentation
         </a>
        </li>
        <li>
         <a href="/zipped/dw_scroll.zip">
          Download Scrolling Divs
         </a>
        </li>
       </ul>
      </div>
      <div class="side_links">
       <h4>
        Related
       </h4>
       <ul>
        <li>
         <a href="/code/glide-scroll/">
          Glide-Scroll Onclick
         </a>
        </li>
        <li>
         <a href="/code/scrollers/pausing/">
          Pausing Scroller
         </a>
        </li>
        <li>
         <a href="/code/scrollers/continuous/">
          Continuous Scroller
         </a>
        </li>
        <li>
         <a href="/code/tabs/?infoTabs=scroll">
          Scrolling Divs in Tabs
         </a>
        </li>
       </ul>
      </div>
     </div>
     <!-- end side_wrap -->
     <div class="med_rect">
      <div class="bsarocks bsap_1bccacec8a237dc435b9b6de892921cd" id="bsap_1299749">
      </div>
     </div>
    </div>
    <!-- end sidebar -->
    <div class="clearer">
    </div>
    <div class="clearer">
    </div>
   </div>
   <!-- end main -->
   <div id="footer">
    <div id="footer_nav">
     <span>
       2001-2015
      <a href="http://www.dyn-web.com/">
       Dynamic Web Coding
      </a>
     </span>
     <a href="/tutorials/">
      Tutorials
     </a>
     |
     <a href="/code/">
      JavaScripts
     </a>
     |
     <a href="/php/">
      PHP
     </a>
     |
     <a href="/sitemap.php">
      Site Map
     </a>
     |
     <a href="/business/advertise.php">
      Advertise
     </a>
    </div>
   </div>
  </div>
  <!-- end container div -->
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39542975-1', 'dyn-web.com');
  ga('send', 'pageview');
  </script>
 </body>
</html>