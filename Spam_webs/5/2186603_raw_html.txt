<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml" xmlns:og="http://opengraphprotocol.org/schema/">
 <head>
  <title>
   Seems Like A Normal Painting. When I Looked Closer, I Was Blown Away. | SF Globe
  </title>
  <link href="//fonts.googleapis.com/css?family=Lora|Playfair+Display+SC" rel="stylesheet" type="text/css"/>
  <link href="http://sftimes.co/css/common.css" rel="stylesheet" type="text/css"/>
  <meta charset="utf-8" content="text/html" http-equiv="Content-type"/>
  <link href="http://sftimes.co/img/favicon.ico?v=2" rel="shortcut icon"/>
  <meta content="3c555cc48db4d466466e" name="wot-verification"/>
  <script type="text/javascript">
   Translations = {
  translations: {},
  translate: function(input,args) {
    var output = input;
    if(Translations.translations[input]) {
      output = Translations.translations[input];
    }
    if(args &amp;&amp; args.length &gt; 0) {
      output = Translations.map(output,args);
    }
    return output;
  },
  map: function(input,args) {
    var pattern = /\%([1-9][0-9]*)/g;
    var result;
    var output = '';
    var processedIndex = 0;
    while(result = pattern.exec(input)) {
      var index = result[1]-1;
      if(result.index &gt; processedIndex) {
        output += input.substr(processedIndex,result.index-processedIndex);
      }
      if(args &amp;&amp; args.length &gt; index) {
        output += args[index];
      }
      else {
        output += result[0];
      }
      processedIndex = result.index + result[0].length;
    }
    if(processedIndex &lt; input.length) {
      output += input.substr(processedIndex);
    }
    return output;
  }
}
  </script>
  <meta content="601901" property="fb:admins"/>
  <meta name="description" value="This latest trend is one you don't want to miss. "/>
  <meta name="keywords" value=""/>
  <meta content="Seems Like A Normal Painting. When I Looked Closer, I Was Blown Away." property="og:title"/>
  <meta content="This latest trend is one you don't want to miss. " property="og:description"/>
  <meta content="http://sftimes.co/?id=551" property="og:url"/>
  <meta content="http://sftimes.s3.amazonaws.com/e/e/1/5/ee151d5d2c49403414a4511d80cb1472.jpg" property="og:image"/>
  <meta content="1200" property="og:image:width"/>
  <meta content="630" property="og:image:height"/>
  <meta content="The San Francisco Globe" property="og:site_name"/>
  <meta content="article" property="og:type"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@theSFGlobe" name="twitter:site"/>
  <meta content="@theSFGlobe" name="twitter:creator"/>
  <meta content="http://sftimes.co/?id=551" name="twitter:url"/>
  <meta content="Seems Like A Normal Painting. When I Looked Closer, I Was Blown Away." name="twitter:title"/>
  <meta content="This latest trend is one you don't want to miss. " name="twitter:description"/>
  <meta content="http://sftimes.s3.amazonaws.com/e/e/1/5/ee151d5d2c49403414a4511d80cb1472.jpg" name="twitter:image:src"/>
  <meta content="551" name="aid"/>
  <link href="http://sftimes.co/?id=551" rel="canonical"/>
  <meta charset="utf-8" content="text/html" http-equiv="Content-type"/>
 </head>
 <body style="overflow:hidden;margin:0px;padding:0px;">
  <script type="text/javascript">
   if(!window.parent || window.parent == window) {
  document.body.style.overflow = '';
}
  </script>
  <script src="http://sftimes.co/js/fb_wrapper.js?1432246681" type="text/javascript">
  </script>
  <div id="fb-root">
  </div>
  <script>
   (function(d, s, id) {
  //return;
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&amp;appId=229925160521517";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
  </script>
  <script type="text/javascript">
   AppConfig = {
  'APPID':'229925160521517',
  'JSPATH':'http://sftimes.co/js',
  'HOMEURL': 'http://sftimes.co',
  'APPNAME':"The San Francisco Globe"
}
  </script>
  <script src="http://sftimes.co/js/all.js.php?f%5B0%5D=js%2Fjson.js&amp;f%5B1%5D=js%2Fajax_wrapper.js&amp;f%5B2%5D=js%2Futils.js&amp;f%5B3%5D=js%2Fdialog_wrapper.js&amp;f%5B4%5D=js%2Fmobile_app.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   Ajax.auth_params = {};
  </script>
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47042995-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script>
   (function() {
  var _fbq = window._fbq || (window._fbq = []);
  if (!_fbq.loaded) {
    var fbds = document.createElement('script');
    fbds.async = true;
    fbds.src = '//connect.facebook.net/en_US/fbds.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(fbds, s);
    _fbq.loaded = true;
  }
  _fbq.push(['addPixelId', '702986679818891']);
})();
window._fbq = window._fbq || [];
window._fbq.push(['track', 'PixelInitialized', {}]);
  </script>
  <noscript>
   <img alt="" height="1" src="https://www.facebook.com/tr?id=702986679818891&amp;ev=PixelInitialized" style="display:none" width="1"/>
  </noscript>
  <style type="text/css">
   .redbutton {
  -webkit-appearance: none;
  display:inline-block;
  background-color:#f72903;
  border:0px none;
  font-size:18px;
  color:white;
  padding:10px;
  padding-top:8px;
  cursor:pointer;
  font-family:'Helvetica Neue', Helvetica, serif;
  font-weight:bold;
  margin-top:5px;
}

.btn_gray {
	background:#c6c6c6;
	color:#636363 !important;
}

.credit_citation {
	color: #a4a4a4;
	font-size:11px;
	font-style:italic;
	font-family: Georgia, sans-serif; 
	max-width:300px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.credit_citation a {
	color: #a4a4a4;
	font-size:11px;
	font-style:italic;
	font-family: Georgia, sans-serif; 
	text-decoration:none;
}

.credit_citation a:hover {
	color: #a4a4a4;
	font-size:11px;
	font-style:italic;
	font-family: Georgia, sans-serif; 
	text-decoration:none;
}

.credit_citation a:link {
	color: #a4a4a4;
	font-size:11px;
	font-style:italic;
	font-family: Georgia, sans-serif; 
	text-decoration:none;
}

.credit_citation a:visited {
	color: #a4a4a4;
	font-size:11px;
	font-style:italic;
	font-family: Georgia, sans-serif; 
	text-decoration:none;
}

.login_state {
  position:relative;
  float:right;
  color:white;
  font-family:Merriweather,Helvetica, Geneva, sans-serif;
  font-size:13px;
  padding-right:15px;
  font-weight:normal;
}

.status {
  margin-left:10px;
}

.status.link {
  margin-bottom:5px;
  display:block;
  text-align:left;
  margin-right:10px;
}

.status.signup:hover {
  background-color:#585858;
}
.status.login:hover {
  background-color:#585858;
}
.status .signup, .status .login {
  margin:5px;
}

.status.signup {
  display:inline-block;
  cursor:pointer;
  margin:5px;
  margin-right:0px;
  height:25px;
  border-radius:2px;
}

.status.login {
  display:inline-block;
  cursor:pointer;
  margin:5px;
  margin-right:0px;
  height:25px;
  border-radius:2px;
}

.status.profile {
  display:inline-block;
  cursor:pointer;
  margin:5px;
  margin-right:0px;
  height:25px;
  border-radius:2px;
}
.status.profile:hover {
  background-color:#585858;
}

.status.notifications {
  position:relative;
  display:inline-block;
  cursor:pointer;
  margin:5px;
  margin-right:0px;
  height:25px;
  border-radius:2px;
  
  user-select:none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -ms-user-select: none;
}
.status.notifications:hover {
  background-color:#585858;
}

.status.notifications .notifications_icon {
  padding:5px;
  background-image:url(http://sftimes.co/img/icon_flag.png);
  background-size:19px 19px;
  background-position:3px 4px;
  background-repeat:no-repeat;
  width:15px;
  height:15px;
}

.status.notifications .unread_count {
  position:absolute;
  right:0px;
  top:0px;
  background-color:#f72903;
  border-radius:2px;
  padding-left:2px;
  padding-right:2px;
  padding-top:1px;
  padding-bottom:1px;
  text-align:center;
  font-size:10px;
  filter: alpha(opacity=90);
  opacity: 0.9;
  display:none;
}

#notifications_dropdown {
  position:absolute;
  right:0px;
  top:26px;
  border-radius:2px;
  border:1px solid #E6E6E6;
  background-color:#FFFFFF;
  color:#000000;
  display:block;
  text-align:left;
  width:350px;
}

.status.notifications.inactive #notifications_dropdown {
  display:none;
}

#notifications_dropdown .notifications_bar, #notifications_dropdown .notifications_footer {
  position:relative;
  min-height:19px;
  float:left;
  width:100%;
  font-family:Ubuntu,sans-serif;
  padding:0px;
  background-color:#ffffff;
  clear:both;
}

#notifications_dropdown .notifications_bar {
  border-bottom:1px solid #E6E6E6;
}

#notifications_dropdown .notifications_footer {
  border-top:1px solid #E6E6E6;
}

#notifications_dropdown .notifications_bar .notifications_title {
  font-weight:bold;
  float:left;
  margin:6px;
}

#notifications_dropdown .notifications_bar .notifications_mark {
  float:right;
  color:#2B86CD;
  margin:6px;
}
#notifications_dropdown .notifications_bar .notifications_mark:hover {
  text-decoration:underline;
}

#notifications_dropdown .notifications {
  position:relative;
  max-height:300px;
  width:100%;
  overflow-y:auto;
  overflow-x:hidden;
  overflow-scrolling:touch;
  -webkit-overflow-scrolling:touch;
  margin-bottom:-1px;
}

#notifications_dropdown .notification {
  position:relative;
  width:100%;
  float:left;
  font-family:'Arial',Georgia,Times,serif;
  font-size:13px;
  border-bottom:1px solid #E6E6E6;
  min-height:72px;
}

#notifications_dropdown .notification.no_activity {
  text-align:center;
  color:#676767;
  font-size:12px;
  line-height:60px;
  height:60px;
}

#notifications_dropdown .notification.unread {
  background-color:#EEEEEE;
}

#notifications_dropdown .notification:hover {
  background-color:#E6E6E6;
}

#notifications_dropdown .notification .notification_icon {
  position:absolute;
  left:6px;
  top:6px;
  width:80px;
  height:60px;
  margin-right:10px;
  margin-left:0px;
  margin-top:0px;
  margin-bottom:0px;
  padding:0px;
  background-size:cover;
  background-position:center;
}

#notifications_dropdown .notification .notification_content {
  padding-left:96px;
  margin-top:6px;
  width:235px;
}

#notifications_dropdown .notification .exerpt {
  text-overflow:ellipsis;
  word-wrap:break-word;
}

#notifications_dropdown .notification .exerpt:before {
  content:'"';
}

#notifications_dropdown .notification .exerpt:after {
  content:'"';
}

#notifications_dropdown .notification .notification_time {
  padding-left:96px;
  width:235px;
  color:#676767;
  font-size:10px;
  margin-bottom:6px;
}

#notifications_dropdown .notification .name {
  margin:0px;
  font-weight:bold;
}

#notifications_dropdown .load_more {
  -webkit-appearance: none;
  width:100%;
  margin:0px;
  background-color:#F9F9F9;
  border:0px none;
  font-size:12px;
  color:#D6D6D6;
  padding:7px;
  cursor:pointer;
  font-family:Ubuntu,sans-serif;
  font-weight:bold;
  text-transform:uppercase;
}

#notifications_dropdown .load_more:hover {
  background-color:#E6E6E6;
  color:#000000;
}

.status .name {
  margin:5px;
}


.status.settings {
  display:inline-block;
  cursor:pointer;
  margin:5px;
  margin-left:0px;
  width:25px;
  height:25px;
  border-radius:2px;
}

.status.settings:hover {
  background-color:#585858;
}
.status.settings.active {
  background-color:#585858;
}
.status.settings.inactive {
  background-color:;
}

.content {
  
}

.content.sections {
  position: absolute;
  top:36px;
  left:0px;
  background-color:white;
  border-radius:2px;
  border:1px #e6e6e6 solid;
  width:auto;
  width:200px;
  padding:10px;
  text-align:left;
}
.content.sections.inactive {
  display:none;
}
.content.sections.active {
  display:inline-block;
}

.content.settings {
  position: absolute;
  top:36px;
  right:23px;
  background-color:white;
  border-radius:2px;
  border:1px #e6e6e6 solid;
  width:auto;
  width:80px;
  padding:10px;
}
.content.settings.inactive {
  display:none;
}
.content.settings.active {
  display:inline-block;
}

.downarrow {
	width: 0; 
	height: 0; 
	border-left: 5px solid transparent;
	border-right: 5px solid transparent;
	
	border-top: 5px solid white;
	margin:10px;
	margin-left:7px;
}

.status.logout, .status.send_confirmation {
  display:block;
  white-space:nowrap;
  margin-right:10px;
}

.yellowbox {
	background:#f7f0b1;
	text-align:center;
	padding-top:5px;
	padding-bottom:5px;
	width:100%;
	min-height:35px;
}

.welcome_box {
	background:#c7ffca;
	text-align:center;
	width:100%;
	height:150px;
	position:absolute;
	top:45px;
	z-index:9999;
  box-shadow: 0px 1px 5px #888888;
}

html,body {
  height:100%;
}

.login.signup {
  margin-top:20px;
}
.login.forgotpassword {
  margin:10px;
}

.login.error {
  padding-top:10px;
}

.signup.email, .signup.password, .signup.first_name, .signup.last_name, .reset_password.password, .forgot_password.email, .change_email.email {
  border-radius:4px;
  border:1px #CCCCCC solid;
  font-family:Merriweather,Helvetica, Geneva, sans-serif;
  font-size:15px;
  padding:5px;
}

.login.email {
  border-radius:4px;
  border:1px #CCCCCC solid;
  font-family:Merriweather,Helvetica, Geneva, sans-serif;
  font-size:15px;
  padding:5px;
}
.login.password {
  border-radius:4px;
  border:1px #CCCCCC solid;
  font-family:Merriweather,Helvetica, Geneva, sans-serif;
  font-size:15px;
  padding:5px;
}

.login.submit, .signup.submit, .confirm_email.submit, .reset_password.submit, .forgot_password.submit, .change_email.submit {
  -webkit-appearance: none;
  background-color:#f72903;
  border:0px none;
  font-size:20px;
  color:white;
  padding:10px;
  cursor:pointer;
  font-family:Merriweather,Helvetica, Geneva, sans-serif;
  margin-top:20px;
  margin-bottom:20px;
}

.login.close, .signup.close, .forgot_password.close, .change_email.close {
  cursor:pointer;
  position:absolute;
  top:0px;
  right:0px;
  font-size:25px;
  font-weight:bold;
  text-decoration:none;
  color:#B0B0B0;
}


.commentbox {
  cursor:pointer;
  z-index:1;
  position:relative;
  border-radius:3px;
  background-color:#484848;
  padding:3px;
  font-size:16px;
  text-align:center;
  width:25px;
  height:20px;
  display:inline-block;
  margin-top:0px;
  color:white;
}
.commentbox:before {
  z-index:-1;
  position:absolute;
  top:16px;
  left:5px;
  content:"";
  border-right: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-left: 8px solid transparent;
  border-top: 8px solid transparent;
  border-left-color: #484848;
}


.indent {
  border-left:1px #e6e6e6 solid;
  margin-left:20px;
}

.replies {
  border-left:1px #e6e6e6 solid;
}

.comments {
  position:relative;
  width:97%;
  text-align:left;
}
.comment {
  font-family:'Arial',Georgia,Times,serif;
  font-size:13px;
  color:#575757;
  line-height:150%;
}

.highlighted .comment_inner, .highlighted.comment_inner {
  background-color:#FFFFD6;
}

.comment_inner {
  position:relative;
  padding-top:5px;
  padding-bottom:5px;
  padding-left:21px;
}

.comment .author {
  margin-right:5px;
  font-weight:bold;
  font-size:13px;
  color:black;
}

.comment .time {
  color:#676767;
  font-size:10px;
}

.comment .content {
  color:#000000;
  display:block;
  white-space:pre-wrap;
  word-wrap:break-word;
}

.comment .hidden_content {
  cursor:pointer;
  color:#999797;
}

.comment .score {
  margin-left:5px;
  font-size:10px;
  
  position:absolute;
  top:15px;
  left:-5px;
  width:20px;
  text-align:center;
}

.comment .upvote {
  bottom:13px;
  right:-12px;
  position:relative;
  
  position:absolute;
  left:1px;
  top:8px;
  
	width: 0; 
	height: 0; 
	border-left: 7px solid transparent;
	border-right: 7px solid transparent;
	border-bottom: 7px solid #B8B8B8;
}

.comment .upvote:hover {
  border-bottom: 7px solid #4fc49c;
}

.comment .downvote {
  top:13px;
  left:-12px;
  position:relative;
  
  position:absolute;
  left:1px;
  top:30px;
  
	width: 0; 
	height: 0; 
	border-left: 7px solid transparent;
	border-right: 7px solid transparent;
	border-top: 7px solid #B8B8B8;	
}

.comment .downvote:hover {
  border-top: 7px solid red;
}

.comment .vote_options {
  position:absolute;
  top:0px;
  left:0px;
}

.comment .vote_options span {
  cursor:pointer;
  margin:2px;
  z-index:1;
}

.comment .vote_options .voted {
}

.comment .vote_options .downvote.voted {
  border-top: 7px solid #f72903;
}
.comment .vote_options .upvote.voted {
  border-bottom: 7px solid #4fc49c;
}

.comment .reply_to {
  cursor:pointer;
  text-transform:capitalize;
  font-weight:bold;
  color:gray;
}

.add_comment {
  position:relative;
  width:100%;
  height:120px;
  height:auto;
  z-index:200;
}

.add_comment.first {
  position:static;
  height:80px;
  height:auto;
  background-color:white;
  padding-right:7px;
}
.add_comment .textarea_holder {
  position:absolute;
  top:5px;
  left:0px;
  right:12px;
  width:auto;
  height:60px;
  
  position:relative;
  margin-right:12px;
  padding-bottom:20px;
}
.add_comment.first .textarea_holder {
  position:relative;
  height:auto;
  margin-right:12px;
  padding-bottom:6px;
  margin-left:40px;
}

.add_comment .textarea_holder textarea {
  -webkit-appearance: none;
  outline:0;
  border:1px #B8B8B8 solid;
  width:100%;
  height:100%;
  font-size:14px;
  padding:5px;
  font-family:Arial, georgia, Times, serif;
  border-radius:5px;
}

.add_comment.first .textarea_holder textarea {
  height:20px;
  border-color:#727272;
}
.add_comment .textarea_holder textarea:focus {
  border:1px #0ebcd9 solid;
}
.add_comment.first.active .textarea_holder textarea {
  height:60px;
}

.add_comment input {
  -webkit-appearance: none;
  float:right;
  border:1px #B8B8B8 solid;
  border-radius:5px;
  background-color:white;
  font-size:15px;
  padding:6px;
  padding-right:12px;
  padding-left:12px;
  cursor:pointer;
}

.add_comment.first input {
  margin-top:0px;
  border-color:#727272;
}
.add_comment.first .add_comment_button {
  display:none;
}
.add_comment.first.active .add_comment_button {
  display:inline-block;
}
.add_comment input:hover {
  border:1px black solid;
}

.add_comment .quick_signup {
  position:relative;
  text-align:right;
  margin-right:100px;
  margin-top:-2px;
  margin-bottom:5px;
}

.add_comment .quick_signup input {
  position:relative;
  float:none;
  margin:0px;
  margin-top:3px;
  margin-right:5px;
  right:0px;
  top:0px;
}

.quick_signup .login.error {
  color:red;
  display:inline-block;
  font-size:16px;
  margin-left:5px;
  margin-right:15px;
}


.quick_signup:before {
  content:"Register with the SF Globe";
  font-weight:bold;
  font-size:16px;
  color:gray;
  margin-right:10px;
}

.quick_signup .first_name {
  display:inline-block;
  width:100px;
}
.quick_signup .last_name {
  display:inline-block;
  width:100px;
}
.quick_signup .email {
  width:217px;
  display:block;
}
.quick_signup .password {
  width:217px;
  display:block;
}

.quick_signup span {
  display:block;
  float:right;
  clear:both;
}

.quick_signup .end {
  clear:both;
}

.add_comment .end {
  clear:both;
}



@-webkit-keyframes pulse 
{       
  0% {-webkit-transform: scale(0); opacity: 0;}
  8% {-webkit-transform: scale(0); opacity: 0;}
  15% {-webkit-transform: scale(0.1); opacity: 1;}
  30% {-webkit-transform: scale(0.5); opacity: 1;}
  100% {opacity: 0; -webkit-transform: scale(1);}
}

@-moz-keyframes pulse 
{       
  0% {-moz-transform: scale(0); opacity: 0;}
  8% {-moz-transform: scale(0); opacity: 0;}
  15% {-moz-transform: scale(0.1); opacity: 1;}
  30% {-moz-transform: scale(0.5); opacity: 1;}
  100% {opacity: 0; -moz-transform: scale(1);}
}

.pulse_holder
{
  display: block;
  position: absolute;
  top: 0px;
  left: 0px;
}
  
.pulse_holder .pulse_marker 
{
  width: 16px;
  height: 16px;
  border-radius: 28px;
}

.pulse_holder .pulse_rays 
{
  margin: 0 auto;
  border-radius: 100px;
  position: absolute;
  right: -26px;
  top: -26px;
  z-index: 10;
  background-color: transparent;
  opacity: 0.1;
  width: 64px;
  height: 64px;
  border: 2px solid rgba(0, 128, 64, 1);
  -webkit-border-radius: 100px;
  -moz-border-radius: 100px;
  -o-border-radius: 100px;
  -ms-border-radius: 100px;
  border-radius: 100px;
  /* Giving Animation Function */
  -webkit-animation: pulse 2s linear infinite;
  -moz-animation: pulse 2s linear infinite; 
  border-image: initial;
}

.settings input {
  -webkit-appearance: none;
  border:1px #B8B8B8 solid;
  border-radius:5px;
  background-color:white;
  font-size:15px;
  padding:6px;
  padding-right:12px;
  padding-left:12px;
  cursor:pointer;
}

.btn_post {
	padding-top:6px;
	padding-bottom:6px;
	padding-left:10px;
	padding-right:10px;
	cursor:pointer;
	border-radius:3px;
	font-size:14px;
	color:#ffffff;
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	background:#3c85c3;
	border:0px;
}

.btn_subscribe_digest {
	padding-top:10px;
	padding-bottom:10px;
	padding-left:15px;
	padding-right:15px;
	cursor:pointer;
	border-radius:3px;
	font-size:18px;
	color:#ffffff;
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	background:#e24f1b;
	border:0px;
}

.btn_unsubscribe {
	padding-top:8px;
	padding-bottom:8px;
	padding-left:15px;
	padding-right:15px;
	cursor:pointer;
	border-radius:3px;
	font-size:16px;
	color:#ffffff;
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	background:#a1a1a1;
	border:0px;
}

.fb-like-button {
  text-align:center;
  width:91px;
  height:21px;
  overflow:hidden;
  display:inline-block;
  vertical-align:middle;
  position:relative;
}
  </style>
  <style type="text/css">
   .category_state.Tech {
  background-color:#ff8400;
}
.category_state.News {
  background-color:#4fc49c;
}
.category_state.Life {
  background-color:#d1cb1a;
}
.category_state.Entertainment {
  background-color:#f72903;
}
.category_state.People {
  background-color:#c434e3;
}
.category_state.Culture {
  background-color:#79519f;
}
.category_state.Science {
  background-color:#4073c0;
}
.category_state.Talent {
  background-color:#f93d41;
}
.category_state.Family {
  background-color:#1c97ff;
}
.category_state.Impact {
  background-color:#f88413;
}

.category_name.Tech {
  color:#ff8400;
}
.category_name.News {
  color:#4fc49c;
}
.category_name.Life {
  color:#d1cb1a;
}
.category_name.Entertainment {
  color:#f72903;
}
.category_name.People {
  color:#c434e3;
}
.category_name.Culture {
  color:#79519f;
}
.category_name.Science {
  color:#4073c0;
}
.category_name.Talent {
  color:#f93d41;
}
.category_name.Family {
  color:#1c97ff;
}
.category_name.Impact {
  color:#f88413;
}


.article_category.Science {
  color:#4073c0;
}

.article_category.Tech {
  color:#ff8400;
}
.article_category.News {
  color:#4fc49c;
}
.article_category.Life {
  color:#d1cb1a;
}

.article_category.Entertainment {
  color:#f72903;
}

.article_category.People {
  color:#c434e3;
}

.article_category.Culture {
  color:#79519f;
}
.article_category.Talent {
  color:#f93d41;
}
.article_category.Family {
  color:#1c97ff;
}
.article_category.Impact {
  color:#f88413;
}

body {
	font-family: 'Garamond', Georgia, Times, serif;
	font-size: 14px; 
	text-align:center;
	background:#ffffff;
}

a {
	color: #2b86cd;
	text-decoration:none; 
}

a:visited {
	color: #2b86cd;
	text-decoration:none; 
}

a:hover {
	color: #2b86cd;
	text-decoration: underline; 
}


.tooltip .close {
  position:absolute;
  font-weight:bold;
  top:0px;right:1px;
  color:gray;
}
.tooltip .close:hover {
  color:black;
  font-weight:bold;
}
span.tooltip {
  position: absolute;
  width: 280px;
  height: auto;
  line-height: 20px;
  padding: 8px;
  padding-bottom:4px;
  font-size: 14px;
  text-align: center;
  color: black;
  background: rgb(255, 255, 255);
  background-color:#feffcd;
  border: 4px solid #feffcd;
  border-radius: 5px;
  box-shadow: gray 1px 1px 2px 0px;
  cursor:pointer;
  font-size:20px;
  z-index:99000;
  margin-left:-150px;
  position:fixed;
}

span.tooltip:hover {
      box-shadow: black 1px 1px 2px 0px;
  
}


span.tooltip.down:after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  border-width: 10px;
  border-style: solid;
  border-color: #feffcd transparent transparent transparent;
  bottom: -24px;
  left: 140px;
}
span.tooltip.down:before {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  border-width: 10px;
  border-style: solid;
  border-color: black transparent transparent transparent;
  bottom: -24px;
  left: 140px;
}

span.tooltip.up:after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  border-width: 10px;
  border-style: solid;
  border-color: transparent transparent #feffcd transparent;
  top: -24px;
  left: 140px;
}

span.tooltip.leftedge {
  margin-left:-50px;
}
span.tooltip.leftedge:after {
  left: 50px;
}




.header_fixed .button {
   border-radius:3px;
   display:inline-block;
   vertical-align:top;
   padding:5px;
   margin:9px;
   margin-right:5px;
   margin-left:5px;
   color:white;
   cursor:pointer;
}

.header_fixed .button:hover {
  background-color:#484848;
}

/* DIALOG BOX */

.kfm_dialog_overlay {
  position:absolute;
  z-index:999;
  z-index:10000;
  left:0px;
  top:0px;
  width:100%;
  height:100%;
  background-color:#000000;
  opacity:0.7;
  filter:alpha(opacity=70);
  -moz-opacity:0.7;
}

.kfm_dialog {
  position:absolute;
  z-index:1000;
  z-index:100000;
  left:50%;
  width:320px;
  margin-left:-160px;
  background-color:white;
  border-radius:3px;
}

.kfm_dialoglarge {
  position:absolute;
  z-index:1000;
  z-index:100000;
  left:50%;
  width:700px;
  margin-left:-350px;
  background-color:white;
}

.kfm_dialog_button_ok {
	background-color:#009900;
	color:white;
	font-weight:bold;
}

.kfm_largedialog {
	left:50%;
  width:700px;
  margin-left:-350px;
  background-color:white;
}
.kfm_largedialogtop {
	position:absolute;
	top:0px;
	left:0px;
	height:36px;
	width:700px;
}
.kfm_largedialogbottom {
	position:absolute;
	bottom:0px;
	left:0px;
	height:34px;
	width:700px;
}

.kfm_smalldialog {
	left:50%;
  width:300px;
  margin-left:-176px;
  background-color:white;
}
.kfm_smalldialogtop {
	position:absolute;
	top:0px;
	left:0px;
	height:36px;
	width:352px;
}

.kfm_smalldialogbottom {
	position:absolute;
	bottom:0px;
	left:0px;
	height:34px;
	width:352px;
}


.kfm_smalldialog_inner, .kfm_largedialog_inner {	
  margin:15px;
  position:relative;
  padding-bottom:50px;
  padding-left:20px;
  padding-right:15px;
  padding-top:20px;
  color:black;
}

.kfm_dialog_title {
  font-weight:bold;
  font-size:25px;
  padding:3px 5px 3px 5px;
  text-align:center;
}

.kfm_dialog_content {
  margin:10px 5px 5px 5px;
  font-size:15px;
}

.kfm_largedialog_buttons {
	position:absolute;
	bottom:15px;
	right:20px;
	width:300px;
  text-align:right;
  z-index:100;
}

.kfm_smalldialog_buttons {
	position:absolute;
	bottom:10px;
	left:50%;
	width:300px;
	margin-left:-150px;
  text-align:center;
  z-index:100;
}

.kfm_dialog_button {
  margin-left:5px;
}

.kfm_button {
  
	padding-top:6px;
	padding-bottom:6px;
	padding-left:10px;
	padding-right:10px;
	padding:15px;
	cursor:pointer;
	border-radius:3px;
	font-size:16px;
	color:#454545;
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	border:0px;
	background:none;
	
}




.kfm_button_large {
  padding-left:10px;
  padding-right:10px;
  padding-top:5px;
  padding-bottom:5px;
  font-weight:bold;
  color:#fff; 
  font-family: 'Lato', Georgia, Times, serif;
  font-size:18px;
  display:inline-block;
  cursor:pointer;
  text-decoration:none;
}

.kfm_button_large {
	padding-top:6px;
	padding-bottom:6px;
	padding-left:10px;
	padding-right:10px;
	padding:15px;
	cursor:pointer;
	border-radius:3px;
	font-size:16px;
	color:#ffffff;
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	border:0px;
	
	background:#405e9f;
	margin-left:100px;
}

.kfm_button_ignore_left {
  position:absolute;
  left:30px;
  top:0px;
}

.kfm_button_ignore {
  padding-left:4px;
  padding-right:4px;
  padding-top:5px;
  padding-bottom:5px;
  font-weight:normal;
  color:#454545; 
  font-family: 'Lato', Georgia, Times, serif;
  font-size:13px;
  display:inline-block;
  cursor:pointer;
  text-decoration:none;
}

.kfm_button_ignore {
	padding-top:6px;
	padding-bottom:6px;
	padding-left:10px;
	padding-right:10px;
	padding:15px;
	cursor:pointer;
	border-radius:3px;
	font-size:16px;
  color:#454545; 
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	border:0px;
	
	background:white;
}

.kfm_button_ignore_skipleft {
  background-repeat:repeat-x;
  background: #e5e5e5 url("http://sftimes.co/img/button_bg_gray.gif") 0 0 repeat-x;
  border:1px solid #acacac;
  padding-left:8px;
  padding-right:8px;
  padding-top:5px;
  padding-bottom:5px;
  font-weight:bold;
  color:#454545; 
  font-family: 'Lato', Georgia, Times, serif;
  font-size:12px;
  display:inline-block;
  cursor:pointer;
  text-decoration:none;
  position:relative;
  left:-200px;
}

/* DIALOG BOX END */


.pg_header {
	margin-top:20px;
	margin-bottom:0px;
	padding-bottom:15px;
	border-bottom:3px solid #747474;
}

.category_header {
	padding-top:4px;
	padding-bottom:4px;
	border-bottom:1px solid #555555;	
	width:950px;
	display:inline-block;
}

.category_subheader {
	font-family: 'Helvetica', 'Arial', sans-serif;
	font-weight:normal;
  margin-top:10px;
  margin-bottom:15px;
  text-align:left;
  font-size:14px;
	width:950px;
	display:inline-block;
	position:relative;
  color:#555555;
  
}

.category {
	font-family: 'Montserrat', sans-serif;
	font-weight:400;
	font-size:14px;	
	margin-right:15px;
	padding-right:15px;
	text-transform:uppercase;
	color:black;
}

.category a {
	color: black;
}

.category a:visited {
	color: black;
}

.category a:link {
	color: black;
}

.category a:hover {
	color: black;
}

.footer_category {
	margin-right:15px;
	padding-right:15px;
	border-right:1px solid #d8d8d8;
}


.footer_category a {
	color: #909090;
}

.footer_category a:visited {
	color: #909090;
}

.footer_category a:link {
	color: #909090;
}

.footer_category a:hover {
	color: #909090;
}


.article_title {
	font-size:24px;
	text-align:center;
	font-weight:bold;
	width:350px;
	margin-top:5px;
	margin-left:0px;
	text-align:left;
	cursor:pointer;
	display:inline-block;
}


.pg_title {
	font-size:24px;
	text-align:center;
	cursor:pointer;
}

.pg_date {
	font-family: 'Garamond','Times New Roman', sans-serif;
	margin-top:10px;
	color:#494949;
}

.app_container_mobile {
	width:100%;
	margin:0 auto;
	text-align:left;
}

.app_container {
	width:100%;
	margin:0 auto;
	text-align:left;
	max-width:955px;
	min-height:350px;
}

.app_container.border {
  box-shadow: 0px 0px 5px #e6e6e6;
  padding-left:20px;
  width:90%;
  max-width:1024px;
  min-width:955px;
}

.header_fixed {
  position:absolute;
  position:fixed;
  top:0px;
  left:0px;
  width:100%;
  min-width:1000px;
  height:45px;
  border-bottom:0px #a1a1a1 solid;
  background-color:white;
  z-index:10000;
  background-color:#3a3a3a;
  box-shadow: 0px 1px 5px #888888;
}
.header_spacer {
  height:45px;
}


.app_container_margin {
	margin-left:10px;
	margin-right:10px;
}

.footer_header {
	border-top:2px solid #747474;
	margin-bottom:30px;
	padding-bottom:10px;
	padding-top:10px;
	border-bottom: 1px solid #747474;
	color:#909090;
}

.headline {
	font-size:30px;
	font-family:Merriweather,'Georgia',"times new roman",times,serif;
	font-family: 'Merriweather', serif;
	font-weight:normal;
	border-bottom: 0px solid #bababa;
	margin-bottom:10px;
	margin-top:10px;
	padding-bottom:0px;
	padding-top:10px;
}


.category_headline {
  text-align:center;
	font-size:20px;
	font-weight:200;
	font-family: 'Times New Roman', serif;
	color:#111111;
}

.category_headline a {
	color: #000;
}
.category_headline a:link {
	color: #000;
}
.category_headline a:visited {
	color: #000;
}

.category_headline a:hover {
	color: #000;
	text-decoration:none;
	cursor:pointer;
}


.blurb_frontpage {
	margin-top:10px;
	font-size:15px;
	line-height:20px;
	color:#343434;
}

.category_subline {
	margin-top:5px;
	font-size:13px;
	line-height:15px;
	color:#707070;	
	text-align:center;
}
.category_extra {
	font-family: 'Montserrat', sans-serif;
	margin-top:5px;
	font-size:10px;
	line-height:20px;
	color:#b6b5b5;	
	text-transform:uppercase;
	text-align:center;
}

/* ARTICLE CSS */

.category_state {
  text-align:left;
  text-transform:uppercase;
  color:white;
  font-weight:bold;
  font-family:"sans serif",georgia,"times new roman",times,serif;
  font-family: Ubuntu, sans-serif;
  margin-top:30px;
  font-size:12px;
  margin-left:3px;
  background-color:#4fc49c;
  padding:10px;
  -webkit-font-smoothing:antialiased;
  display:inline-block;
  cursor:pointer;
}

.category_name {
  text-align:left;
  text-transform:uppercase;
  color:white;
  font-weight:bold;
  font-family: Ubuntu, sans-serif;
  font-size:16px;
  margin-left:3px;
  padding:5px;
  -webkit-font-smoothing:antialiased;
  display:inline-block;
  cursor:pointer;
}

.category_state.home {
  background-color:#B8B8B8;
}
.category_state.home:hover {
  background-color:gray;
}

.subcategory_state {
  text-align:left;
  text-transform:uppercase;
  color:black;
  font-family:'Merriweather', georgia, 'times new roman', times, serif;
  font-size:13px;
  display:inline-block;
  
}

.blurb {
	font-size: 17px;
	line-height:25px;
	color:#333;
	font-family:"times new roman",times,serif;
	min-width:600px;
	margin-right:20px;
}

.article_author {
  font-size:11px;
  color:gray;
  font-family:georgia,"times new roman",times,serif;
  font-family: Ubuntu, sans-serif;
  text-transform:uppercase;
  font-weight:300;
}

.article_author .name {
  color:#797979;
  text-transform:uppercase;
  font-weight:700;
}

.publish_date {
  color:gray;
  text-transform:uppercase;
  font-size:11px;
  font-family: Ubuntu, sans-serif;
  font-weight:300;
}

.share_col {
   text-transform:uppercase;
   font-family:arial,helvetica,sans-serif;
   color:gray;
   font-size:11px;
   padding:10px;
   padding-right:0px;
   padding-left:25px;
   width:70px;
   border-bottom:1px #e6e6e6 solid;
   position:relative;
   cursor:pointer;
}

.icon {
  
  position:absolute;
  top:5px;left:0px;
  width:20px;
  height:20px;
  border-radius:50%;
  background-color:black;
  display:inline-block;
  background-repeat:no-repeat;
}

.icon.fb {
  background-image:url("/img/icon_fb.png");
  background-size:18px 18px;
  background-color:#3b5998;
  background-position:1px 1px; 
}

.icon.twitter {
  background-image:url("/img/icon_twitter.png");
  background-size:16px 16px;
  background-color:#00aced;
  background-position:2px 2px; 
}

.article_content {
	margin-top:0px;
	margin-bottom:10px;
	font-size: 16px;
	line-height:25px;
	color:#333;
	color:rgb(91, 91, 91);
	min-width:480px;
	margin-right:20px;
	font-family:georgia,"times new roman",times,serif;
	
}

.actual_content img {
  width:98%;
}

.actual_content .article_pic img {
  
}

.article_p {
	margin-bottom:15px;
	width:98%;

}

.article_pic  {
	margin-top:10px;
	margin-bottom:10px;
}

.text_red {
  color:#f72903;
}

.text_blue {
  color:#0ebcd9;
}
.text_green {
  color:#4fc49c;
}
.text_purple {
  color:#79519f;
}
.section_lined {
  border-bottom:3px #e5e5e5 solid;
  margin-bottom:10px;
}

.section_bar {
  border-bottom:3px #e5e5e5 solid;
  margin-bottom:10px;
  position:relative;
}

.section_bar.red {
  border-bottom:3px #f72903 solid;
}

.section_bar.blue {
  border-bottom:3px #0ebcd9 solid;
}
.section_bar.green {
  border-bottom:3px #4fc49c solid;
}
.section_bar.purple {
  border-bottom:3px #79519f solid;
}

.section_white_bg_padding {
	padding-left:5px;
	padding-right:5px;
}

.section_rule {
	position:relative;
	z-index:-2;
	top:-30px;
	border-top: 1px solid #696969;
}

.section_rule_red {
	position:relative;
	z-index:-2;
	top:-30px;
	border-top: 1px solid #b8252d;
}

ul {
	margin-top:0px;
	margin-left:10px;
	padding:0px;
}

li {
	list-style-type: square;
	line-height:18px;
	color:#b8252d;
	font-size:12px;
	margin-bottom:8px;
}

li span {
	color:#343434;
}

.mid_section {
	padding-bottom:10px;
	border-bottom:1px solid #e5e5e5;
	margin-bottom:10px;
}

.article_category {
	font-family: 'Montserrat', sans-serif;
	text-transform:uppercase;
	text-align:center;
	font-weight:bold;
	font-size:11px;
}

/* blue */
.tech_color {
	color:#0ebcd9;
}

/* green */
.green_color {
	color:#4fc49c;
}

/* purple */
.purple_color {
	color:#79519f;
}




.red_color {
	color:#f72903;	
}

.white_bg {
	background:#ffffff;	
}

.header_leftad {
	border:1px solid #a1a1a1;
	border-radius:2px;
	padding:10px;
}

.header_leftad_text {
	margin-bottom:5px;
}

.red_action_ticker {
	background:#b8252d;
	color:#fff;
	font-weight:bold;
	padding:4px;
	text-transform:uppercase;
}

.sidebar_title {
	font-family: 'Montserrat', sans-serif;
	font-size:11px;
	text-align:center;
	font-weight:bold;	
	padding-bottom:5px;
	margin-top:10px;
	text-transform:uppercase;
}

.sidebar_td {
	border-left: 0px solid #c4c4c4;
	height:100%;
}

.popular_image {
	width:120px;
	height:80px;
	background:#f7f7f7;
}

.popular_image_large {
	width:150px;
	height:100px;
	background:#f7f7f7;
}

.credits {
	margin-bottom:10px;	
	text-align:left;
	font-family: 'Arial', sans-serif;
	color:#6e6e6e;
	font-size:12px;
}


.date {
	margin-bottom:10px;	
	text-align:left;
	font-family: 'Tinos', sans-serif;
	color:#6e6e6e;
	font-size:12px;
}

.sidebar_xpromo {
	margin-bottom:15px;	
}

.sidebar_pic {
	border:1px solid #cacaca;
	margin-bottom:5px;
}



.sidebar_xpromo_title {
	font-size:18px;
	font-family: 'Garamond', Georgia, Times, serif;
	color:#404040;
	text-align:left;
	font-weight:bold;
}

.subscribe_box {
	background:#e9e9e9;	
	text-align:center;
	border-radius:4px;
	border:1px solid #cecece;
}

.title {
	font-size:22px;
	font-weight:bold;
	font-family: 'Tinos', Georgia, Times, serif;
}


.btn_next {
	padding-top:6px;
	padding-bottom:6px;
	padding-left:10px;
	padding-right:10px;
	padding:15px;
	cursor:pointer;
	border-radius:3px;
	font-size:16px;
	color:#ffffff;
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	border:0px;
	background-color:#f72903;
	position:absolute;
	right:48px;
}

.btn_rightarrow {
  display:inline-block;
  width:0px;
  height:0px;
  border-top:19px solid transparent;
  border-bottom:19px solid transparent;
  border-left:19px solid #f72903;
  position:absolute;
  right:30px;
}


.btn_share {
	padding-top:6px;
	padding-bottom:6px;
	padding-left:10px;
	padding-right:10px;
	padding:15px;
	cursor:pointer;
	border-radius:3px;
	font-size:16px;
	color:#ffffff;
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	text-align:center;
	-webkit-appearance:none; 
	border:0px;
}

.btn_square {
	font-family:'Helvetica Neue', Arial, Helvetica, Geneva, sans-serif;
	cursor:pointer;
}

.subscribe_email {
	font-family: 'Lato', Georgia, Times, serif;
	font-size:13px;
	margin-right:5px;
	padding:2px;
	width:170px;
}

.btn_submit {
	background:#e84b26;
}

.btn_subscribe {
	background:#43b84e;
}


.btn_fb {
	background:#405e9f;
	
}

.btn_twitter {
	background: #0fc1f2;
}

.btn_email {
  color:#484848;
  border:1px gray solid;
}

.share_buttons {
	margin-bottom:10px;	
	text-align:center;
}

.errortext {
	color:#dd3737;
	font-style:italic;
}

.video {
	width:97%;
	height:300px;
	margin-top:15px;
	margin-bottom:3px;
}


.video_wrapper {
	position: relative;
	padding-bottom: 56.25%; /* 16:9 */
	padding-top: 25px;
	height: 0;
	margin-top:10px;

}
.video_wrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 98%;
	height: 98%;
}

.quiz_title {
	font-size: 20px;
	font-weight:bold;
	margin-bottom:10px;
}

.quiz_description {
	font-size:16px;
	margin-bottom:10px;
	color:#424242;
	line-height:20px;
}

.quiz_question {
	font-size:17px;
	margin-bottom:10px;
}

.quiz_answers {
	margin-bottom:10px;
	font-size:16px;
	margin-left:10px;
}

.quiz_answer {
	margin-right:10px;
}

.error_message {
	background:#f68c7f;
	padding:10px;
	border:1px solid #a14034; 	
}


.success_message {
	background:#a1d072;
	padding:10px;
	border:1px solid #6da734; 	
}

.mobile_footer_nav {
	padding-top:10px;
	padding-bottom:10px;
	font-family: 'Lato', sans-serif;
	font-size:20px;	
	margin-bottom:3px;
	border-bottom:1px solid #d8d8d8;
	text-align:center;
}


.sticktotop {
    position: -webkit-sticky;
    position: -moz-sticky;
    position: -ms-sticky;
    position: -o-sticky;
    position: sticky;
    top: 0px;
    background:#ffffff;
}

.positionbottom_fixed {
    position: fixed;
    bottom: 0px;
    left:0px;
    border:0px;
    background:#ffffff;
}

.button_x {
	border-radius: 50%;
	width: 25px;
	height: 25px;
	background:#000; 
	color:#fff;
	text-align:center;
	text-decoration:none;
	font-weight:bold;
	border:2px solid #fff;
	font-family: 'Helvetica Neue',arial, sans-serif;
}

.remove_ads {
	font-family: 'Helvetica Neue',arial, sans-serif;	
	background:#fff;
	border-bottom:1px solid #ccc;
	font-size:10px;
	margin-bottom:10px;
}

.author {
	font-size:11px;
	color:#575757;	
}

.photo_credits {
	font-size:11px;
	color:#8a8a8a;	
	text-align:right;	
	width:98%;
	font-family:'Arial';
}

.photo_caption {
	font-size:12px;
	color:#8a8a8a;	
	width:98%;
}

.social_icon {
	text-align:center;
	border-radius:50%;
	width:30px;
	height:30px;
}

.social_icon_image {
	margin-top:4px;
}

.fb_color {
	background:#43609c;
}

.twitter_color {
	background:#55acee;
}

.instagram_color {
	background:#aa7e62;
}

.sfglobe_title {
	color:#dc0707;
	font-family: 'Playfair Display SC', serif;
	font-size:35px;
	font-weight:normal;
  text-rendering: geometricPrecision;
  color:#FCFCFC;
}

.wf-loading body { 	 }
.wf-inactive body { 	 }
.wf-active body { 	 }

/* sfglobe_title 
.wf-loading .sfglobe_title { font-family: Times, serif; }
.wf-inactive .sfglobe_title { font-family: Times, serif; }
.wf-active .sfglobe_title { font-family: 'Playfair Display SC', sans-serif; }
*/

.wf-loading .article_content { font-family: Times, Arial, serif; }
.wf-inactive .article_content { font-family: Times, Arial, serif; }
.wf-active .article_content { font-family: georgia,"times new roman",times,serif; }

/* category */
.wf-loading .category { font-family: Arial, serif; }
.wf-inactive .category { font-family: Arial, serif; }
.wf-active .category { font-family: 'Montserrat', sans-serif; }

/* mobile_footer_nav */
.wf-loading .mobile_footer_nav { font-family: Arial, serif; }
.wf-inactive .mobile_footer_nav { font-family: Arial, serif; }
.wf-active .mobile_footer_nav { font-family: 'Montserrat', Georgia, Times, serif; }

/*article_category*/
.wf-loading .article_category { font-family: Arial, serif; }
.wf-inactive .article_category { font-family: Arial, serif; }
.wf-active .article_category { font-family: 'Montserrat', sans-serif; }


/* pg_date */
.wf-loading .pg_date { font-family: Arial, serif; }
.wf-inactive .pg_date { font-family: Arial, serif; }
.wf-active .pg_date { font-family: 'Lato', Georgia, Times, serif; }


/* sf times */
.wf-loading .pg_title { font-family: Arial, serif; }
.wf-inactive .pg_title { font-family: Arial, serif; }
.wf-active .pg_title { font-family: 'Lato', Georgia, Times, serif; }

/* trending */
.wf-loading .sidebar_title { font-family: Arial, serif; }
.wf-inactive .sidebar_title { font-family: Arial, serif; }
.wf-active .sidebar_title { font-family: 'Montserrat', sans-serif; }


/* category_extra */
.wf-loading .category_extra { font-family: Arial, serif; }
.wf-inactive .category_extra { font-family: Arial, serif; }
.wf-active .category_extra { font-family: 'Montserrat', sans-serif; }

/* category_subheader */
.wf-loading .category_subheader { font-family: Arial, serif; }
.wf-inactive .category_subheader { font-family: Arial, serif; }
.wf-active .category_subheader { font-family: 'Roboto', sans-serif; }


/* headline */
.wf-loading .headline { font-family: Times, serif; }
.wf-inactive .headline { font-family: Times, serif; }
.wf-active .headline{ font-family: 'Merriweather', serif; }


/* category_headline */
.wf-loading .category_headline { font-family: Times, serif; }
.wf-inactive .category_headline { font-family: Times, serif; }
.wf-active .category_headline { font-family: 'Tinos', Times, serif; }


/* footer_header */
.wf-loading .footer_header { font-family: 'Arial', serif; }
.wf-inactive .footer_header { font-family: 'Arial', serif; }
.wf-active .footer_header { font-family: 'Roboto', Georgia, Times, serif; }

/* header_leftad */
.wf-loading .header_leftad { font-family: 'Arial', serif; }
.wf-inactive .header_leftad { font-family: 'Arial', serif; }
.wf-active .header_leftad { font-family: 'Roboto', Georgia, Times, serif; }

/* red_action_ticker */
.wf-loading .red_action_ticker { font-family: 'Arial', serif; }
.wf-inactive .red_action_ticker { font-family: 'Arial', serif; }
.wf-active .red_action_ticker { font-family: 'Roboto', Georgia, Times, serif; }


/* blurb 
.wf-loading .blurb { font-family: 'Arial', serif; }
.wf-inactive .blurb { font-family: 'Arial', serif; }
.wf-active .blurb { font-family: 'Roboto', Georgia, Times, serif; }
*/


/*blurb_frontpage*/
.wf-loading .blurb_frontpage { font-family: 'Arial', serif; }
.wf-inactive .blurb_frontpage { font-family: 'Arial', serif; }
.wf-active .blurb_frontpage{ font-family: 'Roboto', Georgia, Times, serif; }

/*category_subline */
.wf-loading .category_subline { font-family: 'Arial', serif; }
.wf-inactive .category_subline { font-family: 'Arial', serif; }
.wf-active .category_subline { font-family: 'Roboto',serif;  }


/* ul */
.wf-loading ul { font-family: 'Arial', serif; }
.wf-inactive ul { font-family: 'Arial', serif; }
.wf-active ul { font-family: 'Roboto', Georgia, Times, serif; }


/*author*/
.wf-loading .author { font-family: 'Arial', serif; }
.wf-inactive .author { font-family: 'Arial', serif; }
.wf-active .author{ font-family: 'Arial', Georgia, Times, serif; }

/* xpromo text 
.wf-loading .sidebar_xpromo_title { font-family: Georgia, Times, serif; }
.wf-inactive .sidebar_xpromo_title { font-family: Georgia, Times, serif; }
.wf-active .sidebar_xpromo_title { font-family: 'Tinos', Georgia, Times, serif; }
*/
/* buttons 
.wf-loading .btn_share { font-family: Georgia, Times, serif; }
.wf-inactive .btn_share { font-family: Georgia, Times, serif; }
.wf-active .btn_share { font-family: 'Lato', Georgia, Times, serif; }
*/

/* published */ 
.wf-loading .date { font-family: Georgia, Times, serif; }
.wf-inactive .date { font-family: Georgia, Times, serif; }
.wf-active .date { font-family: 'Lato', Georgia, Times, serif; }

.wf-loading .category_state { font-family: sans-serif; }
.wf-inactive .category_state { font-family: sans-serif; }
.wf_active .category_state { font-family: Ubuntu, sans-serif; }

input:focus {
  outline:0;
}



.anchor {
  display:inline-block;
  position:absolute;
  padding-top:105px;
  margin-top:-105px;
}

.comments {
  max-width:698px;
}
  </style>
  <script type="text/javascript">
   var is_mobile = "";
var show_fb_like_prompt = true;
var show_twitter_follow_prompt = true;
var show_email_subscribe_prompt = false;

Articles = {
  articles: {},
  set: function(id,data) {
    id = id+"";
    Articles.articles[id] = data;
  },
  get: function(id) {
    id = id+"";
    return Articles.articles[id];
  }
};

var end_video_dlg = new DialogWrapper();

var userHasScrolled = false;
var hasPoppedUp = Utils.getCookie('popped_551')=='1';

function getLastOffsetTop(el) {
  if(el) {
    if (el.lastOffsetTop) {
      return el.lastOffsetTop;
    }
    else {
      return el.offsetTop;
    }
  }
  return 0;
}

window.addEventListener('scroll', function() {

  if (!userHasScrolled){
  	
	 	//var ajax = new Ajax();
		//ajax.responseType = Ajax.JSON;
		//var params = {"action":"scrolled"};
		//ajax.post("http://sftimes.co/ajax/action.php", params);
		userHasScrolled = true;
	}
	
	// stick share buttons to page after scrolling past
	
	var is_mobile = "";
	
	if (!is_mobile){
	  var scrollTop = window.pageYOffset;
	  var el = document.getElementById('top_sharebuttons');
	  var el2 = document.getElementById('bottom_xpromo');
	  if(false &amp;&amp; el &amp;&amp; el2) {
  	  if ((scrollTop &gt; getLastOffsetTop(el)-45) &amp;&amp; (scrollTop &lt; el2.offsetTop-300)){
  	  	if (el.style.position != 'fixed') {
  	  		el.lastOffsetTop = el.offsetTop;
  	  		el.style.position = 'fixed';
  	  		el.style.top = '45px';
  	  		//el.style.width = '57%';
  	  		el.style.width = document.getElementById('top_sharebuttons_placeholder').clientWidth+'px';
  	  	}
  	  }
  	  else if ( (scrollTop &lt; getLastOffsetTop(el)-45) || (scrollTop &gt; el2.offsetTop-300) ) {
  	  	if (el.style.position == 'fixed') {
  	  		el.style.position = 'relative';
  	  		el.style.top = '';
  	  		el.style.width = '100%';
  	  	}
  	  }
  	}
  
  
    // fix sidelist_xpromo to screen
    if (document.getElementById('sidelist_xpromo') &amp;&amp; document.getElementById('sidelist_placeholder')) {
      var el = document.getElementById('sidelist_xpromo');
      var ph = document.getElementById('sidelist_placeholder');
      
  	  if (scrollTop &gt; getLastOffsetTop(ph)+550){
  	  	if (el.style.position != 'fixed') {
  	  	  el.lastWidth = el.clientWidth;
  	  		el.lastOffsetTop = el.offsetTop;
  	  		el.style.position = 'fixed';
  	  		el.style.top = '0px';
  	  		//el.style.width = '57%';
  	  		el.style.width = el.lastWidth + 'px';
  	  		//el.style.width = document.getElementById('top_sharebuttons_placeholder').clientWidth+'px';
  	  	}
  	  }
  	  else if ( scrollTop &lt; getLastOffsetTop(ph)+550 ) {
  	  	if (el.style.position == 'fixed') {
  	  		el.style.position = 'relative';
  	  		el.style.top = '';
  	  		el.style.width = '100%';
  	  	}
  	  }
    }
	}
  // display popup share prompt after credits
  var scrollTop = window.pageYOffset;
  var el = document.getElementById('creditsbox_element');
  //var tOffsetTop = totalOffsetTop(el);
  if (el) {
    var tOffsetTop = Utils.getCoordinates(el).top;
    if (scrollTop &gt; tOffsetTop-window.innerHeight){
    	if (!Page.poppedup &amp;&amp; typeof Page.endStory =='function') {
    	  
    		setTimeout(function(){
    				Page.endStory();
    			},3000);
    		Page.poppedup = true;
    		var d = new Date();
    		d.setTime(d.getTime()+86400000);
    		Utils.setCookie('popped_551','1',d);
    	}
    }
  }
});

var totalOffsetTop = function(element) {
    var top = 0, left = 0;
    if(element) {
      do {
          top += element.offsetTop  || 0;
          left += element.offsetLeft || 0;
          element = element.offsetParent;
      } while(element);
    }
    return top;
};

function followIntentToAnalytics (intentEvent) {
	
	//alert('hi1');
  if (!intentEvent) return;


 	if (document.getElementById('twitter_follow_button')){
		document.getElementById('twitter_follow_button').style.display = 'none';
		
		var ajax = new Ajax();
		ajax.responseType = Ajax.JSON;
		var params = {"action":"twitter_follow_button"};
		ajax.post("http://sftimes.co/ajax/action.php", params);		
		
	} 
	
	if (end_video_dlg){
		end_video_dlg.hide();
	}
  
 	//end_video_dlg.hide();
 	
}

twttr.ready(function (twttr) {
  twttr.events.bind('follow', followIntentToAnalytics);
});

  		
function showErrorMessage(){
	var dlg = new DialogWrapper();
	dlg.showMessage("Error","You must fill out the complete survey to see your results!","Okay");
}

function hideElement(element_name){
	if (document.getElementById(element_name)){
		document.getElementById(element_name).style.display = 'none';
	}	
}


function showElement(element_name){
	if (document.getElementById(element_name)){
		document.getElementById(element_name).style.display = 'block';
	}	
}

function hideAllFBLikes(){
	hideElement('onpage_fblike_button');
	hideElement('mobilebar_fblike_button');
	hideElement('overlay_fblike_button');
	hideElement('mobilebar_sidearrow');
	hideElement('wantmore_fblike');
	show_fb_like_prompt = false;
}

function trackFBLike(success_or_failure){
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":"fb_like_button","value":success_or_failure,"lang":"en"};
	ajax.post("http://sftimes.co/ajax/action.php", params);	
}

function showTwitterFollowPrompt(){
	var show_dialog = "0";
	
	if (show_dialog == 0 &amp;&amp; show_twitter_follow_prompt){
		end_video_dlg.showMessage("Want more stories like this?","&lt;div style='background:#f7f7f7; padding:10px;'&gt;\n\n\n&lt;div style='font-size:16px;margin-bottom:5px;font-weight:normal;'&gt;Follow us on Twitter to get more!&lt;\/div&gt;\n\n&lt;a href=\"http:\/\/twitter.com\/theSFGlobe\" id='twitter_follow_button' class=\"twitter-follow-button\" data-show-count=\"false\" data-size=\"large\"&gt;Follow @theSFGlobe&lt;\/a&gt;\n\t\t\n&lt;\/div&gt;","Close");
		end_video_dlg.oncancel = function(){
		}
		
		twttr.ready(function (twttr) {
		 twttr.widgets.load();
		});
	}
	else {
		
	}
}
var hasShared = false;
function showSharePrompt(details, do_share){
  //if (currenttip) {
  //  showNextTip(currenttip);
  //}
  if (do_share) {
    hasShared = true;
  }
	var user_source = "share_fb_new_551Kattya";
	if (user_source.search("twt_")!=-1) {
		if (do_share){
			shareArticleOnTwitter(details);
		}
		showTwitterFollowPrompt();
	}
	else {
		if (do_share){
			shareArticleOnFB(details);
		}
		showFBLikePrompt();
		return true;
		showEmailPrompt(function(){
		  showFBLikePrompt();
		});
	}
}

function launchandroid(url,onfail) {
  if (!url) {
    url = 'sfglobe://sfg.app';
  }
  var ifr = document.createElement('iframe');
  ifr.style.width = '1px';
  ifr.style.height = '1px';
  ifr.style.position = 'absolute';
  ifr.style.left = '-10px';
  ifr.style.top = '-10px';
  ifr.src = url;
  var attemptTime = new Date().getTime();
  var didLoad = false;
  ifr.onload = function() {
    didLoad = true;
    if(typeof onfail == 'function') {
      onfail();
    }
  }
  document.body.appendChild(ifr);
  setTimeout(function() {
    if(ifr.parentNode) {
      ifr.parentNode.removeChild(ifr);
    }
  },1000);
}


function showAppAd(article_id) {
  Page.trackAction('viewinterstitial');
  if (document.getElementById('player')) {
    document.getElementById('player').style.display = 'none';
  }
  var appPrompt = document.createElement('div');
  appPrompt.className = 'overlay_bg';
  var content = document.createElement('div');
  content.className = 'overlay_content';
  
  var headlineDom = document.createElement('div');
  headlineDom.className = 'overlay_headline';
  headlineDom.style.textAlign = 'center';
  headlineDom.innerHTML = "Here's your chance to get access to ALL the SF Globe articles you love!";
  content.appendChild(headlineDom);
  
  var img = document.createElement('img');
  img.className = 'overlay_icon';
  img.src = "img/sfg_icon.png";
  content.appendChild(img);
  
  var button_open = document.createElement('div');
  button_open.className = 'overlay_button orangebg';
  button_open.innerHTML = "Install SF Globe App";
  button_open.onclick = function() {
    Page.trackAction('openinterstitial');
    openInApp(article_id);
    document.body.removeChild(appPrompt);
    if (document.getElementById('player') &amp;&amp; DialogWrapper &amp;&amp; DialogWrapper.dialogs &amp;&amp; DialogWrapper.dialogs.length == 0) {
      document.getElementById('player').style.display = '';
    }
  }
  content.appendChild(button_open);
  
  var button_skip = document.createElement('div');
  button_skip.className = 'overlay_button graybg';
  button_skip.innerHTML = "No Thanks";
  button_skip.style.marginBottom = '20px';
  button_skip.style.marginTop = '0px';
  button_skip.onclick = function() {
    Page.trackAction('skipinterstitial');
    document.body.removeChild(appPrompt);
    if (document.getElementById('player') &amp;&amp; DialogWrapper &amp;&amp; DialogWrapper.dialogs &amp;&amp; DialogWrapper.dialogs.length == 0) {
      document.getElementById('player').style.display = '';
    }
  }
  content.appendChild(button_skip);
  
  appPrompt.appendChild(content);
  document.body.appendChild(appPrompt);
}
function showAppPrompt(url,article_id,headline,image,callback) {
  var appPrompt = document.createElement('div');
  appPrompt.className = 'overlay_bg';
  var content = document.createElement('div');
  content.className = 'overlay_content';
  
  var headlineDom = document.createElement('div');
  headlineDom.className = 'overlay_headline';
  headlineDom.innerHTML = headline;
  content.appendChild(headlineDom);
  
  var img = document.createElement('img');
  img.className = 'overlay_img';
  img.src = image;
  content.appendChild(img);
  
  var button_open = document.createElement('div');
  button_open.className = 'overlay_button orangebg';
  button_open.innerHTML = "Open in &lt;span style='font-family:\"Playfair Display SC\";font-size:18px;'&gt;SF Globe&lt;/span&gt; App";
  button_open.onclick = function() {
    openInApp(article_id);
  }
  content.appendChild(button_open);
  
  var button_skip = document.createElement('div');
  button_skip.className = 'overlay_button graybg';
  button_skip.innerHTML = "Open in Browser";
  button_skip.style.marginBottom = '20px';
  button_skip.style.marginTop = '0px';
  button_skip.onclick = function() {
    //document.body.removeChild(appPrompt);
    window.location.href = url+'&amp;b=1';
  }
  content.appendChild(button_skip);
  
  appPrompt.appendChild(content);
  document.body.appendChild(appPrompt);
}

var email_subscribe_dlg = new DialogWrapper();
function showEmailSubscribePrompt(){
  var tzo = new Date().getTimezoneOffset()*60;
  var content = "&lt;div style='margin-bottom:15px'&gt;\n&lt;center&gt;\n&lt;div style='margin-bottom:5px;color:#4a4a4a;'&gt;Here's YOUR CHANCE to get everything worth seeing on the Internet. Get our &lt;b&gt;free&lt;\/b&gt; daily digest:&lt;\/div&gt;\n\n&lt;a href=\"mailto:subscribe@sfglobe.com?subject=Yes%2C%20I%27m%20in%21%20&amp;body=%0D%0A%0D%0ABy%20sending%20this%20email%2C%20you%20will%20be%20subscribed%20to%20SF%20Globe%27s%20free%20daily%20digest.%20SF%20Globe%20is%20your%20best%20source%20for%20interesting%20stories%20and%20videos.%0D%0A%0D%0A%20Please%20note%20by%20doing%20so%2C%20you%20are%20agreeing%20to%20our%20privacy%20policy%20%28read%20here%3A%20http%3A%2F%2Fsftimes.co%2Fprivacy.php%29.%20You%20can%20also%20unsubscribe%20at%20anytime.%20\"&gt;&lt;input type='button' onclick='trackEmailSubscribe();' class='btn_subscribe_digest' value=\"One-Click Subscribe\" \/&gt;&lt;\/a&gt;\n\n&lt;\/center&gt; \n&lt;\/div&gt;".replace("mailto:subscribe@sfglobe.com","mailto:subscribe+"+tzo+"@sfglobe.com");
  if (show_email_subscribe_prompt){
		email_subscribe_dlg.showMessage("Want more stories like this?",content,"Nevermind");
	}
}

function showEmailSubscribePrompt_Web(){
  var tzo = new Date().getTimezoneOffset()*60;
  var content = "&lt;div style='margin-bottom:15px'&gt;\n&lt;center&gt;\n&lt;div style='margin-bottom:5px;color:#4a4a4a;'&gt;Here's YOUR CHANCE to get everything worth seeing on the Internet. Get our &lt;b&gt;free&lt;\/b&gt; daily digest:&lt;\/div&gt;\n\n&lt;a href=\"mailto:subscribe@sfglobe.com?subject=Yes, I want the SF Globe Digest!&amp;body=%0D%0A%0D%0ABy%20sending%20this%20email%2C%20you%20will%20be%20subscribed%20to%20SF%20Globe%27s%20free%20daily%20digest.%20SF%20Globe%20is%20your%20best%20source%20for%20interesting%20stories%20and%20videos.%0D%0A%0D%0A%20Please%20note%20by%20doing%20so%2C%20you%20are%20agreeing%20to%20our%20privacy%20policy%20%28read%20here%3A%20http%3A%2F%2Fsftimes.co%2Fprivacy.php%29.%20You%20can%20also%20unsubscribe%20at%20anytime.%20\"&gt;&lt;input type='button' onclick=\"trackEmailSubscribe_Web();\" class='btn_subscribe_digest' value=\"One-Click Subscribe\" \/&gt;&lt;\/a&gt;\n\n&lt;\/center&gt; \n&lt;\/div&gt;".replace("mailto:subscribe@sfglobe.com","mailto:subscribe+"+tzo+"@sfglobe.com");
  if (show_email_subscribe_prompt){
		email_subscribe_dlg.showMessage("Want more stories like this?",content,"Nevermind");
	}
}

function showEmailSubscribePrompt_AfterLike(){
  var tzo = new Date().getTimezoneOffset()*60;
  var content = "&lt;div style='margin-bottom:15px'&gt;\n&lt;center&gt;\n&lt;div style='margin-bottom:5px;color:#4a4a4a;'&gt;Here's YOUR CHANCE to get everything worth seeing on the Internet. Get our &lt;b&gt;free&lt;\/b&gt; daily digest:&lt;\/div&gt;\n\n&lt;a href=\"mailto:subscribe@sfglobe.com?subject=Yes, I want this! &amp;body=%0D%0A%0D%0ABy%20sending%20this%20email%2C%20you%20will%20be%20subscribed%20to%20SF%20Globe%27s%20free%20daily%20digest.%20SF%20Globe%20is%20your%20best%20source%20for%20interesting%20stories%20and%20videos.%0D%0A%0D%0A%20Please%20note%20by%20doing%20so%2C%20you%20are%20agreeing%20to%20our%20privacy%20policy%20%28read%20here%3A%20http%3A%2F%2Fsftimes.co%2Fprivacy.php%29.%20You%20can%20also%20unsubscribe%20at%20anytime.%20\"&gt;&lt;input type='button' onclick=\"trackEmailSubscribe_AfterLike();\" class='btn_subscribe_digest' value=\"One-Click Subscribe\" \/&gt;&lt;\/a&gt;\n\n&lt;\/center&gt; \n&lt;\/div&gt;".replace("mailto:subscribe@sfglobe.com","mailto:subscribe+"+tzo+"@sfglobe.com");
  if (show_email_subscribe_prompt){
		email_subscribe_dlg.showMessage("Want more stories like this?",content,"Nevermind");
	}
}

function showEmailSubscribePrompt_Button(){
  var tzo = new Date().getTimezoneOffset()*60;
  var content = "&lt;div style='margin-bottom:15px'&gt;\n&lt;center&gt;\n&lt;div style='margin-bottom:5px;color:#4a4a4a;'&gt;Here's YOUR CHANCE to get everything worth seeing on the Internet. Get our &lt;b&gt;free&lt;\/b&gt; daily digest:&lt;\/div&gt;\n\n&lt;a href=\"mailto:subscribe@sfglobe.com?subject=Yes, subscribe me!&amp;body=%0D%0A%0D%0ABy%20sending%20this%20email%2C%20you%20will%20be%20subscribed%20to%20SF%20Globe%27s%20free%20daily%20digest.%20SF%20Globe%20is%20your%20best%20source%20for%20interesting%20stories%20and%20videos.%0D%0A%0D%0A%20Please%20note%20by%20doing%20so%2C%20you%20are%20agreeing%20to%20our%20privacy%20policy%20%28read%20here%3A%20http%3A%2F%2Fsftimes.co%2Fprivacy.php%29.%20You%20can%20also%20unsubscribe%20at%20anytime.%20\"&gt;&lt;input type='button' onclick=\"trackEmailSubscribe_Button();\" class='btn_subscribe_digest' value=\"One-Click Subscribe\" \/&gt;&lt;\/a&gt;\n\n&lt;\/center&gt; \n&lt;\/div&gt;".replace("mailto:subscribe@sfglobe.com","mailto:subscribe+"+tzo+"@sfglobe.com");
	email_subscribe_dlg.showMessage("Want more stories like this?",content,"Nevermind");
}

function showEmailSubscribePrompt_Inter(){
  var tzo = new Date().getTimezoneOffset()*60;
  var content = "&lt;div style='margin-bottom:15px'&gt;\n&lt;center&gt;\n&lt;div style='margin-bottom:5px;color:#4a4a4a;'&gt;Here's YOUR CHANCE to get everything worth seeing on the Internet. Get our &lt;b&gt;free&lt;\/b&gt; daily digest:&lt;\/div&gt;\n\n&lt;a href=\"mailto:subscribe@sfglobe.com?subject=I'm in!&amp;body=%0D%0A%0D%0ABy%20sending%20this%20email%2C%20you%20will%20be%20subscribed%20to%20SF%20Globe%27s%20free%20daily%20digest.%20SF%20Globe%20is%20your%20best%20source%20for%20interesting%20stories%20and%20videos.%0D%0A%0D%0A%20Please%20note%20by%20doing%20so%2C%20you%20are%20agreeing%20to%20our%20privacy%20policy%20%28read%20here%3A%20http%3A%2F%2Fsftimes.co%2Fprivacy.php%29.%20You%20can%20also%20unsubscribe%20at%20anytime.%20\"&gt;&lt;input type='button' onclick=\"trackEmailSubscribe_Inter();\" class='btn_subscribe_digest' value=\"One-Click Subscribe\" \/&gt;&lt;\/a&gt;\n\n&lt;\/center&gt; \n&lt;\/div&gt;".replace("mailto:subscribe@sfglobe.com","mailto:subscribe+"+tzo+"@sfglobe.com");
	if (show_email_subscribe_prompt){
		email_subscribe_dlg.showMessage("Want more stories like this?",content,"Nevermind");
	}
}

function trackEmailSubscribe() {
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":'track_email_subscribe'};
	ajax.post("http://sftimes.co/ajax/action.php", params);
	email_subscribe_dlg.hide();
}

function trackEmailSubscribe_Web() {
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":'track_email_subscribe_web'};
	ajax.post("http://sftimes.co/ajax/action.php", params);
	email_subscribe_dlg.hide();
}

function trackEmailSubscribe_AfterLike() {
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":'track_email_subscribe_afterlike'};
	ajax.post("http://sftimes.co/ajax/action.php", params);
	email_subscribe_dlg.hide();
}

function trackEmailSubscribe_Button() {
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":'track_email_subscribe_button'};
	ajax.post("http://sftimes.co/ajax/action.php", params);
	email_subscribe_dlg.hide();
}

function trackEmailSubscribe_Inter() {
	show_email_subscribe_prompt = false;
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":'track_email_subscribe_inter'};
	ajax.post("http://sftimes.co/ajax/action.php", params);
	email_subscribe_dlg.hide();
}

function trackEmailSubscribe_DDPage() {
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":'track_email_subscribe_ddpage'};
	ajax.post("http://sftimes.co/ajax/action.php", params);
	document.getElementById('subscribe_digest_button').innerHTML = "&lt;div style='margin-top:5px'&gt;Okay!&lt;/div&gt;";
}

function showSharePrompt_Web(details, do_share){
  if (do_share) {
    hasShared = true;
  }
	var user_source = "share_fb_new_551Kattya";
	if (user_source.search("twt_")!=-1) {
		if (do_share){
			shareArticleOnTwitter(details);
		}
		showTwitterFollowPrompt();
	}
	else {
		if (do_share){
			shareArticleOnFB(details);
		}
		showEmailSubscribePrompt_Web();
	}
}


function showSharePrompt_Mobile(details, do_share){
  if (do_share) {
    hasShared = true;
  }
	var user_source = "share_fb_new_551Kattya";
	if (user_source.search("twt_")!=-1) {
		if (do_share){
			shareArticleOnTwitter(details);
		}
		showTwitterFollowPrompt();
	}
	else {
		if (do_share){
			shareArticleOnFB(details);
		}
		showEmailSubscribePrompt();
	}
}

function showEmailPrompt(callback) {
	if (callback) {
	  callback();
	}
}

function showFBLikePrompt(){
	var show_dialog = "0";
	
	if (show_dialog == 0 &amp;&amp; show_fb_like_prompt){
		//end_video_dlg.showChoice("Want more stories like this?","&lt;div style='background:#f7f7f7; padding:10px;'&gt;\n\n\n&lt;div style='font-size:16px;margin-bottom:5px;font-weight:normal;'&gt;Like us on Facebook to get more!&lt;\/div&gt;\n\n&lt;div id='popup_fblike_button' class=\"fb-like\" data-href=\"http:\/\/www.facebook.com\/thesfglobe\" data-layout=\"button_count\" data-action=\"like\" data-show-faces=\"false\" data-share=\"false\"&gt;&lt;\/div&gt;\n\t\t\n\t\t\n&lt;\/div&gt;","Close","Opt-out, I already liked!");
		end_video_dlg.showMessage("Want more stories like this?","&lt;div style='background:#f7f7f7; padding:10px;'&gt;\n\n\n&lt;div style='font-size:16px;margin-bottom:5px;font-weight:normal;'&gt;Like us on Facebook to get more!&lt;\/div&gt;\n\n&lt;div id='popup_fblike_button' class=\"fb-like\" data-href=\"http:\/\/www.facebook.com\/thesfglobe\" data-layout=\"button_count\" data-action=\"like\" data-show-faces=\"false\" data-share=\"false\"&gt;&lt;\/div&gt;\n\t\t\n\t\t\n&lt;\/div&gt;","Close");
		end_video_dlg.oncancel = function(){
			// never show
			//trackFBLike(-1);
		}
		FB.XFBML.parse();
	}
	else {
		
	}
	//end_video_dlg.dom.dialog_button_ok.className = 'kfm_button_ignore';
	
	
	
}
  </script>
  <script type="text/javascript">
   function jsUpdateSize(){
    // Get the dimensions of the viewport
    var width = window.innerWidth ||
                document.documentElement.clientWidth ||
                document.body.clientWidth;
    var height = window.innerHeight ||
                 document.documentElement.clientHeight ||
                 document.body.clientHeight;

    //document.getElementById('jsWidth').innerHTML = width;  // Display the width
    //document.getElementById('jsHeight').innerHTML = height;// Display the height
    
    if (width &lt;= 800){
    	//alert('hi');
    	
    	updatePageSmall();
    }
    else if (width &gt; 800){
    	updatePageBig();
    }
    
};

function updatePageSmall(){
	if (document.getElementById('additional_xpromo')){
		if (document.getElementById('trending_stories_td')){
			document.getElementById('additional_xpromo').innerHTML = document.getElementById('trending_stories_td').innerHTML;
			document.getElementById('additional_xpromo').style.display = 'block';
		}
	}
	
	if (document.getElementById('trending_stories_td')){
		document.getElementById('trending_stories_td').style.display = 'none';
	}

	if (document.getElementById('spacebar_left_td')){
		document.getElementById('spacebar_left_td').style.width = '2%';
	}
	if (document.getElementById('spacebar_right_td')){
		document.getElementById('spacebar_right_td').style.width = '1%';
	}
}

function updatePageBig(){
	if (document.getElementById('additional_xpromo')){
		document.getElementById('additional_xpromo').style.display = 'none';	
	}
	if (document.getElementById('trending_stories_td')){
		document.getElementById('trending_stories_td').style.display = 'block';
	}

	if (document.getElementById('spacebar_left_td')){
		document.getElementById('spacebar_left_td').style.width = '10%';
	}
	if (document.getElementById('spacebar_right_td')){
		document.getElementById('spacebar_right_td').style.width = '10%';
	}
}


var is_mobile = "";
var cohort = Math.round(Math.random())+6;
var tracking = false;
function trackEvent(event) {
  if (!is_mobile &amp;&amp; tracking) {
    var ajax = new Ajax();
  	ajax.responseType = Ajax.JSON;
  	var params = {"action":event,"cohort":cohort};
  	ajax.post("http://sftimes.co/ajax/action_track.php", params);
  }
}





//trackEvent('pageload');
var cid = 0;
function shareArticleOnFB(details) {
	
	/*
  var article = Articles.get(details.article_id);
  if(article) {
    shareonFB(article.headline,article.blurb,article.url, details.article_id, details.tag);
  }
  */
  if (tracking) {
    trackEvent('sharefb_prompt');
  }
  var is_mobile = "";
  
  if(tracking) {
	    FB.ui({
	      'method':'feed',
	      'link':details.og_url
	    },function(response) {
	      //check response
	      if (response &amp;&amp; response.post_id) {
	        //alert(response.post_id);
          trackEvent('sharefb_confirm');
	      }
	      else {
	        // did not post
          trackEvent('sharefb_cancel');
	      }
	    });

  }
  else {
  	var width  = 575;
    var height = 400;
    var left   = (window.innerWidth   - width)  / 2;
    var top    = (window.innerHeight - height) / 2;
    var options   = 'status=1' +
                   ',width='  + width  +
                   ',height=' + height +
                   ',top='    + top    +
                   ',left='   + left;  
    window.open(details.fb_url, '_blank',options);
  }
  
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":"share_fb","article_id":details.article_id, "tag":details.tag, "cohort":0, "cid":0};	//var params = {"action":"share_fb","article_id":details.article_id, "tag":details.tag, "cohort":0};
	ajax.post("http://sftimes.co/ajax/action.php", params);
	
	
}

function shareOnReddit(details){
  	var width  = 600;
    var height = 500;
    var left   = (window.innerWidth   - width)  / 2;
    var top    = (window.innerHeight - height) / 2;
    var options   = 'status=1' +
                   ',width='  + width  +
                   ',height=' + height +
                   ',top='    + top    +
                   ',left='   + left;  
    var share_url = 'http://sftimes.co/?id='+details.article_id+'&amp;src='+details.tag+'_'+details.article_id;
    
    var reddit_url = 'http://www.reddit.com/submit?url='+ encodeURIComponent(share_url);
    
    window.open(reddit_url, '_blank',options);
}


function shareQuizOnFB(details) {
  window.open(details.fb_url, '_blank');
  var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":"share_fb","article_id":details.article_id, "tag":details.tag};
	ajax.post("http://sftimes.co/ajax/action.php", params);
}

function showOverlayLinks(){
	if (document.getElementById('overlay_links')){
		document.getElementById('overlay_links').style.display = 'block';
	}
}

function hideOverlayLinks(){
	if (document.getElementById('overlay_links')){
		document.getElementById('overlay_links').style.display = 'none';
	}	
}


function shareArticleOnTwitter(details){
	var width  = 575;
  var height = 400;
  var left   = (window.innerWidth   - width)  / 2;
  var top    = (window.innerHeight - height) / 2;
  var options   = 'status=1' +
                 ',width='  + width  +
                 ',height=' + height +
                 ',top='    + top    +
                 ',left='   + left;
	window.open(details.twitter_url,'twitter',options);
	
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":"share_twitter","article_id":details.article_id, "tag":details.tag};
	ajax.post("http://sftimes.co/ajax/action.php", params);
}

function shareonFB(article_name, article_caption, article_url, article_id, tag){
	
	if (is_mobile == ''){
		var shareurl = article_url+"&amp;src=share_fb_"+article_id;
	}
	else {
		var shareurl = article_url+"&amp;src=m_share_fb_"+article_id;
	}
	
	FB.ui({
	  method: 'feed',
	  link: shareurl,
	  name: article_name
	  
	}, function(response){
		
		
	});
		
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":"share_fb","article_id":article_id,"tag":tag};
	ajax.post("http://sftimes.co/ajax/action.php", params);
}

function postArticle(){
		
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	var params = {"action":"track_submit_story_click"};
	ajax.post("http://sftimes.co/ajax/action.php", params);	
	
	if (Account.state){
		var dlg = new DialogWrapper();
		dlg.showMessage("Submit a Story","&lt;div style='background:#f7f7f7; padding:10px;'&gt;\n\nPlease send any links (video, image, etc) and images to\n&lt;a href='mailto:hello@sfglobe.com'&gt;hello@sfglobe.com&lt;\/a&gt;. \n&lt;br \/&gt;&lt;br \/&gt;\nBe sure to make it clear who the original copyright holder is to all materials, so we can properly cite credits. Thank you.\n&lt;br \/&gt;&lt;br \/&gt;\n\n\n&lt;\/div&gt;","Okay");
	}
	else {
		Account.promptSignup();
	}
}

function unSubscribeEmail(){
	if (document.getElementById('unsubscribe_email')){
		var email = document.getElementById('unsubscribe_email').value;
		var ajax = new Ajax();
		ajax.responseType = Ajax.JSON;
		ajax.ondone = function(data) {
			if (document.getElementById('unsubscribe_message')){
				document.getElementById('unsubscribe_message').innerHTML = "&lt;b&gt;"+"You are now unsubscribed!"+"&lt;/b&gt;";
				document.getElementById('unsubscribe_message').className = 'errortext';
			}
		}	
		var params = {"action":"unsubscribe_email","email":email};
		ajax.post("http://sftimes.co/ajax/action.php", params);
	}
}


function subscribeEmail(){
	var email = document.getElementById('subscribe_email_address').value;
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	ajax.ondone = function(data) {
		if (data){
			if (data.success){
				//document.getElementById('email_subscribe_box').style.display = 'none';
			}
			
			if (data.message &amp;&amp; data.message_title){
				if (data.success){
					document.getElementById('subscribe_message').innerHTML = "&lt;b&gt;"+data.message_title+"&lt;/b&gt;"+" "+data.message;
					document.getElementById('subscribe_message').className = 'errortext';
				}
				else {
					document.getElementById('subscribe_message').innerHTML = "&lt;b&gt;"+data.message_title+"&lt;/b&gt;"+" "+data.message;
					document.getElementById('subscribe_message').className = 'errortext';
				}
				
			}
			
		}
		else {
			document.getElementById('subscribe_message').innerHTML = "Invalid Email. Refresh page to try again.";
			document.getElementById('subscribe_message').className = 'errortext';
		}
	}
	
	var params = {"action":"subscribe_email","email":email};
	ajax.post("http://sftimes.co/ajax/action.php", params);
}

function xpromo_link_tracker(url,article_id, tag,iteration){
	var params = {"action":"xpromo_link_tracker","article_id":article_id, "tag":tag,"current_id":"551","iteration":iteration};
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	ajax.ondone = function(){
	  if (url) {
	    navigate_wrapper(url);
	  }
	  else {
		  navigate_wrapper('/?id='+article_id+'&amp;src=xpromo');
		}
	}
	ajax.post("http://sftimes.co/ajax/action.php", params);	
}

function app_open(article_id) {
  // track app open
  var ajax = new Ajax();
  var params = {'action':'androidappopen'};
  ajax.ondone = function() {
    if (article_id) {
      var data = JSON.encode({
          "article_id":article_id,
          "tag":'app_open'
        });
        
      DeviceLinker.link(data,function(response){
          // redirect here
          if (Utils.determine_device() == Utils.DEVICE_ANDROID) {
            // go to app store
            var ajax = new Ajax();
          	ajax.responseType = Ajax.JSON;
          	var params = {"action":'androidappopen'};
          	ajax.ondone = function() {
              //window.location.href='sfglobe://sfg.app';
              launchandroid(false,function(){window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfg";});
              setTimeout(function(){xpromo_link_tracker(url,article_id, tag,iteration);},5000);
            }
          	ajax.post("http://sftimes.co/ajax/action.php", params);
          }
          else {
            xpromo_link_tracker(url,article_id, tag,iteration);
          }
          //alert(response.link);
        });
    }
    else {
      window.location.href='sfglobe://sfg.app';
    }
  }
  ajax.post('http://sftimes.co/ajax/action.php', params);
  
  
}

function openInApp(article_id,tag) {
  if (article_id) {
    if (!tag) {
      tag = 'none';
    }
    //Page.trackAction('openinapp',tag);
    var appurl = "sfglobe://sfglobe.com/?id="+article_id;
    if(tag) {
      appurl += '&amp;src='+encodeURIComponent(tag);
    }
    var data = JSON.encode({
        "article_id":article_id,
        "src":tag
      });
    if (Utils.determine_device() == Utils.DEVICE_ANDROID) {
      // go to app store
      if (true) {
        //DeviceLinker.link(data,function(response){
          //window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfgmobile";
        //});
        DeviceLinker.link(data,function(response){
    	    launchandroid(appurl,function() {
          
            //window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfg";
            window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfgmobile";
            
          });
        });
      }
      else {
        DeviceLinker.link(data,function(response){
          //window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfg";
          window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfgmobile";
          
        });
      }
    }
    else {
      setTimeout(function(){
      	window.location.href = appurl;
      	setTimeout(function(){
      	  //window.location.href = "itms://itunes.apple.com/us/app/sf-globe/id886101349?mt=8&amp;uo=4";
      	  DeviceLinker.link(data,function(response){
        	  window.location.href = "itms://itunes.apple.com/us/app/sf-globe/id886101349?mt=8&amp;uo=4";
          });
      	},100);
      },10);
      //DeviceLinker.link(data,function(response){
    	  //window.location.href = "itms://itunes.apple.com/us/app/sf-globe/id886101349?mt=8&amp;uo=4";
      //});
    }
    
  }
  else {
    if (Utils.determine_device() == Utils.DEVICE_ANDROID) {
      // go to app store
  	  launchandroid(false,function() {
        window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfg";
      });
    }
    else {
  	  window.location.href = "sfglobe://sfg.app";
  	  setTimeout(function(){
  	    window.location.href = "itms://itunes.apple.com/us/app/sf-globe/id886101349?mt=8&amp;uo=4"
  	    },100);
    }
  }
  if (tag) {
    if (Utils.determine_device() == Utils.DEVICE_ANDROID) {
      tag = 'android_'+tag;
    }
    else if (Utils.determine_device() == Utils.DEVICE_IPHONE) {
      tag = 'iphone_'+tag;
    }
    var ajax = new Ajax();
  	ajax.responseType = Ajax.JSON;
  	var params = {"action":tag};
  	ajax.ondone = function() {
    }
  	ajax.post("http://sftimes.co/ajax/action.php", params);
  }
}

function app_link_tracker(url,article_id,tag,iteration) {
  var data = JSON.encode({
      "article_id":article_id,
      "tag":tag
    });
  DeviceLinker.link(data,function(response){
      // redirect here
      if (Utils.determine_device() == Utils.DEVICE_ANDROID) {
        // go to app store
        var ajax = new Ajax();
      	ajax.responseType = Ajax.JSON;
      	var params = {"action":'androidappxpromo'};
      	ajax.ondone = function() {
      	  launchandroid(false,function() {
            window.location.href = "https://play.google.com/store/apps/details?id=com.sfglobe.sfg";
          });
          setTimeout(function(){xpromo_link_tracker(url,article_id, tag,iteration);},5000);
        }
      	ajax.post("http://sftimes.co/ajax/action.php", params);
      }
      else {
        var ajax = new Ajax();
      	ajax.responseType = Ajax.JSON;
      	var params = {"action":'iphoneappxpromo'};
      	ajax.ondone = function() {
      	  window.location.href = "sfglobe://sfg.app";
      	  setTimeout(function(){
      	    window.location.href = "itms://itunes.apple.com/us/app/sf-globe/id886101349?mt=8&amp;uo=4"
      	    },100);
          //window.location.href = "itms://itunes.apple.com/us/app/sf-globe/id886101349?mt=8&amp;uo=4";
          setTimeout(function(){xpromo_link_tracker(url,article_id, tag,iteration);},1000);
        }
      	ajax.post("http://sftimes.co/ajax/action.php", params);
      }
      //alert(response.link);
    });
}

var component_clicked = false;
function component_tracker(url,article_id, tag,cid){
  if (component_clicked) {
    return false;
  }
  component_clicked = true;
	var params = {"action":"component_tracker","article_id":article_id, "tag":tag,"current_id":"551","cid":cid};
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	ajax.ondone = function(){
		navigate_wrapper('/?id='+article_id+'&amp;cid='+cid);
	}
	ajax.post("http://sftimes.co/ajax/action.php", params);	
}

function nextpromo_link_tracker(url,article_id, tag){
	var params = {"action":"nextpromo_link_tracker","article_id":article_id, "tag":tag};
	var ajax = new Ajax();
	ajax.responseType = Ajax.JSON;
	ajax.ondone = function(){
		navigate_wrapper(url);
	}
	ajax.post("http://sftimes.co/ajax/action.php", params);	
}


function navigate_wrapper(target) {
  if(typeof top!='undefined') {
    top.location = target;
  }
  else if (document.setLocation) {
    document.setLocation(target);
  }
}

//FBWrapper.onReady(function() {
//});


function removeAds(){
	//alert('remove ads');	
	var dlg = new DialogWrapper();
	dlg.showMessage("Remove Ads","To remove ads, you must like our Facebook page! Once this dialog closes, click the FB like button at the bottom bar of the page where the bouncing arrow is at.","Okay!");
}



DialogWrapper.CANCEL_ON_OUTSIDE = false;
  </script>
  <script type="text/javascript">
   Account = {
  state: false,
  state_change_listeners:[],
  setState: function(state) {
    Account.state = state;
    for(var i = 0 ; i &lt; Account.state_change_listeners.length ; i++) {
      var listener = Account.state_change_listeners[i];
      setTimeout(listener,0);
    }
  },
  addOnStateChangeListener: function(listener) {
    if(Account.state_change_listeners.indexOf(listener)==-1) {
      Account.state_change_listeners[Account.state_change_listeners.length] = listener;
    }
  },
  removeOnStateChangeListener: function(listener) {
    var idx = Account.state_change_listeners.indexOf(listener);
    if(idx &gt;= 0) {
      Account.state_change_listeners.splice(idx,1);
    }
  },
  getOverlayDialog: function() {
    
    var dlg = new DialogWrapper();
    dlg.className = 'sfg_dialog';
    dlg.size = 'sfg_new';
    dlg.viewTop = 60;
    return dlg;
  },
  promptProfile: function() {
    if(Account.state) {
      var dlg = Account.getOverlayDialog();
      
      var content = "&lt;div class='profile_settings'&gt;&lt;div style='padding:40px;'&gt;\
        &lt;div class='stat'&gt;\
          Following\
          &lt;div class='number' id='profile_following'&gt;0&lt;/div&gt;\
        &lt;/div&gt;\
        &lt;input id='profile_picture_input' type=hidden value='"+(Account.state.picture ? Account.state.picture : '')+"' /&gt;\
        &lt;div id='profile_picture' class='pic'&gt;\
        &lt;span id='profile_picture_text'&gt;&lt;/span&gt;\
        &lt;/div&gt;\
        &lt;div class='stat'&gt;\
          Followers\
          &lt;div class='number' id='profile_followers'&gt;0&lt;/div&gt;\
        &lt;/div&gt;\
      &lt;/div&gt;\
      &lt;div&gt;&lt;span class='label'&gt;Name&lt;/span&gt; &lt;input id='profile_first_name' style='width:86px;margin-right:10px;' class='input_text' type='text' placeholder='First Name' value=''&gt;&lt;input id='profile_last_name' style='width:86px;' type='text' class='input_text' placeholder='Last Name' value=''&gt;&lt;/div&gt;\
      &lt;div id='name_error'&gt;&lt;/div&gt;\
      &lt;div&gt;&lt;span class='label'&gt;Username&lt;/span&gt; &lt;input id='profile_username' class='input_text' type='text' placeholder='Username' value=''&gt;&lt;/div&gt;\
      &lt;div id='username_error'&gt;&lt;/div&gt;\
      &lt;/div&gt;\
      ";
      
      dlg.showChoice(Translations.translate("%1's Profile",['&lt;span id=profile_name&gt;&lt;/span&gt;']),content,Translations.translate("Save"),Translations.translate("Cancel"));
      
      var saveButton = dlg.dom.dialog_button_ok;
      var saving = false;
      dlg.onconfirm = function() {
        if(saving) {
          return false;
        }
        saving = true;
        saveButton.value = 'Saving...';
        var updates = {
          'first_name':document.getElementById('profile_first_name').value,
          'last_name':document.getElementById('profile_last_name').value,
          'username':document.getElementById('profile_username').value,
          'picture':document.getElementById('profile_picture_input').value
        };    
        document.getElementById('name_error').textContent = '';
        document.getElementById('username_error').textContent = '';
        Account.updateProfile(updates,function(response) {
          if(response &amp;&amp; response.success) {
            saveButton.value = 'Saved';
            update();
            dlg.hide();
          }
          else {
            if(response.invalid_fields) {
              if(response.invalid_fields.indexOf("first_name") != -1 || response.invalid_fields.indexOf("last_name") != -1) {
                document.getElementById('name_error').textContent = Translations.translate("You're missing a first or last name!");
              }
              if (response.invalid_fields.indexOf("username") != -1) {
                document.getElementById('username_error').textContent = Translations.translate("Username must be between 6-30 characters and contain letters, numbers, and underscores only.");
              }
            }
            if(response.username_exists) {
              document.getElementById('username_error').textContent = Translations.translate("Username already taken");
            }
            saveButton.value = 'Save';
          }
          saving = false;
        });
        return false;
      };
      var picDom = document.getElementById('profile_picture');
      picDom.onclick = function() {
        Account.promptPicture(function(response) {
          if(response &amp;&amp; response.url &amp;&amp; response.key) {
            document.getElementById('profile_picture_input').value = response.key;
            saveButton.value = 'Save';
            picDom.style.backgroundImage = "url("+response.url+")";
            document.getElementById('profile_picture_text').textContent = '';
          }
        },function(progress) {
          picDom.style.backgroundImage = '';
          document.getElementById('profile_picture_text').textContent = Translations.translate("Uploading...");
        },true);
      };
      document.getElementById('profile_first_name').onchange = document.getElementById('profile_last_name').onchange = document.getElementById('profile_username').onchange = function() {
        saveButton.value = 'Save';
      }
      var update = function() {
        if(Account.state) {
          document.getElementById('profile_name').textContent = Account.state.name;
          if(Account.state.picture_url) {
            picDom.style.backgroundImage = "url("+Account.state.picture_url+")";
            document.getElementById('profile_picture_text').textContent = '';
            if(Account.state.picture) {
              document.getElementById('profile_picture_input').value = Account.state.picture;
            }
          }
          else {
            picDom.style.backgroundImage = "";
            document.getElementById('profile_picture_text').textContent = Translations.translate("Upload Picture");
            document.getElementById('profile_picture_input').value = '';
          }
          document.getElementById('profile_first_name').value = Account.state.first_name;
          document.getElementById('profile_last_name').value = Account.state.last_name;
          document.getElementById('profile_username').value = Account.state.username ? Account.state.username : '';
          document.getElementById('profile_following').innerHTML = Account.state.followed;
          document.getElementById('profile_followers').innerHTML = Account.state.followers;
        }
        else {
          dlg.hide();
        }
      }
      update();
    }
  },
  promptPicture: function(callback,uploadCallback,uploadOnly) {
    if(Account.state) {
      var maxWidth = 1200;
      var maxHeight = 1200;
      var finp = document.createElement('input');
      finp.type = 'file';
      finp.style.width = '1px';
      finp.style.height = '1px';
      finp.style.position = 'absolute';
      finp.style.left = '-10px';
      finp.accept = 'image/*';
      document.body.appendChild(finp);
      var ondone = function(retVal) {
        if(typeof callback == 'function') {
          callback(retVal);
        }
        if(finp.parentNode) {
          finp.parentNode.removeChild(finp);
        }
      }
      var upProgress = function(progress) {
        if(typeof uploadCallback == 'function') {
          uploadCallback(progress);
        }
      }
      finp.onchange = function(fEvent) {
        if(fEvent.target &amp;&amp; fEvent.target.files &amp;&amp; fEvent.target.files.length &gt; 0) {
          var file = fEvent.target.files[0];
          if(file.type &amp;&amp; file.type.match(/^image\/.*/)) {
            if(window.FileReader) {
              var reader = new FileReader();
              reader.onload = function(result) {
                if(reader.result) {  
                  var noFileReader = function() {
                    ondone(false);
                  }                        
                  var noCanvas = function() {
                    //if no canvas support, upload full image
                    var data = reader.result.replace(/^data:image\/[^\;]+;base64,/,'');
                    uploadData(data);
                  }
                  
                  var uploadData = function(data) {
                    upProgress(0);
                    var ajax = new Ajax();
                    ajax.responseType = Ajax.JSON;
                    ajax.ondone = function(response) {
                      if(response &amp;&amp; response.url) {
                        Account.state.picture_url = response.url;
                      }
                      upProgress(1);
                      ondone(response);
                    }
                    ajax.post(AppConfig.HOMEURL+'/ajax/picture.php',{'data':data,'save':uploadOnly?0:1});
                  }
                  
                  var img = document.createElement('img');
                  img.src = reader.result;
                  var calcImage = function() {
                    var width = img.naturalWidth;
                    var height = img.naturalHeight;
                    var xWidth = maxWidth/width;
                    var xHeight = maxHeight/height;
                    if(xWidth &lt; 1 || xHeight &lt; 1) {
                      var factor = (xWidth &lt; xHeight) ? xWidth : xHeight;
                      width = Math.round(width*factor);
                      height = Math.round(height*factor);
                    }
                    img.width = width;
                    img.height = height;
                    
                    var canvas = document.createElement('canvas');
                    canvas.width = width;
                    canvas.height = height;
                    if(canvas.getContext &amp;&amp; canvas.toDataURL) {
                      setTimeout(function() {
                        canvas.getContext("2d").drawImage(img,0,0,width,height);
                        var data = canvas.toDataURL('data/png');
                        if(data) {
                          data = data.replace(/^data:image\/[^\;]+;base64,/,'');
                          uploadData(data);
                        }
                        else {
                          noCanvas();
                        }
                      },1);
                    }
                    else {
                      noCanvas();
                    }
                  }
                  if(img.complete) {
                    setTimeout(calcImage,1);
                  }
                  else {
                    img.onload = calcImage;
                  }
                }
              }
              reader.readAsDataURL(file);
            }
            else {
              noFileReader();
            }
          }
          else {
            ondone(false);
          }
        }
        else {
          ondone(false);
        }
      }
      finp.click();
    }
  },
  promptNewSignup: function(callback,src) {
    var dlg = Account.getOverlayDialog();
    var content = "\
    &lt;div class='signup_overlay'&gt;\
    &lt;div style=\"font-family:'Playfair Display SC', serif;color:black;font-size:26px;padding:0px;padding-bottom:10px;\"&gt;The San Francisco Globe&lt;/div&gt;\
      &lt;div style='padding-right:25px;padding-left:25px;'&gt;\
        Not an SFG Reader?  Sign up, get free access to exclusive content, follow authors and topics, and connect with other SFG Readers.\
      &lt;/div&gt;\
      &lt;span style=''&gt;&lt;div id='signup_fb' style='margin-top:15px;display:inline-block;cursor:pointer;'&gt;&lt;div style='background-color:#3b579d;width:32px;height:32px;display:inline-block;border-top-left-radius:2px;border-bottom-left-radius:2px;border-right:1px #324b89 solid;'&gt;&lt;img style='width:32px;height:32px;' src='/img/fblogo144.png'&gt;&lt;/div&gt;&lt;div style='vertical-align:top;color:white;background-color:#3b579d;font-weight:bold;font-size:16px;display:inline-block;height:32px;line-height:32px;font-family:Arial;padding-left:10px;padding-right:15px;border-top-right-radius:2px;border-bottom-right-radius:2px;'&gt;Continue with Facebook&lt;/div&gt;&lt;/div&gt;\
      &lt;div&gt;or&lt;/div&gt;&lt;/span&gt;\
      &lt;div style='padding-top:10px;margin-bottom:60px;'&gt;\
        &lt;form id='signup_form' method=POST action='"+AppConfig.HOMEURL.replace(/^http\:\/\//,'https://')+"/signup.php?step=form&amp;next="+encodeURIComponent(window.location.href)+((window.Page &amp;&amp; Page.trackgroup) ? '&amp;tag='+encodeURIComponent(Page.trackgroup) : '')+"'&gt;\
          &lt;input type=hidden name=signup value=1 /&gt;\
          &lt;input type=hidden name=wait value=1 /&gt;\
          &lt;input type=hidden id='signup_did_fb' name='fb' value='0' /&gt;\
          &lt;input type=hidden id='signup_access_token' name='access_token' value='' /&gt;\
          &lt;input type=hidden id='signup_birthday' name='birthday' value='' /&gt;\
          &lt;input type=hidden id='signup_picture_url' name='picture_url' value='' /&gt;\
          &lt;div&gt;&lt;input style='width:99px;margin-right:10px;' id='signup_first_name' class='input_text' type='text' name='first_name' placeholder='First Name'&gt;&lt;input style='width:98px;' id='signup_last_name' class='input_text' type='text' name='last_name' placeholder='Last Name'&gt;&lt;/div&gt;\
          &lt;div&gt;&lt;input id='signup_email' class='input_text' type='email' name='email' placeholder='Email'&gt;&lt;/div&gt;\
          &lt;div&gt;&lt;input id='signup_password' class='input_text' type='password' name='password' placeholder='Password'&gt;&lt;/div&gt;\
          &lt;div style='padding-top:10px;'&gt;&lt;input class='button_action green' type='submit' value='Sign Up'&gt;&lt;/div&gt;\
        &lt;/form&gt;\
      &lt;/div&gt;\
      &lt;div class='footer'&gt;Already a member?  &lt;a id='signup_login' onclick='return false;' href='#'&gt;Login&lt;/a&gt;&lt;/div&gt;\
      &lt;/div&gt;\
    ";
    dlg.showMessage(Translations.translate('Sign up for %1',["&lt;span style=\"font-family:'Playfair Display SC', serif;color:#484848;\"&gt;SFG&lt;/span&gt;"]),content,"x");
    Utils.addEventListener(dlg.dom.overlay,'click',function() {
      dlg.cancel();
    });
    /*document.getElementById('signup_skip').onclick = function() {
      dlg.cancel();
      if(window.Page &amp;&amp; Page.trackAction) {
        Page.trackAction('signup_close','overlay_skip');
      }
      return false;
    }*/
    document.getElementById('signup_login').onclick = function() {
      dlg.hide();
      Account.promptLogin(callback,src,function() {
        Account.promptNewSignup(callback,src);
      });
      if(window.Page &amp;&amp; Page.trackAction) {
        Page.trackAction('login','overlay');
      }
      return false;
    }
    document.getElementById('signup_fb').onclick = function() {
      if(window.FB &amp;&amp; window.FB.login) {
        FB.login(function(lResponse) {
            if(lResponse &amp;&amp; lResponse.authResponse) {
              FB.api("/me",{fields:'name,first_name,last_name,gender,email,birthday,picture.width(1200).height(1200)'},function(meInfo) {
                if(meInfo) {
                  for(var k in meInfo) {
                    var inp = document.getElementById('signup_'+k);
                    if(inp &amp;&amp; meInfo[k]) {
                      inp.value = meInfo[k];
                    }
                  }
                  if(meInfo.picture &amp;&amp; meInfo.picture.data &amp;&amp; meInfo.picture.data.url) {
                    document.getElementById('signup_picture_url').value = meInfo.picture.data.url;
                  }
                  document.getElementById('signup_did_fb').value=1;
                  document.getElementById('signup_form').submit();
                }
              });
              if(lResponse.authResponse.accessToken) {
                document.getElementById('signup_access_token').value = lResponse.authResponse.accessToken;
              }
            }
        },{scope:'email,user_birthday'});
      }
    }
    dlg.onconfirm = dlg.oncancel = function() {
      if(typeof callback == 'function') {
        callback(false);
      }
      if(window.Page &amp;&amp; Page.trackAction) {
        Page.trackAction('signup_close','overlay');
      }
    }
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      document.getElementById('signup_first_name').focus();
    }
    dlg.dom.dialog_button_ok.style.color = 'gray';
  },
  promptLogin: function(callback,src,signupCallback) {
    if(typeof signupCallback != 'function') {
      signupCallback = function() {
        Account.promptSignup(callback,src);
      }
    }
    var content = '&lt;div id=login_prompt&gt;&lt;/div&gt;';
    var dlg = new DialogWrapper().showChoice(Translations.translate("Login"),content);
    Utils.addClass(dlg.dom.dialog,"login");
    var container = document.getElementById('login_prompt');
    
    var frm = document.createElement('form');
    frm.method = 'POST';
    container.appendChild(frm);
    
    var emailRow = document.createElement('div');
    frm.appendChild(emailRow);
    //emailRow.appendChild(document.createTextNode(Translations.translate("Email")));
    //emailRow.appendChild(document.createElement('br'));
    
    var emailInput = document.createElement('input');
    emailInput.type = 'email';
    emailInput.placeholder = Translations.translate("Email");
    emailInput.className = 'login email';
    emailRow.appendChild(emailInput);
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      emailInput.focus();
    }
    
    var passwordRow = document.createElement('div');
    frm.appendChild(passwordRow);
    //passwordRow.appendChild(document.createTextNode(Translations.translate("Password")));
    //passwordRow.appendChild(document.createElement('br'));
    
    var passwordInput = document.createElement('input');
    passwordInput.type = 'password';
    passwordInput.placeholder = Translations.translate("Password");
    passwordInput.className = 'login password';
    passwordRow.appendChild(passwordInput);
    
    var forgotPasswordRow = document.createElement('div');
    frm.appendChild(forgotPasswordRow);
    
    var forgotPasswordLink = document.createElement('a');
    forgotPasswordLink.className = 'login forgotpassword';
    forgotPasswordLink.href = '#';
    forgotPasswordLink.appendChild(document.createTextNode(Translations.translate("Forgot Password?")));
    forgotPasswordLink.onclick = function() {
      dlg.hide();
      Account.promptForgotPassword(callback);
      return false;
    }
    forgotPasswordRow.appendChild(forgotPasswordLink);
    
    var errorRow = document.createElement('div');
    errorRow.className = 'login error';
    errorRow.style.display = 'none';
    frm.appendChild(errorRow);
    
    
    var cancelButton = document.createElement('a');
    cancelButton.href = "#";
    cancelButton.className = 'login close';
    cancelButton.onclick = function() {
      dlg.hide();
      if(typeof callback == 'function') {
        callback(Account.state);
      }
      return false;
    }
    cancelButton.innerHTML = "&times;";
    frm.appendChild(cancelButton);
    
    var submitButton = document.createElement('input');
    submitButton.type = 'submit';
    submitButton.className = 'login submit';
    submitButton.value = Translations.translate("Login");
    frm.appendChild(submitButton);
    
    frm.appendChild(document.createElement('br'));
    var signup = document.createElement('a');
    signup.className = 'login signup';
    signup.href = '#';
    signup.onclick = function() {
      dlg.hide();
      signupCallback();
      return false;
    }
    signup.appendChild(document.createTextNode(Translations.translate("New User?  Sign Up!")));
    frm.appendChild(signup);
    
    frm.onsubmit = function() {
      errorRow.style.display = 'none';
      submitButton.disabled = true;
      Account.login(emailInput.value,passwordInput.value,function(response) {
        if(response &amp;&amp; response.account) {
          dlg.hide();
          if(typeof callback == 'function') {
            callback(Account.state);
          }
        }
        else {
          var msg = Translations.translate("Error logging in.  Please check that your email and password are entered correctly.")
          if(response &amp;&amp; response.error) {
            msg = response.error;
          }
          errorRow.innerHTML = '';
          errorRow.appendChild(document.createTextNode(msg));
          errorRow.style.display = '';
          submitButton.disabled = false;
        }
      });
      return false;
    }
    
    dlg.dom.dialog_buttons.style.display = 'none';
  },
  promptSignup: function(callback,src) {
    var content = '&lt;div id=signup_prompt&gt;&lt;/div&gt;';
    var dlg = new DialogWrapper();
    dlg.showChoice(Translations.translate("You need an account to do this. Sign up")+"!",content);
    Utils.addClass(dlg.dom.dialog,"signup");
    var container = document.getElementById('signup_prompt');
    
    var frm = document.createElement('form');
    frm.method = 'POST';
    container.appendChild(frm);
    
    if(false) {
      
      var fbRow = document.createElement('div');
      fbRow.className = 'btn_share btn_fb';
      var fbIcon = document.createElement('img');
      fbIcon.src = AppConfig.HOMEURL+'/img/icon_fb.png';
      fbIcon.width = 16;
      fbIcon.style.marginRight = '4px';
      fbRow.appendChild(fbIcon);
      fbRow.appendChild(document.createTextNode(Translations.translate('Facebook')));
      fbRow.style.marginBottom = '10px';
      
      var prefill = function() {
        var uidString = "me()";
        FB.api("/fql",{
          q:"select uid,email,first_name,last_name,sex from user where uid="+uidString
        },function(fqlResponse) {
          if(fqlResponse &amp;&amp; fqlResponse.data &amp;&amp; fqlResponse.data.length &gt; 0) {
            var row = fqlResponse.data[0];
            if(row.first_name) {
              firstNameInput.value = row.first_name;
            }
            if(row.last_name) {
              lastNameInput.value = row.last_name;
            }
            if(row.email) {
              emailInput.value = row.email;
              fbRow.style.display = 'none';
              hr.style.display = 'none';
              passwordInput.focus();
            }
            if(row.sex) {
            }
            emailSignupLink.onclick();
          }
        });
      }
      
      fbRow.onclick = function() {
        //FBWrapper.onReady(function() {
        new Ajax().post(AppConfig.HOMEURL+"/ajax/action.php",{action:'fbsignup'});
        FB.login(function(lResponse) {
            if(lResponse &amp;&amp; lResponse.authResponse) {
              new Ajax().post(AppConfig.HOMEURL+"/ajax/action.php",{action:'fbauth'});
              prefill();
            }
        },{scope:'email'});
          
        //});
      }
      frm.appendChild(fbRow);
      var hr = document.createElement('div');
      hr.style.borderBottom = '1px solid #cccccc';
      hr.style.marginBottom = '10px';
      frm.appendChild(hr);
    }
    
    
    var emailSignup = document.createElement('div');
    var emailSignupLink = document.createElement('a');
    //emailSignup.appendChild(emailSignupLink);
    emailSignupLink.href = '#';
    emailSignupLink.onclick = function() {
      emailCollapse.style.display = '';
      emailSignup.style.display = 'none';
      if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
        if(firstNameInput.value.length == 0) {
          firstNameInput.focus();
        }
        else if (lastNameInput.value.length == 0) {
          lastNameInput.focus();
        }
        else if (emailInput.value.length == 0) {
          emailInput.focus();
        }
        else if (passwordInput.value.length == 0) {
          passwordInput.focus();
        }
      }
      return false;
    }
    emailSignupLink.appendChild(document.createTextNode('Signup with Email'));
    frm.appendChild(emailSignup);
    
    var emailCollapse = document.createElement('span');
    //emailCollapse.style.display = 'none';
    frm.appendChild(emailCollapse);
    
    var firstNameRow = document.createElement('div');
    emailCollapse.appendChild(firstNameRow);
    //firstNameRow.appendChild(document.createTextNode(Translations.translate("First Name")));
    //firstNameRow.appendChild(document.createElement('br'));
    
    var firstNameInput = document.createElement('input');
    firstNameInput.className = 'signup first_name';
    firstNameInput.placeholder = Translations.translate("First Name");
    firstNameRow.appendChild(firstNameInput);
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      firstNameInput.focus();
    }
    
    var lastNameRow = document.createElement('div');
    emailCollapse.appendChild(lastNameRow);
    //lastNameRow.appendChild(document.createTextNode(Translations.translate("Last Name")));
    //lastNameRow.appendChild(document.createElement('br'));
    
    var lastNameInput = document.createElement('input');
    lastNameInput.className = 'signup last_name';
    lastNameInput.placeholder = Translations.translate("Last Name");
    lastNameRow.appendChild(lastNameInput);
    
    
    var emailRow = document.createElement('div');
    emailCollapse.appendChild(emailRow);
    //emailRow.appendChild(document.createTextNode(Translations.translate("Email")));
    //emailRow.appendChild(document.createElement('br'));
    
    var emailInput = document.createElement('input');
    emailInput.type = 'email';
    emailInput.className = 'signup email';
    emailInput.placeholder = Translations.translate("Email");
    emailRow.appendChild(emailInput);
    
    var genderRow = document.createElement('div');
    emailCollapse.appendChild(genderRow);
    genderRow.appendChild(document.createTextNode(Translations.translate("Gender")));
    genderRow.appendChild(document.createElement('br'));
    genderRow.style.display = 'none';
    
    
    var maleInput = document.createElement('input');
    maleInput.type = 'radio';
    maleInput.value = 'male';
    genderRow.appendChild(document.createTextNode(Translations.translate('Male')));
    genderRow.appendChild(maleInput);
    
    var femaleInput = document.createElement('input');
    femaleInput.type = 'radio';
    femaleInput.value = 'female';
    genderRow.appendChild(document.createTextNode(Translations.translate('Female')));
    genderRow.appendChild(femaleInput);
    
    
    var passwordRow = document.createElement('div');
    emailCollapse.appendChild(passwordRow);
    //passwordRow.appendChild(document.createTextNode(Translations.translate("Password")));
    //passwordRow.appendChild(document.createElement('br'));
    
    var passwordInput = document.createElement('input');
    passwordInput.type = 'password';
    passwordInput.className = 'signup password';
    passwordInput.placeholder = Translations.translate("Password");
    passwordRow.appendChild(passwordInput);
    
    var errorRow = document.createElement('div');
    errorRow.className = 'login error';
    errorRow.style.display = 'none';
    emailCollapse.appendChild(errorRow);
    
    var submitButton = document.createElement('input');
    submitButton.type = 'submit';
    submitButton.className = 'signup submit';
    submitButton.value = Translations.translate("Sign Up");
    emailCollapse.appendChild(submitButton);
    
    var cancelButton = document.createElement('a');
    cancelButton.href = "#";
    cancelButton.className = 'signup close';
    cancelButton.onclick = function() {
      dlg.hide();
      if(typeof callback == 'function') {
        callback(Account.state);
      }
      return false;
    }
    cancelButton.innerHTML = "&times;";
    frm.appendChild(cancelButton);
    
    frm.appendChild(document.createElement('br'));
    
    var login = document.createElement('a');
    login.href = '#';
    login.onclick = function() {
      dlg.hide();
      Account.promptLogin(callback);
      return false;
    }
    login.appendChild(document.createTextNode(Translations.translate("Already have an account?  Login!")));
    frm.appendChild(login);
    
    frm.onsubmit = function() {
      errorRow.style.display = 'none';
      submitButton.disabled = true;
      var extras = {};
      extras.first_name = firstNameInput.value;
      extras.last_name = lastNameInput.value;
      var gender = maleInput.checked ? maleInput.value : (femaleInput.checked ? femaleInput.value : false);
      if(gender) {
        extras.gender = gender;
      }
      Account.signup(emailInput.value,passwordInput.value,extras,function(response) {
        if(response &amp;&amp; response.account) {
          dlg.hide();
          if(typeof callback == 'function') {
            callback(Account.state);
          }
        }
        else {
          var msg = Translations.translate("Error creating account.");
          if(response &amp;&amp; response.error) {
            msg = response.error;
          }
          errorRow.innerHTML = '';
          errorRow.appendChild(document.createTextNode(msg));
          errorRow.style.display = '';
          submitButton.disabled = false;
        }
      });
      return false;
    }
    
    dlg.dom.dialog_buttons.style.display = 'none';
    if(src) {
      new Ajax().post(AppConfig.HOMEURL+"/ajax/action.php",{action:'promptSignup',from:src});
    }
  },
  promptForgotPassword: function(callback) {
    var content = '&lt;div id=forgot_password_prompt&gt;&lt;/div&gt;';
    var dlg = new DialogWrapper().showChoice(Translations.translate("Reset Password"),content);
    Utils.addClass(dlg.dom.dialog,"forgot_password");
    var container = document.getElementById('forgot_password_prompt');
    
    var frm = document.createElement('form');
    frm.method = 'POST';
    container.appendChild(frm);
    
    var emailRow = document.createElement('div');
    frm.appendChild(emailRow);
    //emailRow.appendChild(document.createTextNode(Translations.translate("Email")));
    //emailRow.appendChild(document.createElement('br'));
    
    var emailInput = document.createElement('input');
    emailInput.className = 'forgot_password email';
    emailInput.type = 'email';
    emailInput.placeholder = Translations.translate('Email');
    emailRow.appendChild(emailInput);
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      emailInput.focus();
    }
    
    
    var errorRow = document.createElement('div');
    errorRow.className = 'login error';
    errorRow.style.display = 'none';
    frm.appendChild(errorRow);
    
    var submitButton = document.createElement('input');
    submitButton.className = 'forgot_password submit';
    submitButton.type = 'submit';
    submitButton.value = Translations.translate("Send Email");
    frm.appendChild(submitButton);
    
    var cancelButton = document.createElement('a');
    cancelButton.href = "#";
    cancelButton.onclick = function() {
      dlg.hide();
      Account.promptLogin(callback);
      return false;
    }
    cancelButton.innerHTML = "&times;";
    cancelButton.className = 'forgot_password close';
    frm.appendChild(cancelButton);
    
    frm.onsubmit = function() {
      errorRow.style.display = 'none';
      submitButton.disabled = true;
      Account.sendPasswordReset(emailInput.value,function(response) {
        if(response &amp;&amp; response.success) {
          var dlg2 = new DialogWrapper().showMessage(Translations.translate("Email Sent!"),Translations.translate("Check your inbox for instructions on resetting your password."),Translations.translate("Ok"));
          dlg2.onconfirm = function() {
            dlg.hide();
            Account.promptLogin(callback);
          }
        }
        else {
          var msg = Translations.translate("Error");
          if(response &amp;&amp; response.error) {
            msg = response.error;
          }
          errorRow.innerHTML = '';
          errorRow.appendChild(document.createTextNode(msg));
          errorRow.style.display = '';
          submitButton.disabled = false;
        }
      });
      return false;
    }
    
    dlg.dom.dialog_buttons.style.display = 'none';
  },
  requireLogin: function(callback) {
    if(Account.state) {
      setTimeout(function() {
        callback(Account.state);
      },0);
    }
    else {
      Account.promptLogin(callback);
    }
  },
  handleDomains: function(domains,email,password) {
    if(domains) {
      for(var i = 0 ; i &lt; domains.length ; i++) {
        var domain = domains[i];
        var id = 'js_auth_'+domain;
        var script = document.createElement('script');
        script.src = 'https://'+domain+'/ajax/login.php'+'?email='+encodeURIComponent(email)+'&amp;password='+encodeURIComponent(password)+'&amp;js='+encodeURIComponent(id);
        script.async = true;
        script.id = id;
        document.body.appendChild(script);
      }
    }
  },
  login: function (email,password,callback) {
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(response &amp;&amp; response.account) {
        Account.setState(response.account);
        if(response.domains) {
          Account.handleDomains(response.domains,email,password);
        }
      }
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL.replace(/^http\:\/\//,'http://')+"/ajax/login.php",{email:email,password:password,next:window.location.href});
  },
  logout: function() {
    window.location.href = AppConfig.HOMEURL+"/logout.php?next="+encodeURIComponent(window.location.href)+"&amp;"+Math.random();
  },
  signup: function(email,password,params,callback) {
    if(!params) {
      params = {};
    }
    params.email = email;
    params.password = password;
    params.next = window.location.href;
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(response &amp;&amp; response.account) {
        Account.setState(response.account);
        if(response.domains) {
          Account.handleDomains(response.domains,email,password);
        }
      }
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL.replace(/^http\:\/\//,'http://')+"/ajax/signup.php",params);
  },
  sendPasswordReset: function(email,callback) {
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL+"/ajax/reset_password.php",{email:email});
  },
  sendConfirmationEmail: function(callback,params) {
    var ondone = function(retVal) {
      if(typeof callback == 'function') {
        callback(retVal);
      }
    }
    if(Account.state &amp;&amp; !Account.state.confirmed) {
      if(!params) {
        params = {};
      }
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response &amp;&amp; response.success) {
          if(callback) {
            ondone(true);
          }
          else {
            var dlg = new DialogWrapper().showMessage(Translations.translate('Confirmation Sent!'),Translations.translate('Check your email inbox for instructions on confirming your account.'),Translations.translate('Ok'));
          }
        }
        else {
          ondone(false);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/send_confirmation_email.php",params);
    }
    else {
      ondone(false);
    }
  },
  follow: function(targets,callback) {
    Account.follow_api('follow',[targets],callback);
  },
  unfollow: function(targets,callback) {
    Account.follow_api('unfollow',[targets],callback);
  },
  set_followed: function(targets,for_type,callback) {
    Account.follow_api('set_followed',[targets,for_type],callback);
  },
  follow_api: function(m,a,c) {
    var ondone = function(result) {
      if(typeof c == 'function') {
        c(result);
      }
    }
    if(Account.state) {
      var params = {
        'method' : m,
        'arguments': JSON.encode(a)
      };
      
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.timeout = 10000;
      ajax.ondone = ajax.ontimeout = ajax.onerror = function(response) {
        if(response) {
          ondone(response);
        }
        else {
          ondone(false);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/followed.php",params);
    }
    else {
      ondone(false);
    }
  },
  updateProfile: function(params,callback) {
    var ondone = function(result) {
      if(typeof callback == 'function') {
        callback(result);
      }
    }
    if(Account.state &amp;&amp; params) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response &amp;&amp; response.success) {
          if(response.account) {
            Account.setState(response.account);
          }
        }
        ondone(response);
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/profile.php",params);
    }
    else {
      ondone(false);
    }
  }
}

Comments = {
  HIDE_THRESHOLD: -1,
  votes: {},
  highlightedComment: false,
  setVotes: function(votes) {
    if(typeof votes == 'object') {
      for(var comment_id in votes) {
        Comments.votes[comment_id] = votes[comment_id];
      }
    }
  },
  getVote: function(comment) {
    if(Comments.votes[comment.id]) {
      return Comments.votes[comment.id];
    }
    return 0;
  },
  getAddCommentDom: function(object_id,reply_to,callback) {
    var div = document.createElement('div');
    div.className = 'add_comment';
    if(reply_to) {
      Utils.addClass(div,'reply');
    }
    
    var text_holder = document.createElement('div');
    text_holder.className = 'textarea_holder';
    div.appendChild(text_holder);
    
    var text = document.createElement('textarea');
    if (Page &amp;&amp; Page.test) {
      text.placeholder = Translations.translate("Please write a comment...");
    }
    else {
      text.placeholder = Translations.translate("Join the conversation...");
    }
    text_holder.appendChild(text);
    div.inputElement = text;
    
    var button = document.createElement('input');
    button.className = 'add_comment_button';
    button.type = 'button';
    button.value = Translations.translate('Comment');
    if(reply_to) {
      button.value = Translations.translate('Post');
    }
    div.appendChild(button);
    
    var signupDom = false;
    var showSignup = true;
    if(typeof is_mobile != 'undefined') {
      showSignup = !is_mobile;
    }
    if(showSignup) {
      signupDom = document.createElement('div');
      signupDom.className = 'quick_signup';
      signupDom.style.display = 'none';
      div.appendChild(signupDom);
      
      var errorRow = document.createElement('div');
      errorRow.className = 'login error';
      errorRow.style.display = 'none';
      signupDom.appendChild(errorRow);
      
      var firstNameInput = document.createElement('input');
      firstNameInput.className = 'signup first_name';
      firstNameInput.placeholder = Translations.translate("First Name");
      signupDom.appendChild(firstNameInput);
      
      var lastNameInput = document.createElement('input');
      lastNameInput.className = 'signup last_name';
      lastNameInput.placeholder = Translations.translate("Last Name");
      signupDom.appendChild(lastNameInput);
      
      var restDom = document.createElement('span');
      restDom.style.display = 'none';
      signupDom.appendChild(restDom);
      
      var emailInput = document.createElement('input');
      emailInput.type = 'email';
      emailInput.className = 'signup email';
      emailInput.placeholder = Translations.translate("Email");
      restDom.appendChild(emailInput);
      
      var passwordInput = document.createElement('input');
      passwordInput.type = 'password';
      passwordInput.className = 'signup password';
      passwordInput.placeholder = Translations.translate("Password");
      restDom.appendChild(passwordInput);
      
      var end = document.createElement('div');
      end.className = 'end';
      signupDom.appendChild(end);
      
      firstNameInput.onfocus = lastNameInput.onfocus = emailInput.onfocus = passwordInput.onfocus = function() {
        Utils.addClass(div,'active');
        restDom.style.display = '';
        if (Page &amp;&amp; !Page.commentattempt) {
          Page.commentattempt = true;
          Page.trackAction('commentattempt','firstname');
        }
      }
      
    }
    
    
    text.onfocus = function() {
      Utils.addClass(div,'active');
      if(signupDom) {
        signupDom.style.display = Account.state ? 'none' : '';
      }
    }
    text.onblur = function() {
      if(text.value.length == 0) {
        Utils.removeClass(div,'active');
      }
    }
    
    button.onclick = function() {
      if(!Account.state) {
        if(signupDom) {
          errorRow.style.display = 'none';
          button.disabled = true;
          var extras = {};
          extras.first_name = firstNameInput.value;
          extras.last_name = lastNameInput.value;
          Account.signup(emailInput.value,passwordInput.value,extras,function(response) {
            button.disabled = false;
            if(response &amp;&amp; response.account) {
              signupDom.style.display = 'none';
              button.onclick();
            }
            else {
              var msg = Translations.translate("Error creating account.");
              if(response &amp;&amp; response.error) {
                msg = response.error;
              }
              errorRow.innerHTML = '';
              errorRow.appendChild(document.createTextNode(msg));
              errorRow.style.display = '';
              if (Page) {
                Page.trackAction('commentfail',msg);
              }
            }
          });
        }
        else {
          Account.promptSignup(false,'comment');
        }
        return;
      }
      var content = Utils.trim(text.value);
      text.value = content;
      if(content.length &gt; 0) {
        text.disabled = true;
        Comments.addComment(object_id,content,reply_to,function(response) {
          text.disabled = false;
          if(response &amp;&amp; response.comment) {
            text.value = '';
            Utils.removeClass(div,'active');
          }
          if(typeof callback == 'function') {
            callback(response);
          }
        });
      }
      if (Page) {
        Page.trackAction('commentattempt','succeeded');
      }
    }
    var end = document.createElement('div');
    end.className = 'end';
    div.appendChild(end);
    return div;
  },
  loadComments: function(object_id,comments,container,cprompt) {
    
    var commentHolder = document.createElement('span');
    var replyBox = Comments.getAddCommentDom(object_id,false,function(response) {
      if(response &amp;&amp; response.comment) {
        if(commentHolder.firstChild) {
          commentHolder.insertBefore(Comments.getCommentDom(response.comment),commentHolder.firstChild);
        }
        else {
          commentHolder.appendChild(Comments.getCommentDom(response.comment));
        }
        window.location.href = '#comments';
      }
    });
    replyBox.className += ' first';
    
    var numcomments = document.createElement('div');
    numcomments.className = 'commentbox';
    if (comments.length &gt; 0) {
      numcomments.innerHTML = comments.length;
    }
    numcomments.style.position = 'absolute';
    numcomments.style.top = '6px';
    numcomments.style.left = '0px';
    numcomments.onclick = function(){window.location.href = '#comments';return clickTrack('commentsbar');};
    replyBox.appendChild(numcomments);
    
    var promptdom = document.createElement('div');
    if (cprompt) {
      promptdom.innerHTML = cprompt;
      promptdom.style.marginTop = '5px';
      promptdom.style.marginLeft = '5px';
      promptdom.style.fontSize = '16px';
      promptdom.style.fontWeight = 'bold';
    }
    replyBox.insertBefore(promptdom,replyBox.firstChild); 
    container.appendChild(replyBox);
    
    if (!is_mobile &amp;&amp; !Page.design) {
      stickyReply = new StickyDomElement(replyBox).setBottom(0).preserveStyle('height');
    }
    else if (Page.design) {
      stickyReply = new StickyDomElement(replyBox).setTop(0).preserveStyle('height');
    }
    
    var commentDoms = {};
    for(var i = 0 ; i &lt; comments.length ; i++) {
      var comment = comments[i];
      var cDom = Comments.getCommentDom(comment);
      commentDoms[comment.id] = cDom;
      
      if(comment.reply_to &amp;&amp; commentDoms[comment.reply_to] &amp;&amp; commentDoms[comment.reply_to].replies) {
        Comments.appendHelper(commentDoms[comment.reply_to].replies,cDom);
      }
      else {
        Comments.appendHelper(commentHolder,cDom);
      }
    }
    
    container.appendChild(commentHolder);
    
    Account.addOnStateChangeListener(function() {
      if(Account.state) {
        Comments.loadVotes(object_id,function(response) {
          for(var i = 0 ; i &lt; commentHolder.childNodes.length ; i++) {
            var node = commentHolder.childNodes[i];
            if(node &amp;&amp; node.updateComment) {
              node.updateComment();
            }
          }
        });
      }
    });
  },
  appendHelper: function(parentNode,childNode) {
    if(!Comments.total_counter) {
      Comments.total_counter = 0;
    }
    if(Comments.total_counter &lt; 500) {
      setTimeout(function() {
        parentNode.appendChild(childNode);
      },Comments.total_counter*10);
      Comments.total_counter++;
    }
  },
  getCommentDom: function(comment) {
    var div = document.createElement('div');
    div.className = 'comment';
    div.id = 'comment_'+comment.id;
    
    var anchor = document.createElement('a');
    anchor.className = 'anchor';
    anchor.name = 'c'+comment.id;
    div.appendChild(anchor);
    
    var contentdiv = div;
    for(var i = 0 ; i &lt; comment.indent ; i++) {
      break;
      var ind = document.createElement('div');
      ind.className = 'indent';
      contentdiv.appendChild(ind);
      contentdiv = ind;
    }
    
    Utils.addClass(contentdiv,'comment_inner');
    
    var actualcontent = document.createElement('span');
    contentdiv.appendChild(actualcontent);
    
    var author = document.createElement('span');
    author.className = 'author';
    author.appendChild(document.createTextNode(comment.author ? comment.author.name : Translations.translate('Anonymous')));
    actualcontent.appendChild(author);
    
    
    var vote_options = document.createElement('span');
    vote_options.className = 'vote_options';
    actualcontent.appendChild(vote_options);
    
    var vote = Comments.getVote(comment);
    
    var upvote = document.createElement('span');
    upvote.className = 'upvote';
    upvote.innerHTML = '';
    vote_options.appendChild(upvote);
    if(vote &gt; 0) {
      Utils.addClass(upvote,'voted');
    }
    upvote.onclick = function() {
      Page.trackAction('commentvoteup');
      Comments.vote(comment.id,Comments.getVote(comment) &lt;= 0 ? 1 : 0,function(response) {
        if(response &amp;&amp; response.success) {
          if(Comments.getVote(comment) &gt; 0) {
            Utils.addClass(upvote,'voted');
          }
          else {
            Utils.removeClass(upvote,'voted');
          }
          if(Comments.getVote(comment) &lt; 0) {
            Utils.addClass(downvote,'voted');
          }
          else {
            Utils.removeClass(downvote,'voted');
          }
        }
        if(response &amp;&amp; response.comment) {
          updateScore(response.comment.vote_score);
        }
      });
    }
    
    var downvote = document.createElement('span');
    downvote.className = 'downvote';
    downvote.innerHTML = '';
    vote_options.appendChild(downvote);
    if(vote &lt; 0) {
      Utils.addClass(downvote,'voted');
    }
    downvote.onclick = function() {
      Page.trackAction('commentvotedown');
      Comments.vote(comment.id,Comments.getVote(comment) &gt;= 0 ? -1 : 0,function(response) {
        if(response &amp;&amp; response.success) {
          if(Comments.getVote(comment) &gt; 0) {
            Utils.addClass(upvote,'voted');
          }
          else {
            Utils.removeClass(upvote,'voted');
          }
          if(Comments.getVote(comment) &lt; 0) {
            Utils.addClass(downvote,'voted');
          }
          else {
            Utils.removeClass(downvote,'voted');
          }
        }
        if(response &amp;&amp; response.comment) {
          updateScore(response.comment.vote_score);
        }
      });
    }
    
    
    var score = document.createElement('span');
    score.className = 'score';
    actualcontent.appendChild(score);
    
    
    var updateScore = function(vote_score) {
      score.innerHTML = '';
      score.appendChild(document.createTextNode(vote_score));
    }
    updateScore(comment.vote_score);
    
    var time = document.createElement('span');
    time.className = 'time';
    time.appendChild(document.createTextNode(Comments.formatUnixTime(comment.time)));
    //actualcontent.appendChild(time);
    
    var hide = document.createElement('span');
    hide.className = 'content hidden_content';
    hide.appendChild(document.createTextNode(Translations.translate('Hidden due to downvotes.  Click to view.')));
    contentdiv.appendChild(hide);
    hide.onclick = function() {
      actualcontent.style.display = '';
      hide.style.display = 'none';
    }
    hide.style.display = 'none';
    
    var content = document.createElement('span');
    content.className = 'content';
    //content.innerHTML = Utils.nl2br(Utils.htmlentities(comment.content));
    content.appendChild(document.createTextNode(comment.content));
    actualcontent.appendChild(content);
    
    
    if(comment.vote_score &lt;= Comments.HIDE_THRESHOLD &amp;&amp; (!Account.state || Account.state.id != comment.author.id)) {
      actualcontent.style.display = 'none';
      hide.style.display = '';
    }
    
    var reply = document.createElement('span');
    reply.className = 'reply_to';
    reply.appendChild(document.createTextNode(Translations.translate('reply')));
    actualcontent.appendChild(reply);
    
    
    var liketext = document.createElement('span');
    liketext.onclick = upvote.onclick;
    liketext.className = 'reply_to';
    liketext.style.marginLeft = '10px';
    liketext.appendChild(document.createTextNode(Translations.translate('Like')));
    actualcontent.appendChild(liketext);
    
    var disliketext = document.createElement('span');
    disliketext.onclick = downvote.onclick;
    disliketext.className = 'reply_to';
    disliketext.style.marginLeft = '10px';
    disliketext.appendChild(document.createTextNode(Translations.translate('Dislike')));
    actualcontent.appendChild(disliketext);
    
    var replyHolder = document.createElement('div');
    replyHolder.className = 'replies';
    div.replies = replyHolder;
    actualcontent.appendChild(replyHolder);
    
    var replier = Comments.getAddCommentDom(comment.object,comment.id,function(response) {
      if(response &amp;&amp; response.comment) {
        replier.style.display = 'none';
        if(replier.parentNode) {
          if(replier.nextSibling) {
            replier.parentNode.insertBefore(Comments.getCommentDom(response.comment),replier.nextSibling);
          }
          else {
            replier.parentNode.appendChild(Comments.getCommentDom(response.comment));
          }
        }
      }
    });
    replier.style.display = 'none';
    
    reply.onclick = function() {
      replier.style.display = replier.style.display == 'none' ? '' : 'none';
      if(replier.style.display != 'none') {
        if(replier.inputElement &amp;&amp; replier.inputElement.focus) {
          replier.inputElement.focus();
        }
      }
    }
    
    replyHolder.appendChild(replier);
    
    div.updateComment = function() {
      if(Comments.getVote(comment) &gt; 0) {
        Utils.addClass(upvote,'voted');
      }
      else {
        Utils.removeClass(upvote,'voted');
      }
      if(Comments.getVote(comment) &lt; 0) {
        Utils.addClass(downvote,'voted');
      }
      else {
        Utils.removeClass(downvote,'voted');
      }
    }
    if(comment.s &amp;&amp; (!Account.state || Account.state.id != comment.author.id)) {
      actualcontent.innerHTML = '';
      div.style.display = 'none';
    }
    
    return div;
  },
  formatUnixTime: function(time) {
    var d = new Date();
    
    var nowTime = d.getTime()/1000;
    var nowYear = d.getFullYear();
    var nowMonth = d.getMonth();
    var nowDay = d.getDay();
    
    d.setTime(time*1000);
    
    var elapsed = Math.max(0,nowTime-time);
    
    var units = [
      {unit:Translations.translate('%1 year ago'),units:Translations.translate('%1 years ago'),time:86400*365},
      {unit:Translations.translate('%1 month ago'),units:Translations.translate('%1 months ago'),time:86400*365/12},
      {unit:Translations.translate('%1 week ago'),units:Translations.translate('%1 weeks ago'),time:86400*365/52},
      {unit:Translations.translate('%1 day ago'),units:Translations.translate('%1 days ago'),time:86400},
      {unit:Translations.translate('%1 hour ago'),units:Translations.translate('%1 hours ago'),time:3600},
      {unit:Translations.translate('%1 minute ago'),units:Translations.translate('%1 minutes ago'),time:60}
    ];
    for(var i = 0 ; i &lt; units.length ; i++) {
      var unit = units[i];
      if(unit) {
        var count = Math.floor(elapsed/unit.time);
        if(count &gt; 0) {
          return Translations.map(count &gt; 1 ? unit.units : unit.unit,[count]);
        }
      }
    }
    return Translations.translate('moments ago');
  },
  checkAnchor: function() {
    var hash = window.location.hash;
    var currentCommentId = false;
    if(hash) {
      var matches = hash.match(/^\#c([0-9]+)$/);
      if(matches &amp;&amp; matches.length &gt; 0) {
        currentCommentId = matches[1];
      }
    }
    if(!document.getElementById('comment_'+currentCommentId)) {
      currentCommentId = false;
    }
    if(Comments.highlightedComment != currentCommentId) {
      if(Comments.highlightedComment) {
        var comment = document.getElementById('comment_'+Comments.highlightedComment);
        if(comment) {
          Utils.removeClass(comment,'highlighted');
        }
      }
      Comments.highlightedComment = currentCommentId;
      if(Comments.highlightedComment) {
        var comment = document.getElementById('comment_'+Comments.highlightedComment);
        if(comment) {
          Utils.addClass(comment,'highlighted');
        }
      }
    }
  },
  upvote: function(comment_id,callback) {
    //Page.trackAction('commentvoteup');
    return Comments.vote(comment_id,1,callback);
  },
  downvote: function(comment_id,callback) {
    //Page.trackAction('commentvotedown');
    return Comments.vote(comment_id,-1,callback);
  },
  vote: function(comment_id,score,callback) {
    if(Account.state || true) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response &amp;&amp; response.success) {
          var votes = {};
          votes[comment_id] = score;
          Comments.setVotes(votes);
        }
        if(typeof callback == 'function') {
          callback(response);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/comment_vote.php",{vote:score,comment:comment_id});
    }
    else {
      Account.promptSignup(false,'vote');
      setTimeout(function() {
        callback(false);
      },0);
    }
  },
  addComment: function(object_id,content,reply_to,callback) {
    if(Account.state) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response &amp;&amp; response.comment) {
          var votes = {};
          votes[response.comment.id] = 1;
          Comments.setVotes(votes);
          Page.trackAction('comment');
        }
        if(typeof callback == 'function') {
          callback(response);
        }
      }
      var params = {object:object_id,content:content};
      if(reply_to) {
        params.reply_to = reply_to;
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/comment.php",params);
    }
    else {
      Account.promptSignup(false,'comment');
      setTimeout(function() {
        callback(false);
      },0);
    }
  },
  loadVotes: function(object_id,callback) {
    if(Account.state) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response &amp;&amp; response.votes) {
          Comments.setVotes(response.votes);
        }
        if(typeof callback == 'function') {
          callback(response);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/object_votes.php",{object:object_id});
    }
  }
}
setInterval(function() {
  Comments.checkAnchor();
},500);
Account.Notifications = {
  unviewed_count:0,
  view_time:0,
  notifications:[],
  collapseCache:{},
  load: function(callback) {
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(response &amp;&amp; response.view_time) {
        Account.Notifications.view_time = response.view_time;
      }
      if(response &amp;&amp; response.notifications) {
        Account.Notifications.process(response.notifications);
      }
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'get'});
  },
  viewAll: function(callback) {
    if(Account.Notifications.notifications.length &gt; 0) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response) {
          Account.Notifications.unviewed_count = 0;
        }
        if(typeof callback == 'function') {
          callback(response);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'view',last:Account.Notifications.notifications[0].id});
    }
    else {
      if(typeof callback == 'function') {
        callback(false);
      }
    }
  },
  readAll: function(callback) {
    if(Account.Notifications.notifications.length &gt; 0) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response) {
          Account.Notifications.unviewed_count = 0;
        }
        if(typeof callback == 'function') {
          callback(response);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'read',ids:'all'});
    }
    else {
      if(typeof callback == 'function') {
        callback(false);
      }
    }
  },
  process: function(notifications) {
    if(notifications) {
      Account.Notifications.collapseCache = {};
      var processed_notifications = [];
      var ucount = 0;
      for(var i = 0 ; i &lt; notifications.length ; i++) {
        var notification = notifications[i];
        if(notification.time &gt; Account.Notifications.view_time) {
          ucount++;
        }
        switch(notification.type) {
          case 'upvote':
            var cacheKey = 'upvote_'+notification.data.comment;
            var collapseNotification = Account.Notifications.collapseCache[cacheKey];
            var collapse = false;
            if(collapseNotification) {
              var elapsed = collapseNotification.time - notification.time;
              if(elapsed &lt;= 86400) {
                collapse = true;
              }
            }
            if(collapse) {
              if(!collapseNotification.collapsed) {
                collapseNotification.collapsed = [];
              }
              collapseNotification.collapsed[collapseNotification.collapsed.length] = notification;
              if(!notification.read) {
                notification.collapseUnread = true;
              }
              break; //don't add to processed_notifications
            }
            else {
              Account.Notifications.collapseCache[cacheKey] = notification;
            }
          default:
            processed_notifications[processed_notifications.length] = notification;
        }
      }
      Account.Notifications.notifications = processed_notifications;
      Account.Notifications.unviewed_count = ucount;
    }
  },
  render: function(container) {
    container.innerHTML = '';
    
    var notifDoms = [];
    
    var toolbar = document.createElement('div');
    toolbar.className = 'notifications_bar';
    container.appendChild(toolbar);
    
    var notificationsHolder = document.createElement('div');
    notificationsHolder.className = 'notifications';
    container.appendChild(notificationsHolder);
    
    var bottombar = document.createElement('div');
    bottombar.className = 'notifications_footer';
    container.appendChild(bottombar);
    
    var title = document.createElement('div');
    title.className = 'notifications_title';
    title.appendChild(document.createTextNode(Translations.translate('Notifications')));
    toolbar.appendChild(title);
    
    var markRead = document.createElement('div');
    markRead.className = 'notifications_mark';
    markRead.appendChild(document.createTextNode(Translations.translate('Mark as Read')));
    toolbar.appendChild(markRead); 
    
    markRead.onclick = function() {
      Account.Notifications.readAll(function(response) {
        if(response) {
          for(var i = 0 ; i &lt; notifDoms.length ; i++) {
            Utils.removeClass(notifDoms[i],'unread');
          }
        }
      });
    };
    
    var limit = 20;
    var currentContainer = notificationsHolder;
    
    if(Account.Notifications.notifications.length == 0) {
      var nothing = document.createElement('div');
      nothing.className = 'notification no_activity';
      nothing.appendChild(document.createTextNode(Translations.translate('No Recent Activity')));
      currentContainer.appendChild(nothing);
    }
    
    for(var i = 0 ; i &lt; Account.Notifications.notifications.length ; i++) {
      var notification = Account.Notifications.notifications[i];
      if(currentContainer.childNodes.length &gt;= limit) {
        //create load more button and add new container
        var nextSection = document.createElement('div');
        var button = document.createElement('input');
        button.type = 'button';
        button.className = 'load_more';
        button.value = Translations.translate('Load More');
        nextSection.appendChild(button);
        
        var nextContainer = document.createElement('div');
        nextContainer.style.display = 'none';
        nextSection.appendChild(nextContainer);
        
        button.onclick = Account.Notifications._generateEventCallback(function(cont,btn) {
          var currentScroll = container.scrollTop;
          btn.style.display = 'none';
          cont.style.display = '';
          setTimeout(function() {
            container.scrollTop = currentScroll;
          },0);
          return false;
        },nextContainer,button);
        
        currentContainer.appendChild(nextSection);
        currentContainer = nextContainer;
        
      }
      var dom = Account.Notifications.getNotificationDom(notification);
      currentContainer.appendChild(dom);
      notifDoms[notifDoms.length] = dom;
    }
    container.scrollTop = 1;
    container.scrollTop = 0;
  },
  getNotificationDom: function(notification) {
    var div = document.createElement('div');
    div.className = 'notification';
    if(!notification.read || notification.collapseUnread) {
      Utils.addClass(div,'unread');
    }
    
    var icon = document.createElement('div');
    icon.className = 'notification_icon';
    div.appendChild(icon);
    
    if(notification.icon_url) {
      icon.style.backgroundImage = 'url('+notification.icon_url+')';
    }
    
    var content = document.createElement('div');
    content.className = 'notification_content';
    div.appendChild(content);
    
    var time = document.createElement('div');
    time.className = 'notification_time';
    div.appendChild(time);
    time.appendChild(document.createTextNode(Comments.formatUnixTime(notification.time)));
    
    var exerptText = false;
    var exerptLimit = 60;
    var ellipsis = "...";
    switch(notification.type) {
      case 'reply':
        if(notification.reply &amp;&amp; notification.reply.author &amp;&amp; notification.reply.author.name) {
          content.innerHTML = Translations.translate(Utils.htmlentities('%1 replied to your comment:'),["&lt;span class=name&gt;"+Utils.htmlentities(notification.reply.author.name)+"&lt;/span&gt;"]);
        }
        else {
          content.innerHTML = Translations.translate('Someone replied to your comment:');
        }
        content.innerHTML += ' ';
        exerptText = notification.reply.content;
        break;
      case 'upvote':
        if(notification.voter &amp;&amp; notification.voter.name) {
          var names = ["&lt;span class=name&gt;"+Utils.htmlentities(notification.voter.name)+"&lt;/span&gt;"];
          if(notification.collapsed &amp;&amp; notification.collapsed.length &gt; 0) {
            for(var i = 0 ; i &lt; notification.collapsed.length ; i++) {
              var collapsed = notification.collapsed[i];
              if(collapsed.voter &amp;&amp; collapsed.voter.name) {
                names[names.length] = "&lt;span class=name&gt;"+Utils.htmlentities(collapsed.voter.name)+"&lt;/span&gt;";
              }
            }
          }
          var name = [names[0]];
          if(names.length &gt; 1) {
            if(names.length == 2) {
              name = [names.join(' &amp; ')];
            }
            else if (names.length &gt; 2 &amp;&amp; names.length &lt; 4) {
              name = [names.slice(0,names.length-1).join(', ')+', &amp; '+names[names.length-1]];
            }
            else {
              name = [names[0]+' &amp; '+'&lt;span class=name&gt;'+Utils.htmlentities(Translations.translate('%1 others',[names.length-1]))+'&lt;/span&gt;'];
            }
          }
          content.innerHTML = Translations.translate(Utils.htmlentities('%1 upvoted your comment:'),name);
        }
        else {
          content.innerHTML = Translations.translate('Someone upvoted your comment:');
        }
        content.innerHTML += ' ';
        exerptText = notification.comment.content;
        break;
    }
    if(exerptText &amp;&amp; exerptText.length &gt; 0) {
      var exerpt = document.createElement('span');
      exerpt.className = 'exerpt';
      if(exerptText.length &gt; exerptLimit) {
        exerptText = exerptText.substr(0,exerptLimit-ellipsis.length)+ellipsis;
      }
      exerpt.appendChild(document.createTextNode(exerptText));
      content.appendChild(exerpt);
    }
    
    div.onclick = function() {
      var url = false;
      var notif_ids = [notification.id];
      if(notification.collapsed &amp;&amp; notification.collapsed.length &gt; 0) {
        for(var i = 0 ; i &lt; notification.collapsed.length ; i++) {
          notif_ids[notif_ids.length] = notification.collapsed[i].id;
        }
      }
      switch(notification.type) {
        case 'reply':
          if(notification.reply &amp;&amp; notification.reply.object) {
            //check if comment is already on page
            var comment_id = notification.reply.id;
            url = '#c'+comment_id;
            if(!document.getElementById('comment_'+comment_id)) {
              var cpath = AppConfig.HOMEURL+'/?id='+notification.reply.object;
              if(notification.reply.object_path) {
                cpath = AppConfig.HOMEURL+'/'+notification.reply.object_path;
              }
              
              url = cpath+(cpath.indexOf('?')==-1?'?':'&amp;')+'src=notif'+'&amp;notifs='+notif_ids.join(',')+url;
            }
          }
          break;
        case 'upvote':
          if(notification.comment &amp;&amp; notification.comment.object) {
            var comment_id = notification.comment.id;
            url = '#c'+comment_id;
            if(!document.getElementById('comment_'+comment_id)) {
              var cpath = AppConfig.HOMEURL+'/?id='+notification.comment.object;
              if(notification.comment.object_path) {
                cpath = AppConfig.HOMEURL+'/'+notification.comment.object_path;
              }
              url = cpath+(cpath.indexOf('?')==-1?'?':'&amp;')+'src=notif'+'&amp;notifs='+notif_ids.join(',')+url;
            }
          }
          break;
      }
      if(url) { 
        if(window.stop) {
          window.stop();
        }
        window.location.href = url;
      }
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response) {
          Utils.removeClass(div,'unread');
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'click',ids:JSON.encode(notif_ids)});
    }
    
    return div;
  },
  _generateEventCallback: function() {
    var callback = arguments[0];
    var nextArgs = [];
    for(var i = 1 ; i &lt; arguments.length ; i++) {
      nextArgs[nextArgs.length] = arguments[i];
    }
    return function(event) {
      if(!event) {
        event = window.event;
      }
      var result = callback.apply(null,nextArgs);
      if(result === false) {
        if(event) {
          event.preventDefault();
          event.stopPropagation();
          event.cancelBubble = true;
        }
      }
    }
  }
}
/*StickyDom


1. create copy that maintains offsetWidth/offsetHeight of linked dom,
2. detect scroll events (or do setinterval)
3. specify left/right/top/bottom at which item should stick (will be used for position fixed
4. when item scrolls past the specified limits, replace item in dom, make item position fixed



choices:
copy should just be placed in immediately?  or wait until switching to fixed?
insert placeholder before or just have it always be surrounding the item?
*/

function StickyDomElement (element) {
  this.element = element;
  this.fixed = false;
  this.placeholder = document.createElement('div');
  this.placeholder.style.visibility = 'hidden';
  this.placeholder.style.display = 'none';
  this.preservedStyles = {};
  if(this.element.parentNode) {
    this.element.parentNode.insertBefore(this.placeholder,this.element);
  }
  this.addEventListeners();
}
StickyDomElement.STYLES = ['position','left','top','right','bottom','width','height'];
StickyDomElement.PLACEHOLDER_STYLES = ['position','left','top','right','bottom','width','height','padding','margin','paddingLeft','paddingTop','paddingRight','paddingBottom','marginLeft','marginTop','marginRight','marginBottom'];
StickyDomElement.getViewRect = function() {
  var rect = {
    left: window.pageXOffset,
    top: window.pageYOffset,
    width: document.documentElement.clientWidth,
    height: document.documentElement.clientHeight
  };
  rect.right = rect.left + rect.width;
  rect.bottom = rect.top + rect.height;
  return rect;
}
StickyDomElement.prototype = {
  addEventListeners: function() {
    Utils.addEventListener(window,'scroll',this);
    Utils.addEventListener(window,'resize',this);
    Utils.addEventListener(window,'touchmove',this);
    Utils.addEventListener(window,'load',this);
  },
  removeEventListeners: function() {
    Utils.removeEventListener(window,'scroll',this);
    Utils.removeEventListener(window,'resize',this);
    Utils.removeEventListener(window,'touchmove',this);
    Utils.removeEventListener(window,'load',this);
  },
  handleEvent: function(event) {
    switch(event.type) {
      case 'load':
      case 'scroll':
      case 'touchmove':
        this.check();
        break;
      case 'resize':
        if(this.fixed) {
          this.unstick();
          this.check();
        }
        break;
    }
  },
  deactivate: function() {
    this.removeEventListeners();
  },
  stickTop: function() {
    this.fixedTop = true;
    this.fixedBottom = false;
    this.stick({
      top:this.getTop()+'px'
    });
  },
  stickBottom: function() {
    this.fixedTop = false;
    this.fixedBottom = true;
    this.stick({
      bottom:this.getBottom()+'px'
    });
  },
  stick: function(positioning) {
    this.fixed = true;
    var coords = Utils.getCoordinates(this.element);
    var computedStyle = window.getComputedStyle(this.element);
    var cWidth = computedStyle.width;
    var cHeight = computedStyle.height;
    this.styles = {};
    for(var i = 0 ; i &lt; StickyDomElement.STYLES.length ; i++) {
      var style = StickyDomElement.STYLES[i];
      this.styles[style] = this.element.style[style];
    }
    this.resizePlaceholder();
    var newStyles = {
      'position': 'fixed',
      'left': coords.left+'px',
      'width': cWidth,
      'height': cHeight
    };
    if(positioning) {
      for(var k in positioning) {
        newStyles[k] = positioning[k];
      }
    }
    for(var k in newStyles) {
      if(!this.preservedStyles[k]) {
        this.element.style[k] = newStyles[k];
      }
    }
    this.showPlaceholder();
  },
  unstick: function() {
    if(this.fixed) {
      this.fixed = false;
      this.fixedTop = false;
      this.fixedBottom = false;
      if(this.styles) {
        for(var style in this.styles) {
          this.element.style[style] = this.styles[style] ? this.styles[style] : '';
        }
      }
      this.hidePlaceholder();
    }
  },
  check: function() {
    if(!this.checking) {
      this.checking = true;
      var rect = StickyDomElement.getViewRect();
      if(!this.fixed) {
        var coords = Utils.getCoordinates(this.element);
        if(this.sticksToTop() &amp;&amp; rect.top + this.getTop() &gt; coords.top) {
          this.stickTop();
        }
        else if (this.sticksToBottom() &amp;&amp; rect.bottom - this.getBottom() &lt; coords.bottom) {
          this.stickBottom();
        }
      }
      else {
        var coords = Utils.getCoordinates(this.placeholder);
        if(this.fixedTop &amp;&amp; rect.top + this.getTop() &lt; coords.top) {
          this.unstick();
        }
        else if (this.fixedBottom &amp;&amp; rect.bottom - this.getBottom() &gt; coords.bottom) {
          this.unstick();
        }
        else {
          if(this.getMax() &gt; 0) {
            if(rect.top + this.getTop() - this.getMax() &gt; coords.top) {
              this.element.style.position = 'absolute';
              this.element.style.top = (rect.top + this.getTop())+'px';
            }
          }
        }
      }
      this.checking = false;
    }
  },
  showPlaceholder: function() {
    if(!this.placeholder.parentNode) {
      if(this.element.parentNode) {
        this.element.parentNode.insertBefore(this.placeholder,this.element);
      }
    }
    this.placeholder.style.display = '';
  },
  hidePlaceholder: function() {
    if(false &amp;&amp; this.placeholder.parentNode) {
      this.placeholder.parentNode.removeChild(this.placeholder);
    }
    this.placeholder.style.display = 'none';
  },
  resizePlaceholder: function() {
    placehold = this.placeholder;
    if(window.getComputedStyle) {
      var computedStyle = window.getComputedStyle(this.element);
      for(var i = 0 ; i &lt; StickyDomElement.PLACEHOLDER_STYLES.length ; i++) {
        var style = StickyDomElement.PLACEHOLDER_STYLES[i];
        this.placeholder.style[style] = computedStyle[style];
      }
    }
    else {
      this.placeholder.style.width = this.element.offsetWidth+'px';
      this.placeholder.style.height = this.element.offsetHeight+'px';
    }
    this.placeholder.style.visibility = 'hidden';
  },
  sticksToTopFromBottom: function() {
    return !isNaN(this.getTopFromBottom());
  },
  getTopFromBottom: function() {
    return parseFloat(this.element.getAttribute('stickyTopFromBottom'));
  },
  setTopFromBottom: function(top) {
    this.element.setAttribute('stickyTopFromBottom',top);
    return this;
  },
  sticksToBottomFromTop: function() {
    return !isNaN(this.getBottomFromTop());
  },
  getBottomFromTop: function() {
    return parseFloat(this.element.getAttribute('stickyBottomFromTop'));
  },
  setBottomFromTop: function(top) {
    this.element.setAttribute('stickyBottomFromTop',top);
    return this;
  },
  sticksToTop: function() {
    return !isNaN(this.getTop());
  },
  getTop: function() {
    if(this.sticksToTopFromBottom()) {
      var rect = StickyDomElement.getViewRect();
      var coords = Utils.getCoordinates(this.element);
      return rect.height - coords.height - this.getTopFromBottom();
    }
    return parseFloat(this.element.getAttribute('stickyTop'));
  },
  setTop: function(top) {
    this.element.setAttribute('stickyTop',top);
    return this;
  },
  sticksToBottom: function() {
    return !isNaN(this.getBottom());
  },
  getBottom: function() {
    if(this.sticksToBottomFromTop()) {
      var rect = StickyDomElement.getViewRect();
      var coords = Utils.getCoordinates(this.element);
      return rect.height - coords.height - this.getBottomFromTop();
    }
    return parseFloat(this.element.getAttribute('stickyBottom'));
  },
  setBottom: function(bottom) {
    this.element.setAttribute('stickyBottom',bottom);
    return this;
  },
  getMax: function() {
    var m = parseFloat(this.element.getAttribute('stickyMax'));
    if(!m || isNaN(m)) {
      m = 0;
    }
    return m;
  },
  setMax: function(m) {
    if(!m || isNaN(m)) {
      m = 0;
    }
    this.element.setAttribute('stickyMax',m);
    return this;
  },
  preserveStyle: function(style) {
    this.preservedStyles[style] = true;
    return this;
  }
}
DeviceLinker = {
  callbacks: {},
  createCallback: function(callback) {
    var key = 'c'+new Date().getTime()+Math.random();
    DeviceLinker.callbacks[key] = callback;
    return 'DeviceLinker.getCallback('+JSON.encode(key)+')';
  },
  getCallback: function(key) {
    var cb = DeviceLinker.callbacks[key];
    if(cb &amp;&amp; typeof cb == 'function') {
      return cb;
    }
    return function() {
    };
  },
  find: function(callback) {
    DeviceLinker.api('find',null,callback);
  },
  link: function(data,callback) {
    DeviceLinker.api('link',{'data':data},callback);
  },
  clear: function(link,callback) {
    DeviceLinker.api('clear',{'link':link},callback);
  },
  clearAll: function(link,callback) {
    var params = {};
    if(link) {
      params.link = link;
    }
    DeviceLinker.api('clearAll',params,callback);
  },
  api: function(method,params,callback) {
    if(!params) {
      params = {};
    }
    params.method = method;
    var ondone = function(response) {
      if(typeof callback == 'function') {
        callback(response);
      }
    };
    
    var scriptUrl = AppConfig.HOMEURL+'/ajax/device_linker.php';
    
    if(true) {
      var script = document.createElement('script');
      script.async = true;
      script.type = 'text/javascript';
      params.jsonp = DeviceLinker.createCallback(function(response) {
        ondone(response);
        if(script.parentNode) {
          script.parentNode.removeChild(script);
        }
      });
      script.src = scriptUrl+'?'+Ajax.encode(params);
      document.body.appendChild(script);
    }
    else {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = ajax.onerror = ajax.ontimeout = ondone;
      ajax.post(scriptUrl,params);
    }
  }
}
  </script>
  <script type="text/javascript">
   Account.setState(false);
  </script>
  <script src="http://sftimes.co/js/page.js?v=3">
  </script>
  <script src="http://sftimes.co/js/article.js?v=7">
  </script>
  <link href="http://sftimes.co/css/header.css?1421877939" rel="stylesheet" type="text/css"/>
  <script type="text/javascript">
   Account = {
  state: false,
  state_change_listeners:[],
  setState: function(state) {
    Account.state = state;
    for(var i = 0 ; i &lt; Account.state_change_listeners.length ; i++) {
      var listener = Account.state_change_listeners[i];
      setTimeout(listener,0);
    }
  },
  addOnStateChangeListener: function(listener) {
    if(Account.state_change_listeners.indexOf(listener)==-1) {
      Account.state_change_listeners[Account.state_change_listeners.length] = listener;
    }
  },
  removeOnStateChangeListener: function(listener) {
    var idx = Account.state_change_listeners.indexOf(listener);
    if(idx &gt;= 0) {
      Account.state_change_listeners.splice(idx,1);
    }
  },
  getOverlayDialog: function() {
    
    var dlg = new DialogWrapper();
    dlg.className = 'sfg_dialog';
    dlg.size = 'sfg_new';
    dlg.viewTop = 60;
    return dlg;
  },
  promptProfile: function() {
    if(Account.state) {
      var dlg = Account.getOverlayDialog();
      
      var content = "&lt;div class='profile_settings'&gt;&lt;div style='padding:40px;'&gt;\
        &lt;div class='stat'&gt;\
          Following\
          &lt;div class='number' id='profile_following'&gt;0&lt;/div&gt;\
        &lt;/div&gt;\
        &lt;input id='profile_picture_input' type=hidden value='"+(Account.state.picture ? Account.state.picture : '')+"' /&gt;\
        &lt;div id='profile_picture' class='pic'&gt;\
        &lt;span id='profile_picture_text'&gt;&lt;/span&gt;\
        &lt;/div&gt;\
        &lt;div class='stat'&gt;\
          Followers\
          &lt;div class='number' id='profile_followers'&gt;0&lt;/div&gt;\
        &lt;/div&gt;\
      &lt;/div&gt;\
      &lt;div&gt;&lt;span class='label'&gt;Name&lt;/span&gt; &lt;input id='profile_first_name' style='width:86px;margin-right:10px;' class='input_text' type='text' placeholder='First Name' value=''&gt;&lt;input id='profile_last_name' style='width:86px;' type='text' class='input_text' placeholder='Last Name' value=''&gt;&lt;/div&gt;\
      &lt;div id='name_error'&gt;&lt;/div&gt;\
      &lt;div&gt;&lt;span class='label'&gt;Username&lt;/span&gt; &lt;input id='profile_username' class='input_text' type='text' placeholder='Username' value=''&gt;&lt;/div&gt;\
      &lt;div id='username_error'&gt;&lt;/div&gt;\
      &lt;/div&gt;\
      ";
      
      dlg.showChoice(Translations.translate("%1's Profile",['&lt;span id=profile_name&gt;&lt;/span&gt;']),content,Translations.translate("Save"),Translations.translate("Cancel"));
      
      var saveButton = dlg.dom.dialog_button_ok;
      var saving = false;
      dlg.onconfirm = function() {
        if(saving) {
          return false;
        }
        saving = true;
        saveButton.value = 'Saving...';
        var updates = {
          'first_name':document.getElementById('profile_first_name').value,
          'last_name':document.getElementById('profile_last_name').value,
          'username':document.getElementById('profile_username').value,
          'picture':document.getElementById('profile_picture_input').value
        };    
        document.getElementById('name_error').textContent = '';
        document.getElementById('username_error').textContent = '';
        Account.updateProfile(updates,function(response) {
          if(response &amp;&amp; response.success) {
            saveButton.value = 'Saved';
            update();
            dlg.hide();
          }
          else {
            if(response.invalid_fields) {
              if(response.invalid_fields.indexOf("first_name") != -1 || response.invalid_fields.indexOf("last_name") != -1) {
                document.getElementById('name_error').textContent = Translations.translate("You're missing a first or last name!");
              }
              if (response.invalid_fields.indexOf("username") != -1) {
                document.getElementById('username_error').textContent = Translations.translate("Username must be between 6-30 characters and contain letters, numbers, and underscores only.");
              }
            }
            if(response.username_exists) {
              document.getElementById('username_error').textContent = Translations.translate("Username already taken");
            }
            saveButton.value = 'Save';
          }
          saving = false;
        });
        return false;
      };
      var picDom = document.getElementById('profile_picture');
      picDom.onclick = function() {
        Account.promptPicture(function(response) {
          if(response &amp;&amp; response.url &amp;&amp; response.key) {
            document.getElementById('profile_picture_input').value = response.key;
            saveButton.value = 'Save';
            picDom.style.backgroundImage = "url("+response.url+")";
            document.getElementById('profile_picture_text').textContent = '';
          }
        },function(progress) {
          picDom.style.backgroundImage = '';
          document.getElementById('profile_picture_text').textContent = Translations.translate("Uploading...");
        },true);
      };
      document.getElementById('profile_first_name').onchange = document.getElementById('profile_last_name').onchange = document.getElementById('profile_username').onchange = function() {
        saveButton.value = 'Save';
      }
      var update = function() {
        if(Account.state) {
          document.getElementById('profile_name').textContent = Account.state.name;
          if(Account.state.picture_url) {
            picDom.style.backgroundImage = "url("+Account.state.picture_url+")";
            document.getElementById('profile_picture_text').textContent = '';
            if(Account.state.picture) {
              document.getElementById('profile_picture_input').value = Account.state.picture;
            }
          }
          else {
            picDom.style.backgroundImage = "";
            document.getElementById('profile_picture_text').textContent = Translations.translate("Upload Picture");
            document.getElementById('profile_picture_input').value = '';
          }
          document.getElementById('profile_first_name').value = Account.state.first_name;
          document.getElementById('profile_last_name').value = Account.state.last_name;
          document.getElementById('profile_username').value = Account.state.username ? Account.state.username : '';
          document.getElementById('profile_following').innerHTML = Account.state.followed;
          document.getElementById('profile_followers').innerHTML = Account.state.followers;
        }
        else {
          dlg.hide();
        }
      }
      update();
    }
  },
  promptPicture: function(callback,uploadCallback,uploadOnly) {
    if(Account.state) {
      var maxWidth = 1200;
      var maxHeight = 1200;
      var finp = document.createElement('input');
      finp.type = 'file';
      finp.style.width = '1px';
      finp.style.height = '1px';
      finp.style.position = 'absolute';
      finp.style.left = '-10px';
      finp.accept = 'image/*';
      document.body.appendChild(finp);
      var ondone = function(retVal) {
        if(typeof callback == 'function') {
          callback(retVal);
        }
        if(finp.parentNode) {
          finp.parentNode.removeChild(finp);
        }
      }
      var upProgress = function(progress) {
        if(typeof uploadCallback == 'function') {
          uploadCallback(progress);
        }
      }
      finp.onchange = function(fEvent) {
        if(fEvent.target &amp;&amp; fEvent.target.files &amp;&amp; fEvent.target.files.length &gt; 0) {
          var file = fEvent.target.files[0];
          if(file.type &amp;&amp; file.type.match(/^image\/.*/)) {
            if(window.FileReader) {
              var reader = new FileReader();
              reader.onload = function(result) {
                if(reader.result) {  
                  var noFileReader = function() {
                    ondone(false);
                  }                        
                  var noCanvas = function() {
                    //if no canvas support, upload full image
                    var data = reader.result.replace(/^data:image\/[^\;]+;base64,/,'');
                    uploadData(data);
                  }
                  
                  var uploadData = function(data) {
                    upProgress(0);
                    var ajax = new Ajax();
                    ajax.responseType = Ajax.JSON;
                    ajax.ondone = function(response) {
                      if(response &amp;&amp; response.url) {
                        Account.state.picture_url = response.url;
                      }
                      upProgress(1);
                      ondone(response);
                    }
                    ajax.post(AppConfig.HOMEURL+'/ajax/picture.php',{'data':data,'save':uploadOnly?0:1});
                  }
                  
                  var img = document.createElement('img');
                  img.src = reader.result;
                  var calcImage = function() {
                    var width = img.naturalWidth;
                    var height = img.naturalHeight;
                    var xWidth = maxWidth/width;
                    var xHeight = maxHeight/height;
                    if(xWidth &lt; 1 || xHeight &lt; 1) {
                      var factor = (xWidth &lt; xHeight) ? xWidth : xHeight;
                      width = Math.round(width*factor);
                      height = Math.round(height*factor);
                    }
                    img.width = width;
                    img.height = height;
                    
                    var canvas = document.createElement('canvas');
                    canvas.width = width;
                    canvas.height = height;
                    if(canvas.getContext &amp;&amp; canvas.toDataURL) {
                      setTimeout(function() {
                        canvas.getContext("2d").drawImage(img,0,0,width,height);
                        var data = canvas.toDataURL('data/png');
                        if(data) {
                          data = data.replace(/^data:image\/[^\;]+;base64,/,'');
                          uploadData(data);
                        }
                        else {
                          noCanvas();
                        }
                      },1);
                    }
                    else {
                      noCanvas();
                    }
                  }
                  if(img.complete) {
                    setTimeout(calcImage,1);
                  }
                  else {
                    img.onload = calcImage;
                  }
                }
              }
              reader.readAsDataURL(file);
            }
            else {
              noFileReader();
            }
          }
          else {
            ondone(false);
          }
        }
        else {
          ondone(false);
        }
      }
      finp.click();
    }
  },
  promptNewSignup: function(callback,src) {
    var dlg = Account.getOverlayDialog();
    var content = "\
    &lt;div class='signup_overlay'&gt;\
    &lt;div style=\"font-family:'Playfair Display SC', serif;color:black;font-size:26px;padding:0px;padding-bottom:10px;\"&gt;The San Francisco Globe&lt;/div&gt;\
      &lt;div style='padding-right:25px;padding-left:25px;'&gt;\
        Not an SFG Reader?  Sign up, get free access to exclusive content, follow authors and topics, and connect with other SFG Readers.\
      &lt;/div&gt;\
      &lt;span style=''&gt;&lt;div id='signup_fb' style='margin-top:15px;display:inline-block;cursor:pointer;'&gt;&lt;div style='background-color:#3b579d;width:32px;height:32px;display:inline-block;border-top-left-radius:2px;border-bottom-left-radius:2px;border-right:1px #324b89 solid;'&gt;&lt;img style='width:32px;height:32px;' src='/img/fblogo144.png'&gt;&lt;/div&gt;&lt;div style='vertical-align:top;color:white;background-color:#3b579d;font-weight:bold;font-size:16px;display:inline-block;height:32px;line-height:32px;font-family:Arial;padding-left:10px;padding-right:15px;border-top-right-radius:2px;border-bottom-right-radius:2px;'&gt;Continue with Facebook&lt;/div&gt;&lt;/div&gt;\
      &lt;div&gt;or&lt;/div&gt;&lt;/span&gt;\
      &lt;div style='padding-top:10px;margin-bottom:60px;'&gt;\
        &lt;form id='signup_form' method=POST action='"+AppConfig.HOMEURL.replace(/^http\:\/\//,'https://')+"/signup.php?step=form&amp;next="+encodeURIComponent(window.location.href)+((window.Page &amp;&amp; Page.trackgroup) ? '&amp;tag='+encodeURIComponent(Page.trackgroup) : '')+"'&gt;\
          &lt;input type=hidden name=signup value=1 /&gt;\
          &lt;input type=hidden name=wait value=1 /&gt;\
          &lt;input type=hidden id='signup_did_fb' name='fb' value='0' /&gt;\
          &lt;input type=hidden id='signup_access_token' name='access_token' value='' /&gt;\
          &lt;input type=hidden id='signup_birthday' name='birthday' value='' /&gt;\
          &lt;input type=hidden id='signup_picture_url' name='picture_url' value='' /&gt;\
          &lt;div&gt;&lt;input style='width:99px;margin-right:10px;' id='signup_first_name' class='input_text' type='text' name='first_name' placeholder='First Name'&gt;&lt;input style='width:98px;' id='signup_last_name' class='input_text' type='text' name='last_name' placeholder='Last Name'&gt;&lt;/div&gt;\
          &lt;div&gt;&lt;input id='signup_email' class='input_text' type='email' name='email' placeholder='Email'&gt;&lt;/div&gt;\
          &lt;div&gt;&lt;input id='signup_password' class='input_text' type='password' name='password' placeholder='Password'&gt;&lt;/div&gt;\
          &lt;div style='padding-top:10px;'&gt;&lt;input class='button_action green' type='submit' value='Sign Up'&gt;&lt;/div&gt;\
        &lt;/form&gt;\
      &lt;/div&gt;\
      &lt;div class='footer'&gt;Already a member?  &lt;a id='signup_login' onclick='return false;' href='#'&gt;Login&lt;/a&gt;&lt;/div&gt;\
      &lt;/div&gt;\
    ";
    dlg.showMessage(Translations.translate('Sign up for %1',["&lt;span style=\"font-family:'Playfair Display SC', serif;color:#484848;\"&gt;SFG&lt;/span&gt;"]),content,"x");
    Utils.addEventListener(dlg.dom.overlay,'click',function() {
      dlg.cancel();
    });
    /*document.getElementById('signup_skip').onclick = function() {
      dlg.cancel();
      if(window.Page &amp;&amp; Page.trackAction) {
        Page.trackAction('signup_close','overlay_skip');
      }
      return false;
    }*/
    document.getElementById('signup_login').onclick = function() {
      dlg.hide();
      Account.promptLogin(callback,src,function() {
        Account.promptNewSignup(callback,src);
      });
      if(window.Page &amp;&amp; Page.trackAction) {
        Page.trackAction('login','overlay');
      }
      return false;
    }
    document.getElementById('signup_fb').onclick = function() {
      if(window.FB &amp;&amp; window.FB.login) {
        FB.login(function(lResponse) {
            if(lResponse &amp;&amp; lResponse.authResponse) {
              FB.api("/me",{fields:'name,first_name,last_name,gender,email,birthday,picture.width(1200).height(1200)'},function(meInfo) {
                if(meInfo) {
                  for(var k in meInfo) {
                    var inp = document.getElementById('signup_'+k);
                    if(inp &amp;&amp; meInfo[k]) {
                      inp.value = meInfo[k];
                    }
                  }
                  if(meInfo.picture &amp;&amp; meInfo.picture.data &amp;&amp; meInfo.picture.data.url) {
                    document.getElementById('signup_picture_url').value = meInfo.picture.data.url;
                  }
                  document.getElementById('signup_did_fb').value=1;
                  document.getElementById('signup_form').submit();
                }
              });
              if(lResponse.authResponse.accessToken) {
                document.getElementById('signup_access_token').value = lResponse.authResponse.accessToken;
              }
            }
        },{scope:'email,user_birthday'});
      }
    }
    dlg.onconfirm = dlg.oncancel = function() {
      if(typeof callback == 'function') {
        callback(false);
      }
      if(window.Page &amp;&amp; Page.trackAction) {
        Page.trackAction('signup_close','overlay');
      }
    }
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      document.getElementById('signup_first_name').focus();
    }
    dlg.dom.dialog_button_ok.style.color = 'gray';
  },
  promptLogin: function(callback,src,signupCallback) {
    if(typeof signupCallback != 'function') {
      signupCallback = function() {
        Account.promptSignup(callback,src);
      }
    }
    var content = '&lt;div id=login_prompt&gt;&lt;/div&gt;';
    var dlg = new DialogWrapper().showChoice(Translations.translate("Login"),content);
    Utils.addClass(dlg.dom.dialog,"login");
    var container = document.getElementById('login_prompt');
    
    var frm = document.createElement('form');
    frm.method = 'POST';
    container.appendChild(frm);
    
    var emailRow = document.createElement('div');
    frm.appendChild(emailRow);
    //emailRow.appendChild(document.createTextNode(Translations.translate("Email")));
    //emailRow.appendChild(document.createElement('br'));
    
    var emailInput = document.createElement('input');
    emailInput.type = 'email';
    emailInput.placeholder = Translations.translate("Email");
    emailInput.className = 'login email';
    emailRow.appendChild(emailInput);
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      emailInput.focus();
    }
    
    var passwordRow = document.createElement('div');
    frm.appendChild(passwordRow);
    //passwordRow.appendChild(document.createTextNode(Translations.translate("Password")));
    //passwordRow.appendChild(document.createElement('br'));
    
    var passwordInput = document.createElement('input');
    passwordInput.type = 'password';
    passwordInput.placeholder = Translations.translate("Password");
    passwordInput.className = 'login password';
    passwordRow.appendChild(passwordInput);
    
    var forgotPasswordRow = document.createElement('div');
    frm.appendChild(forgotPasswordRow);
    
    var forgotPasswordLink = document.createElement('a');
    forgotPasswordLink.className = 'login forgotpassword';
    forgotPasswordLink.href = '#';
    forgotPasswordLink.appendChild(document.createTextNode(Translations.translate("Forgot Password?")));
    forgotPasswordLink.onclick = function() {
      dlg.hide();
      Account.promptForgotPassword(callback);
      return false;
    }
    forgotPasswordRow.appendChild(forgotPasswordLink);
    
    var errorRow = document.createElement('div');
    errorRow.className = 'login error';
    errorRow.style.display = 'none';
    frm.appendChild(errorRow);
    
    
    var cancelButton = document.createElement('a');
    cancelButton.href = "#";
    cancelButton.className = 'login close';
    cancelButton.onclick = function() {
      dlg.hide();
      if(typeof callback == 'function') {
        callback(Account.state);
      }
      return false;
    }
    cancelButton.innerHTML = "&times;";
    frm.appendChild(cancelButton);
    
    var submitButton = document.createElement('input');
    submitButton.type = 'submit';
    submitButton.className = 'login submit';
    submitButton.value = Translations.translate("Login");
    frm.appendChild(submitButton);
    
    frm.appendChild(document.createElement('br'));
    var signup = document.createElement('a');
    signup.className = 'login signup';
    signup.href = '#';
    signup.onclick = function() {
      dlg.hide();
      signupCallback();
      return false;
    }
    signup.appendChild(document.createTextNode(Translations.translate("New User?  Sign Up!")));
    frm.appendChild(signup);
    
    frm.onsubmit = function() {
      errorRow.style.display = 'none';
      submitButton.disabled = true;
      Account.login(emailInput.value,passwordInput.value,function(response) {
        if(response &amp;&amp; response.account) {
          dlg.hide();
          if(typeof callback == 'function') {
            callback(Account.state);
          }
        }
        else {
          var msg = Translations.translate("Error logging in.  Please check that your email and password are entered correctly.")
          if(response &amp;&amp; response.error) {
            msg = response.error;
          }
          errorRow.innerHTML = '';
          errorRow.appendChild(document.createTextNode(msg));
          errorRow.style.display = '';
          submitButton.disabled = false;
        }
      });
      return false;
    }
    
    dlg.dom.dialog_buttons.style.display = 'none';
  },
  promptSignup: function(callback,src) {
    var content = '&lt;div id=signup_prompt&gt;&lt;/div&gt;';
    var dlg = new DialogWrapper();
    dlg.showChoice(Translations.translate("You need an account to do this. Sign up")+"!",content);
    Utils.addClass(dlg.dom.dialog,"signup");
    var container = document.getElementById('signup_prompt');
    
    var frm = document.createElement('form');
    frm.method = 'POST';
    container.appendChild(frm);
    
    if(false) {
      
      var fbRow = document.createElement('div');
      fbRow.className = 'btn_share btn_fb';
      var fbIcon = document.createElement('img');
      fbIcon.src = AppConfig.HOMEURL+'/img/icon_fb.png';
      fbIcon.width = 16;
      fbIcon.style.marginRight = '4px';
      fbRow.appendChild(fbIcon);
      fbRow.appendChild(document.createTextNode(Translations.translate('Facebook')));
      fbRow.style.marginBottom = '10px';
      
      var prefill = function() {
        var uidString = "me()";
        FB.api("/fql",{
          q:"select uid,email,first_name,last_name,sex from user where uid="+uidString
        },function(fqlResponse) {
          if(fqlResponse &amp;&amp; fqlResponse.data &amp;&amp; fqlResponse.data.length &gt; 0) {
            var row = fqlResponse.data[0];
            if(row.first_name) {
              firstNameInput.value = row.first_name;
            }
            if(row.last_name) {
              lastNameInput.value = row.last_name;
            }
            if(row.email) {
              emailInput.value = row.email;
              fbRow.style.display = 'none';
              hr.style.display = 'none';
              passwordInput.focus();
            }
            if(row.sex) {
            }
            emailSignupLink.onclick();
          }
        });
      }
      
      fbRow.onclick = function() {
        //FBWrapper.onReady(function() {
        new Ajax().post(AppConfig.HOMEURL+"/ajax/action.php",{action:'fbsignup'});
        FB.login(function(lResponse) {
            if(lResponse &amp;&amp; lResponse.authResponse) {
              new Ajax().post(AppConfig.HOMEURL+"/ajax/action.php",{action:'fbauth'});
              prefill();
            }
        },{scope:'email'});
          
        //});
      }
      frm.appendChild(fbRow);
      var hr = document.createElement('div');
      hr.style.borderBottom = '1px solid #cccccc';
      hr.style.marginBottom = '10px';
      frm.appendChild(hr);
    }
    
    
    var emailSignup = document.createElement('div');
    var emailSignupLink = document.createElement('a');
    //emailSignup.appendChild(emailSignupLink);
    emailSignupLink.href = '#';
    emailSignupLink.onclick = function() {
      emailCollapse.style.display = '';
      emailSignup.style.display = 'none';
      if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
        if(firstNameInput.value.length == 0) {
          firstNameInput.focus();
        }
        else if (lastNameInput.value.length == 0) {
          lastNameInput.focus();
        }
        else if (emailInput.value.length == 0) {
          emailInput.focus();
        }
        else if (passwordInput.value.length == 0) {
          passwordInput.focus();
        }
      }
      return false;
    }
    emailSignupLink.appendChild(document.createTextNode('Signup with Email'));
    frm.appendChild(emailSignup);
    
    var emailCollapse = document.createElement('span');
    //emailCollapse.style.display = 'none';
    frm.appendChild(emailCollapse);
    
    var firstNameRow = document.createElement('div');
    emailCollapse.appendChild(firstNameRow);
    //firstNameRow.appendChild(document.createTextNode(Translations.translate("First Name")));
    //firstNameRow.appendChild(document.createElement('br'));
    
    var firstNameInput = document.createElement('input');
    firstNameInput.className = 'signup first_name';
    firstNameInput.placeholder = Translations.translate("First Name");
    firstNameRow.appendChild(firstNameInput);
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      firstNameInput.focus();
    }
    
    var lastNameRow = document.createElement('div');
    emailCollapse.appendChild(lastNameRow);
    //lastNameRow.appendChild(document.createTextNode(Translations.translate("Last Name")));
    //lastNameRow.appendChild(document.createElement('br'));
    
    var lastNameInput = document.createElement('input');
    lastNameInput.className = 'signup last_name';
    lastNameInput.placeholder = Translations.translate("Last Name");
    lastNameRow.appendChild(lastNameInput);
    
    
    var emailRow = document.createElement('div');
    emailCollapse.appendChild(emailRow);
    //emailRow.appendChild(document.createTextNode(Translations.translate("Email")));
    //emailRow.appendChild(document.createElement('br'));
    
    var emailInput = document.createElement('input');
    emailInput.type = 'email';
    emailInput.className = 'signup email';
    emailInput.placeholder = Translations.translate("Email");
    emailRow.appendChild(emailInput);
    
    var genderRow = document.createElement('div');
    emailCollapse.appendChild(genderRow);
    genderRow.appendChild(document.createTextNode(Translations.translate("Gender")));
    genderRow.appendChild(document.createElement('br'));
    genderRow.style.display = 'none';
    
    
    var maleInput = document.createElement('input');
    maleInput.type = 'radio';
    maleInput.value = 'male';
    genderRow.appendChild(document.createTextNode(Translations.translate('Male')));
    genderRow.appendChild(maleInput);
    
    var femaleInput = document.createElement('input');
    femaleInput.type = 'radio';
    femaleInput.value = 'female';
    genderRow.appendChild(document.createTextNode(Translations.translate('Female')));
    genderRow.appendChild(femaleInput);
    
    
    var passwordRow = document.createElement('div');
    emailCollapse.appendChild(passwordRow);
    //passwordRow.appendChild(document.createTextNode(Translations.translate("Password")));
    //passwordRow.appendChild(document.createElement('br'));
    
    var passwordInput = document.createElement('input');
    passwordInput.type = 'password';
    passwordInput.className = 'signup password';
    passwordInput.placeholder = Translations.translate("Password");
    passwordRow.appendChild(passwordInput);
    
    var errorRow = document.createElement('div');
    errorRow.className = 'login error';
    errorRow.style.display = 'none';
    emailCollapse.appendChild(errorRow);
    
    var submitButton = document.createElement('input');
    submitButton.type = 'submit';
    submitButton.className = 'signup submit';
    submitButton.value = Translations.translate("Sign Up");
    emailCollapse.appendChild(submitButton);
    
    var cancelButton = document.createElement('a');
    cancelButton.href = "#";
    cancelButton.className = 'signup close';
    cancelButton.onclick = function() {
      dlg.hide();
      if(typeof callback == 'function') {
        callback(Account.state);
      }
      return false;
    }
    cancelButton.innerHTML = "&times;";
    frm.appendChild(cancelButton);
    
    frm.appendChild(document.createElement('br'));
    
    var login = document.createElement('a');
    login.href = '#';
    login.onclick = function() {
      dlg.hide();
      Account.promptLogin(callback);
      return false;
    }
    login.appendChild(document.createTextNode(Translations.translate("Already have an account?  Login!")));
    frm.appendChild(login);
    
    frm.onsubmit = function() {
      errorRow.style.display = 'none';
      submitButton.disabled = true;
      var extras = {};
      extras.first_name = firstNameInput.value;
      extras.last_name = lastNameInput.value;
      var gender = maleInput.checked ? maleInput.value : (femaleInput.checked ? femaleInput.value : false);
      if(gender) {
        extras.gender = gender;
      }
      Account.signup(emailInput.value,passwordInput.value,extras,function(response) {
        if(response &amp;&amp; response.account) {
          dlg.hide();
          if(typeof callback == 'function') {
            callback(Account.state);
          }
        }
        else {
          var msg = Translations.translate("Error creating account.");
          if(response &amp;&amp; response.error) {
            msg = response.error;
          }
          errorRow.innerHTML = '';
          errorRow.appendChild(document.createTextNode(msg));
          errorRow.style.display = '';
          submitButton.disabled = false;
        }
      });
      return false;
    }
    
    dlg.dom.dialog_buttons.style.display = 'none';
    if(src) {
      new Ajax().post(AppConfig.HOMEURL+"/ajax/action.php",{action:'promptSignup',from:src});
    }
  },
  promptForgotPassword: function(callback) {
    var content = '&lt;div id=forgot_password_prompt&gt;&lt;/div&gt;';
    var dlg = new DialogWrapper().showChoice(Translations.translate("Reset Password"),content);
    Utils.addClass(dlg.dom.dialog,"forgot_password");
    var container = document.getElementById('forgot_password_prompt');
    
    var frm = document.createElement('form');
    frm.method = 'POST';
    container.appendChild(frm);
    
    var emailRow = document.createElement('div');
    frm.appendChild(emailRow);
    //emailRow.appendChild(document.createTextNode(Translations.translate("Email")));
    //emailRow.appendChild(document.createElement('br'));
    
    var emailInput = document.createElement('input');
    emailInput.className = 'forgot_password email';
    emailInput.type = 'email';
    emailInput.placeholder = Translations.translate('Email');
    emailRow.appendChild(emailInput);
    if(!((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') &amp;&amp; (new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})").exec(navigator.userAgent) != null)))) {
      emailInput.focus();
    }
    
    
    var errorRow = document.createElement('div');
    errorRow.className = 'login error';
    errorRow.style.display = 'none';
    frm.appendChild(errorRow);
    
    var submitButton = document.createElement('input');
    submitButton.className = 'forgot_password submit';
    submitButton.type = 'submit';
    submitButton.value = Translations.translate("Send Email");
    frm.appendChild(submitButton);
    
    var cancelButton = document.createElement('a');
    cancelButton.href = "#";
    cancelButton.onclick = function() {
      dlg.hide();
      Account.promptLogin(callback);
      return false;
    }
    cancelButton.innerHTML = "&times;";
    cancelButton.className = 'forgot_password close';
    frm.appendChild(cancelButton);
    
    frm.onsubmit = function() {
      errorRow.style.display = 'none';
      submitButton.disabled = true;
      Account.sendPasswordReset(emailInput.value,function(response) {
        if(response &amp;&amp; response.success) {
          var dlg2 = new DialogWrapper().showMessage(Translations.translate("Email Sent!"),Translations.translate("Check your inbox for instructions on resetting your password."),Translations.translate("Ok"));
          dlg2.onconfirm = function() {
            dlg.hide();
            Account.promptLogin(callback);
          }
        }
        else {
          var msg = Translations.translate("Error");
          if(response &amp;&amp; response.error) {
            msg = response.error;
          }
          errorRow.innerHTML = '';
          errorRow.appendChild(document.createTextNode(msg));
          errorRow.style.display = '';
          submitButton.disabled = false;
        }
      });
      return false;
    }
    
    dlg.dom.dialog_buttons.style.display = 'none';
  },
  requireLogin: function(callback) {
    if(Account.state) {
      setTimeout(function() {
        callback(Account.state);
      },0);
    }
    else {
      Account.promptLogin(callback);
    }
  },
  handleDomains: function(domains,email,password) {
    if(domains) {
      for(var i = 0 ; i &lt; domains.length ; i++) {
        var domain = domains[i];
        var id = 'js_auth_'+domain;
        var script = document.createElement('script');
        script.src = 'https://'+domain+'/ajax/login.php'+'?email='+encodeURIComponent(email)+'&amp;password='+encodeURIComponent(password)+'&amp;js='+encodeURIComponent(id);
        script.async = true;
        script.id = id;
        document.body.appendChild(script);
      }
    }
  },
  login: function (email,password,callback) {
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(response &amp;&amp; response.account) {
        Account.setState(response.account);
        if(response.domains) {
          Account.handleDomains(response.domains,email,password);
        }
      }
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL.replace(/^http\:\/\//,'http://')+"/ajax/login.php",{email:email,password:password,next:window.location.href});
  },
  logout: function() {
    window.location.href = AppConfig.HOMEURL+"/logout.php?next="+encodeURIComponent(window.location.href)+"&amp;"+Math.random();
  },
  signup: function(email,password,params,callback) {
    if(!params) {
      params = {};
    }
    params.email = email;
    params.password = password;
    params.next = window.location.href;
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(response &amp;&amp; response.account) {
        Account.setState(response.account);
        if(response.domains) {
          Account.handleDomains(response.domains,email,password);
        }
      }
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL.replace(/^http\:\/\//,'http://')+"/ajax/signup.php",params);
  },
  sendPasswordReset: function(email,callback) {
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL+"/ajax/reset_password.php",{email:email});
  },
  sendConfirmationEmail: function(callback,params) {
    var ondone = function(retVal) {
      if(typeof callback == 'function') {
        callback(retVal);
      }
    }
    if(Account.state &amp;&amp; !Account.state.confirmed) {
      if(!params) {
        params = {};
      }
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response &amp;&amp; response.success) {
          if(callback) {
            ondone(true);
          }
          else {
            var dlg = new DialogWrapper().showMessage(Translations.translate('Confirmation Sent!'),Translations.translate('Check your email inbox for instructions on confirming your account.'),Translations.translate('Ok'));
          }
        }
        else {
          ondone(false);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/send_confirmation_email.php",params);
    }
    else {
      ondone(false);
    }
  },
  follow: function(targets,callback) {
    Account.follow_api('follow',[targets],callback);
  },
  unfollow: function(targets,callback) {
    Account.follow_api('unfollow',[targets],callback);
  },
  set_followed: function(targets,for_type,callback) {
    Account.follow_api('set_followed',[targets,for_type],callback);
  },
  follow_api: function(m,a,c) {
    var ondone = function(result) {
      if(typeof c == 'function') {
        c(result);
      }
    }
    if(Account.state) {
      var params = {
        'method' : m,
        'arguments': JSON.encode(a)
      };
      
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.timeout = 10000;
      ajax.ondone = ajax.ontimeout = ajax.onerror = function(response) {
        if(response) {
          ondone(response);
        }
        else {
          ondone(false);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/followed.php",params);
    }
    else {
      ondone(false);
    }
  },
  updateProfile: function(params,callback) {
    var ondone = function(result) {
      if(typeof callback == 'function') {
        callback(result);
      }
    }
    if(Account.state &amp;&amp; params) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response &amp;&amp; response.success) {
          if(response.account) {
            Account.setState(response.account);
          }
        }
        ondone(response);
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/profile.php",params);
    }
    else {
      ondone(false);
    }
  }
}

Account.Notifications = {
  unviewed_count:0,
  view_time:0,
  notifications:[],
  collapseCache:{},
  load: function(callback) {
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.ondone = function(response) {
      if(response &amp;&amp; response.view_time) {
        Account.Notifications.view_time = response.view_time;
      }
      if(response &amp;&amp; response.notifications) {
        Account.Notifications.process(response.notifications);
      }
      if(typeof callback == 'function') {
        callback(response);
      }
    }
    ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'get'});
  },
  viewAll: function(callback) {
    if(Account.Notifications.notifications.length &gt; 0) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response) {
          Account.Notifications.unviewed_count = 0;
        }
        if(typeof callback == 'function') {
          callback(response);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'view',last:Account.Notifications.notifications[0].id});
    }
    else {
      if(typeof callback == 'function') {
        callback(false);
      }
    }
  },
  readAll: function(callback) {
    if(Account.Notifications.notifications.length &gt; 0) {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response) {
          Account.Notifications.unviewed_count = 0;
        }
        if(typeof callback == 'function') {
          callback(response);
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'read',ids:'all'});
    }
    else {
      if(typeof callback == 'function') {
        callback(false);
      }
    }
  },
  process: function(notifications) {
    if(notifications) {
      Account.Notifications.collapseCache = {};
      var processed_notifications = [];
      var ucount = 0;
      for(var i = 0 ; i &lt; notifications.length ; i++) {
        var notification = notifications[i];
        if(notification.time &gt; Account.Notifications.view_time) {
          ucount++;
        }
        switch(notification.type) {
          case 'upvote':
            var cacheKey = 'upvote_'+notification.data.comment;
            var collapseNotification = Account.Notifications.collapseCache[cacheKey];
            var collapse = false;
            if(collapseNotification) {
              var elapsed = collapseNotification.time - notification.time;
              if(elapsed &lt;= 86400) {
                collapse = true;
              }
            }
            if(collapse) {
              if(!collapseNotification.collapsed) {
                collapseNotification.collapsed = [];
              }
              collapseNotification.collapsed[collapseNotification.collapsed.length] = notification;
              if(!notification.read) {
                notification.collapseUnread = true;
              }
              break; //don't add to processed_notifications
            }
            else {
              Account.Notifications.collapseCache[cacheKey] = notification;
            }
          default:
            processed_notifications[processed_notifications.length] = notification;
        }
      }
      Account.Notifications.notifications = processed_notifications;
      Account.Notifications.unviewed_count = ucount;
    }
  },
  render: function(container) {
    container.innerHTML = '';
    
    var notifDoms = [];
    
    var toolbar = document.createElement('div');
    toolbar.className = 'notifications_bar';
    container.appendChild(toolbar);
    
    var notificationsHolder = document.createElement('div');
    notificationsHolder.className = 'notifications';
    container.appendChild(notificationsHolder);
    
    var bottombar = document.createElement('div');
    bottombar.className = 'notifications_footer';
    container.appendChild(bottombar);
    
    var title = document.createElement('div');
    title.className = 'notifications_title';
    title.appendChild(document.createTextNode(Translations.translate('Notifications')));
    toolbar.appendChild(title);
    
    var markRead = document.createElement('div');
    markRead.className = 'notifications_mark';
    markRead.appendChild(document.createTextNode(Translations.translate('Mark as Read')));
    toolbar.appendChild(markRead); 
    
    markRead.onclick = function() {
      Account.Notifications.readAll(function(response) {
        if(response) {
          for(var i = 0 ; i &lt; notifDoms.length ; i++) {
            Utils.removeClass(notifDoms[i],'unread');
          }
        }
      });
    };
    
    var limit = 20;
    var currentContainer = notificationsHolder;
    
    if(Account.Notifications.notifications.length == 0) {
      var nothing = document.createElement('div');
      nothing.className = 'notification no_activity';
      nothing.appendChild(document.createTextNode(Translations.translate('No Recent Activity')));
      currentContainer.appendChild(nothing);
    }
    
    for(var i = 0 ; i &lt; Account.Notifications.notifications.length ; i++) {
      var notification = Account.Notifications.notifications[i];
      if(currentContainer.childNodes.length &gt;= limit) {
        //create load more button and add new container
        var nextSection = document.createElement('div');
        var button = document.createElement('input');
        button.type = 'button';
        button.className = 'load_more';
        button.value = Translations.translate('Load More');
        nextSection.appendChild(button);
        
        var nextContainer = document.createElement('div');
        nextContainer.style.display = 'none';
        nextSection.appendChild(nextContainer);
        
        button.onclick = Account.Notifications._generateEventCallback(function(cont,btn) {
          var currentScroll = container.scrollTop;
          btn.style.display = 'none';
          cont.style.display = '';
          setTimeout(function() {
            container.scrollTop = currentScroll;
          },0);
          return false;
        },nextContainer,button);
        
        currentContainer.appendChild(nextSection);
        currentContainer = nextContainer;
        
      }
      var dom = Account.Notifications.getNotificationDom(notification);
      currentContainer.appendChild(dom);
      notifDoms[notifDoms.length] = dom;
    }
    container.scrollTop = 1;
    container.scrollTop = 0;
  },
  getNotificationDom: function(notification) {
    var div = document.createElement('div');
    div.className = 'notification';
    if(!notification.read || notification.collapseUnread) {
      Utils.addClass(div,'unread');
    }
    
    var icon = document.createElement('div');
    icon.className = 'notification_icon';
    div.appendChild(icon);
    
    if(notification.icon_url) {
      icon.style.backgroundImage = 'url('+notification.icon_url+')';
    }
    
    var content = document.createElement('div');
    content.className = 'notification_content';
    div.appendChild(content);
    
    var time = document.createElement('div');
    time.className = 'notification_time';
    div.appendChild(time);
    time.appendChild(document.createTextNode(Comments.formatUnixTime(notification.time)));
    
    var exerptText = false;
    var exerptLimit = 60;
    var ellipsis = "...";
    switch(notification.type) {
      case 'reply':
        if(notification.reply &amp;&amp; notification.reply.author &amp;&amp; notification.reply.author.name) {
          content.innerHTML = Translations.translate(Utils.htmlentities('%1 replied to your comment:'),["&lt;span class=name&gt;"+Utils.htmlentities(notification.reply.author.name)+"&lt;/span&gt;"]);
        }
        else {
          content.innerHTML = Translations.translate('Someone replied to your comment:');
        }
        content.innerHTML += ' ';
        exerptText = notification.reply.content;
        break;
      case 'upvote':
        if(notification.voter &amp;&amp; notification.voter.name) {
          var names = ["&lt;span class=name&gt;"+Utils.htmlentities(notification.voter.name)+"&lt;/span&gt;"];
          if(notification.collapsed &amp;&amp; notification.collapsed.length &gt; 0) {
            for(var i = 0 ; i &lt; notification.collapsed.length ; i++) {
              var collapsed = notification.collapsed[i];
              if(collapsed.voter &amp;&amp; collapsed.voter.name) {
                names[names.length] = "&lt;span class=name&gt;"+Utils.htmlentities(collapsed.voter.name)+"&lt;/span&gt;";
              }
            }
          }
          var name = [names[0]];
          if(names.length &gt; 1) {
            if(names.length == 2) {
              name = [names.join(' &amp; ')];
            }
            else if (names.length &gt; 2 &amp;&amp; names.length &lt; 4) {
              name = [names.slice(0,names.length-1).join(', ')+', &amp; '+names[names.length-1]];
            }
            else {
              name = [names[0]+' &amp; '+'&lt;span class=name&gt;'+Utils.htmlentities(Translations.translate('%1 others',[names.length-1]))+'&lt;/span&gt;'];
            }
          }
          content.innerHTML = Translations.translate(Utils.htmlentities('%1 upvoted your comment:'),name);
        }
        else {
          content.innerHTML = Translations.translate('Someone upvoted your comment:');
        }
        content.innerHTML += ' ';
        exerptText = notification.comment.content;
        break;
    }
    if(exerptText &amp;&amp; exerptText.length &gt; 0) {
      var exerpt = document.createElement('span');
      exerpt.className = 'exerpt';
      if(exerptText.length &gt; exerptLimit) {
        exerptText = exerptText.substr(0,exerptLimit-ellipsis.length)+ellipsis;
      }
      exerpt.appendChild(document.createTextNode(exerptText));
      content.appendChild(exerpt);
    }
    
    div.onclick = function() {
      var url = false;
      var notif_ids = [notification.id];
      if(notification.collapsed &amp;&amp; notification.collapsed.length &gt; 0) {
        for(var i = 0 ; i &lt; notification.collapsed.length ; i++) {
          notif_ids[notif_ids.length] = notification.collapsed[i].id;
        }
      }
      switch(notification.type) {
        case 'reply':
          if(notification.reply &amp;&amp; notification.reply.object) {
            //check if comment is already on page
            var comment_id = notification.reply.id;
            url = '#c'+comment_id;
            if(!document.getElementById('comment_'+comment_id)) {
              var cpath = AppConfig.HOMEURL+'/?id='+notification.reply.object;
              if(notification.reply.object_path) {
                cpath = AppConfig.HOMEURL+'/'+notification.reply.object_path;
              }
              
              url = cpath+(cpath.indexOf('?')==-1?'?':'&amp;')+'src=notif'+'&amp;notifs='+notif_ids.join(',')+url;
            }
          }
          break;
        case 'upvote':
          if(notification.comment &amp;&amp; notification.comment.object) {
            var comment_id = notification.comment.id;
            url = '#c'+comment_id;
            if(!document.getElementById('comment_'+comment_id)) {
              var cpath = AppConfig.HOMEURL+'/?id='+notification.comment.object;
              if(notification.comment.object_path) {
                cpath = AppConfig.HOMEURL+'/'+notification.comment.object_path;
              }
              url = cpath+(cpath.indexOf('?')==-1?'?':'&amp;')+'src=notif'+'&amp;notifs='+notif_ids.join(',')+url;
            }
          }
          break;
      }
      if(url) { 
        if(window.stop) {
          window.stop();
        }
        window.location.href = url;
      }
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = function(response) {
        if(response) {
          Utils.removeClass(div,'unread');
        }
      }
      ajax.post(AppConfig.HOMEURL+"/ajax/notifications.php",{method:'click',ids:JSON.encode(notif_ids)});
    }
    
    return div;
  },
  _generateEventCallback: function() {
    var callback = arguments[0];
    var nextArgs = [];
    for(var i = 1 ; i &lt; arguments.length ; i++) {
      nextArgs[nextArgs.length] = arguments[i];
    }
    return function(event) {
      if(!event) {
        event = window.event;
      }
      var result = callback.apply(null,nextArgs);
      if(result === false) {
        if(event) {
          event.preventDefault();
          event.stopPropagation();
          event.cancelBubble = true;
        }
      }
    }
  }
}
/*StickyDom


1. create copy that maintains offsetWidth/offsetHeight of linked dom,
2. detect scroll events (or do setinterval)
3. specify left/right/top/bottom at which item should stick (will be used for position fixed
4. when item scrolls past the specified limits, replace item in dom, make item position fixed



choices:
copy should just be placed in immediately?  or wait until switching to fixed?
insert placeholder before or just have it always be surrounding the item?
*/

function StickyDomElement (element) {
  this.element = element;
  this.fixed = false;
  this.placeholder = document.createElement('div');
  this.placeholder.style.visibility = 'hidden';
  this.placeholder.style.display = 'none';
  this.preservedStyles = {};
  if(this.element.parentNode) {
    this.element.parentNode.insertBefore(this.placeholder,this.element);
  }
  this.addEventListeners();
}
StickyDomElement.STYLES = ['position','left','top','right','bottom','width','height'];
StickyDomElement.PLACEHOLDER_STYLES = ['position','left','top','right','bottom','width','height','padding','margin','paddingLeft','paddingTop','paddingRight','paddingBottom','marginLeft','marginTop','marginRight','marginBottom'];
StickyDomElement.getViewRect = function() {
  var rect = {
    left: window.pageXOffset,
    top: window.pageYOffset,
    width: document.documentElement.clientWidth,
    height: document.documentElement.clientHeight
  };
  rect.right = rect.left + rect.width;
  rect.bottom = rect.top + rect.height;
  return rect;
}
StickyDomElement.prototype = {
  addEventListeners: function() {
    Utils.addEventListener(window,'scroll',this);
    Utils.addEventListener(window,'resize',this);
    Utils.addEventListener(window,'touchmove',this);
    Utils.addEventListener(window,'load',this);
  },
  removeEventListeners: function() {
    Utils.removeEventListener(window,'scroll',this);
    Utils.removeEventListener(window,'resize',this);
    Utils.removeEventListener(window,'touchmove',this);
    Utils.removeEventListener(window,'load',this);
  },
  handleEvent: function(event) {
    switch(event.type) {
      case 'load':
      case 'scroll':
      case 'touchmove':
        this.check();
        break;
      case 'resize':
        if(this.fixed) {
          this.unstick();
          this.check();
        }
        break;
    }
  },
  deactivate: function() {
    this.removeEventListeners();
  },
  stickTop: function() {
    this.fixedTop = true;
    this.fixedBottom = false;
    this.stick({
      top:this.getTop()+'px'
    });
  },
  stickBottom: function() {
    this.fixedTop = false;
    this.fixedBottom = true;
    this.stick({
      bottom:this.getBottom()+'px'
    });
  },
  stick: function(positioning) {
    this.fixed = true;
    var coords = Utils.getCoordinates(this.element);
    var computedStyle = window.getComputedStyle(this.element);
    var cWidth = computedStyle.width;
    var cHeight = computedStyle.height;
    this.styles = {};
    for(var i = 0 ; i &lt; StickyDomElement.STYLES.length ; i++) {
      var style = StickyDomElement.STYLES[i];
      this.styles[style] = this.element.style[style];
    }
    this.resizePlaceholder();
    var newStyles = {
      'position': 'fixed',
      'left': coords.left+'px',
      'width': cWidth,
      'height': cHeight
    };
    if(positioning) {
      for(var k in positioning) {
        newStyles[k] = positioning[k];
      }
    }
    for(var k in newStyles) {
      if(!this.preservedStyles[k]) {
        this.element.style[k] = newStyles[k];
      }
    }
    this.showPlaceholder();
  },
  unstick: function() {
    if(this.fixed) {
      this.fixed = false;
      this.fixedTop = false;
      this.fixedBottom = false;
      if(this.styles) {
        for(var style in this.styles) {
          this.element.style[style] = this.styles[style] ? this.styles[style] : '';
        }
      }
      this.hidePlaceholder();
    }
  },
  check: function() {
    if(!this.checking) {
      this.checking = true;
      var rect = StickyDomElement.getViewRect();
      if(!this.fixed) {
        var coords = Utils.getCoordinates(this.element);
        if(this.sticksToTop() &amp;&amp; rect.top + this.getTop() &gt; coords.top) {
          this.stickTop();
        }
        else if (this.sticksToBottom() &amp;&amp; rect.bottom - this.getBottom() &lt; coords.bottom) {
          this.stickBottom();
        }
      }
      else {
        var coords = Utils.getCoordinates(this.placeholder);
        if(this.fixedTop &amp;&amp; rect.top + this.getTop() &lt; coords.top) {
          this.unstick();
        }
        else if (this.fixedBottom &amp;&amp; rect.bottom - this.getBottom() &gt; coords.bottom) {
          this.unstick();
        }
        else {
          if(this.getMax() &gt; 0) {
            if(rect.top + this.getTop() - this.getMax() &gt; coords.top) {
              this.element.style.position = 'absolute';
              this.element.style.top = (rect.top + this.getTop())+'px';
            }
          }
        }
      }
      this.checking = false;
    }
  },
  showPlaceholder: function() {
    if(!this.placeholder.parentNode) {
      if(this.element.parentNode) {
        this.element.parentNode.insertBefore(this.placeholder,this.element);
      }
    }
    this.placeholder.style.display = '';
  },
  hidePlaceholder: function() {
    if(false &amp;&amp; this.placeholder.parentNode) {
      this.placeholder.parentNode.removeChild(this.placeholder);
    }
    this.placeholder.style.display = 'none';
  },
  resizePlaceholder: function() {
    placehold = this.placeholder;
    if(window.getComputedStyle) {
      var computedStyle = window.getComputedStyle(this.element);
      for(var i = 0 ; i &lt; StickyDomElement.PLACEHOLDER_STYLES.length ; i++) {
        var style = StickyDomElement.PLACEHOLDER_STYLES[i];
        this.placeholder.style[style] = computedStyle[style];
      }
    }
    else {
      this.placeholder.style.width = this.element.offsetWidth+'px';
      this.placeholder.style.height = this.element.offsetHeight+'px';
    }
    this.placeholder.style.visibility = 'hidden';
  },
  sticksToTopFromBottom: function() {
    return !isNaN(this.getTopFromBottom());
  },
  getTopFromBottom: function() {
    return parseFloat(this.element.getAttribute('stickyTopFromBottom'));
  },
  setTopFromBottom: function(top) {
    this.element.setAttribute('stickyTopFromBottom',top);
    return this;
  },
  sticksToBottomFromTop: function() {
    return !isNaN(this.getBottomFromTop());
  },
  getBottomFromTop: function() {
    return parseFloat(this.element.getAttribute('stickyBottomFromTop'));
  },
  setBottomFromTop: function(top) {
    this.element.setAttribute('stickyBottomFromTop',top);
    return this;
  },
  sticksToTop: function() {
    return !isNaN(this.getTop());
  },
  getTop: function() {
    if(this.sticksToTopFromBottom()) {
      var rect = StickyDomElement.getViewRect();
      var coords = Utils.getCoordinates(this.element);
      return rect.height - coords.height - this.getTopFromBottom();
    }
    return parseFloat(this.element.getAttribute('stickyTop'));
  },
  setTop: function(top) {
    this.element.setAttribute('stickyTop',top);
    return this;
  },
  sticksToBottom: function() {
    return !isNaN(this.getBottom());
  },
  getBottom: function() {
    if(this.sticksToBottomFromTop()) {
      var rect = StickyDomElement.getViewRect();
      var coords = Utils.getCoordinates(this.element);
      return rect.height - coords.height - this.getBottomFromTop();
    }
    return parseFloat(this.element.getAttribute('stickyBottom'));
  },
  setBottom: function(bottom) {
    this.element.setAttribute('stickyBottom',bottom);
    return this;
  },
  getMax: function() {
    var m = parseFloat(this.element.getAttribute('stickyMax'));
    if(!m || isNaN(m)) {
      m = 0;
    }
    return m;
  },
  setMax: function(m) {
    if(!m || isNaN(m)) {
      m = 0;
    }
    this.element.setAttribute('stickyMax',m);
    return this;
  },
  preserveStyle: function(style) {
    this.preservedStyles[style] = true;
    return this;
  }
}
DeviceLinker = {
  callbacks: {},
  createCallback: function(callback) {
    var key = 'c'+new Date().getTime()+Math.random();
    DeviceLinker.callbacks[key] = callback;
    return 'DeviceLinker.getCallback('+JSON.encode(key)+')';
  },
  getCallback: function(key) {
    var cb = DeviceLinker.callbacks[key];
    if(cb &amp;&amp; typeof cb == 'function') {
      return cb;
    }
    return function() {
    };
  },
  find: function(callback) {
    DeviceLinker.api('find',null,callback);
  },
  link: function(data,callback) {
    DeviceLinker.api('link',{'data':data},callback);
  },
  clear: function(link,callback) {
    DeviceLinker.api('clear',{'link':link},callback);
  },
  clearAll: function(link,callback) {
    var params = {};
    if(link) {
      params.link = link;
    }
    DeviceLinker.api('clearAll',params,callback);
  },
  api: function(method,params,callback) {
    if(!params) {
      params = {};
    }
    params.method = method;
    var ondone = function(response) {
      if(typeof callback == 'function') {
        callback(response);
      }
    };
    
    var scriptUrl = AppConfig.HOMEURL+'/ajax/device_linker.php';
    
    if(true) {
      var script = document.createElement('script');
      script.async = true;
      script.type = 'text/javascript';
      params.jsonp = DeviceLinker.createCallback(function(response) {
        ondone(response);
        if(script.parentNode) {
          script.parentNode.removeChild(script);
        }
      });
      script.src = scriptUrl+'?'+Ajax.encode(params);
      document.body.appendChild(script);
    }
    else {
      var ajax = new Ajax();
      ajax.responseType = Ajax.JSON;
      ajax.ondone = ajax.onerror = ajax.ontimeout = ondone;
      ajax.post(scriptUrl,params);
    }
  }
}
  </script>
  <script type="text/javascript">
   UI = {
  logobusy: false,
  logocollapsed: false,
  lastScrollTop: false,
  init: function() {
    if (document.getElementById('header_date')) {
      var options = {
        weekday: "long",
        year: "numeric",
        month: "long",
        day: "numeric"
      };
      var d = new Date().toLocaleDateString('en',options);
      if (d.split(' ').length &lt;= 3) {
        var weekday = new Date().toString();
        weekday = weekday.split(' ');
        weekday = weekday[0] + ', ';
        d = weekday + d;
      }
      document.getElementById('header_date').innerHTML = d;
    }
    if (document.getElementById('header_time')) {
      setInterval(function(){
        var t = new Date().toLocaleTimeString();
        var tpieces = t.split(' ');
        var tfrag = tpieces[0].split(':');
        var tdisplay = tfrag[0]+':'+tfrag[1]+' '+tpieces[1];
        document.getElementById('header_time').innerHTML = tdisplay;
      },1000);
    }
    window.addEventListener('scroll', function() {
	    var scrollTop = window.pageYOffset;
	    if (scrollTop &gt; 0 &amp;&amp; !UI.logocollapsed &amp;&amp; scrollTop &gt; UI.lastScrollTop) {
	      UI.collapseLogo();
	    }
	    else if (scrollTop &lt; UI.lastScrollTop-1 &amp;&amp; scrollTop &lt; 50 &amp;&amp; UI.logocollapsed || scrollTop == 0) {
	      UI.expandLogo();
	    }
      UI.lastScrollTop = scrollTop;
    });
  },
  collapseLogo: function() {
    if (!this.logobusy) {
      this.logocollapsed = true;
      this.logobusy = true;
      var header = document.getElementById('header');
      if (header) {
        //header.className = 'header minimize';
        Utils.removeClass(header,'maximize');
        Utils.addClass(header,'minimize');
      }
      var accountdropdown = document.getElementById('accountdropdown');
      if (accountdropdown) {
        accountdropdown.className = 'minimize';
      }
      setTimeout(function(){
        for (i = 1; i &lt;= 4; i++) { 
          var piece = document.getElementById('logo'+i);
          if (piece &amp;&amp; piece.className != 'piece hidden') {
            piece.className = 'piece hidden';
          }
        }
      },10);
      var self = this;
      setTimeout(function(){
        self.logobusy = false;
      },500);
    }
  },
  expandLogo: function() {
    if (!this.logobusy) {
      this.logocollapsed = false;
      this.logobusy = true;
      var header = document.getElementById('header');
      if (header) {
        //header.className = 'header maximize';
        Utils.removeClass(header,'minimize');
        Utils.addClass(header,'maximize');
      }
      var accountdropdown = document.getElementById('accountdropdown');
      if (accountdropdown) {
        accountdropdown.className = 'maximize';
      }
      setTimeout(function(){
        for (i = 1; i &lt;= 4; i++) { 
          var piece = document.getElementById('logo'+i);
          if (piece &amp;&amp; piece.className != 'piece visible') {
            piece.className = 'piece visible';
          }
        }
      },10);
      var self = this;
      setTimeout(function(){
        self.logobusy = false;
      },500);
    }
  }
}
  </script>
  <div class="header maximize" id="header">
   <a href="/index.php" style="text-decoration:none;">
    <div class="logo">
     <span class="piece visible" id="logo1">
      The
     </span>
     S
     <span class="piece visible" id="logo2">
      an
     </span>
     F
     <span class="piece visible" id="logo3">
      rancisco
     </span>
     G
     <span class="piece visible" id="logo4">
      lobe
     </span>
    </div>
   </a>
   <div class="details" style='padding-top:2px;position:absolute;top:80px;left:50%;margin-left:-350px;width:700px;height:20px;color:black;font-size:11px;font-family:"Helvetica Neue", Helvetica, Arial, "lucida grande", tahoma;'>
    <span id="header_date">
    </span>
    <span style="color:gray;">
     |
    </span>
    <img src="/img/icon_clock.png" style="position:relative;top:0px;width:10px;height:10px;" valign="middle"/>
    <span id="header_time">
    </span>
    <span style="color:gray;">
     |
    </span>
    <span style="display:none;">
     58
     <sup>
      o
     </sup>
     F San Francisco, CA
     <span style="color:gray;">
      |
     </span>
    </span>
    <img src="/img/icon_mobile.png" style="position:relative;top:0px;width:8px;height:14px;" valign="top"/>
    <a href="https://itunes.apple.com/us/app/sf-globe/id886101349?mt=8&amp;uo=4" target="itunes_store">
     iPhone App
    </a>
    
    <a href="https://play.google.com/store/apps/details?id=com.sfglobe.sfg&amp;hl=en" target="_blank">
     Android App
    </a>
   </div>
  </div>
  <div class="maximize" id="accountdropdown">
   <div class="login_state" id="login_state" style="position:relative;top:10px;right:8px;">
   </div>
  </div>
  <div class="spacer">
  </div>
  <script type="text/javascript">
   setTimeout(function(){
  UI.init();
},10);
  </script>
  <link href="http://sftimes.co/css/account.css" rel="stylesheet" type="text/css"/>
  <script src="http://sftimes.co/js/account.js">
  </script>
  <script src="http://sftimes.co/js/account.notifications.js">
  </script>
  <script type="text/javascript">
   (function() {
Account.setState(false);
})();
  </script>
  <div id="login_state">
  </div>
  <script type="text/javascript">
   var notificationScrollPos = 0;
function toggleNotifications(dom) {
  var scroller = document.getElementById('notifications_dropdown');
  if(!dom.hideFunc) {
    dom.hideFunc = function() {
      if(!Utils.hasClass(dom,'inactive')) {
        //save scroll pos
        if(scroller) {
          notificationScrollPos = scroller.scrollTop;
          scroller.scrollTop = 0;
        }
      }
      Utils.addClass(dom,'inactive');
      Utils.removeEventListener(window,'click',dom.hideFunc);
    }
  }
  if(true || Account.Notifications.notifications.length &gt; 0) {
    if(!Utils.hasClass(dom,'inactive')) {
      //save scroll pos
      if(scroller) {
        notificationScrollPos = scroller.scrollTop;
        scroller.scrollTop = 0;
      }
    }
    Utils.toggleClass(dom,'inactive');
  }
  else {
    Utils.addClass(dom,'inactive');
  }
  if(Utils.hasClass(dom,'inactive')) { //hidden
    Utils.removeEventListener(window,'click',dom.hideFunc);
  }
  else {
    if(scroller) {
      scroller.scrollTop = notificationScrollPos;
    }
    setTimeout(function() {
      Utils.addEventListener(window,'click',dom.hideFunc);
    },500);
    //ajax to mark as read
    if(Account.Notifications.unviewed_count &gt; 0) {
      Account.Notifications.viewAll(function(response) {
        if(response) {
          var unread_holder = document.getElementById('unread_count');
          if(unread_holder) {
            unread_holder.style.display = 'none';
          }
        }
      });
    }
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    ajax.post(AppConfig.HOMEURL+"/ajax/action.php",{action:'notif_open'});
  }
  return false;
}
(function() {
  var updateLogin = function() {
    var container = document.getElementById('login_state');
	  if(container) {
	    if(Account.state) {
	      container.innerHTML = "\
	      &lt;span id='notifications' class='notifications inactive' style='display:none;' onclick='return toggleNotifications(this);'&gt;&lt;span id='unread_count'&gt;0&lt;/span&gt;&lt;div id='notifications_dropdown'&gt;&lt;/div&gt;&lt;/span&gt; \
	      &lt;div class='button_action green' onclick='Utils.toggleClass(document.getElementById(\"account_dropdown\"),\"hidden\");if(!Utils.hasClass(document.getElementById(\"account_dropdown\"),\"hidden\")){var lner = function(event){Utils.removeEventListener(document.body,\"click\",lner);Utils.addClass(document.getElementById(\"account_dropdown\"),\"hidden\");};setTimeout(function(){Utils.addEventListener(document.body,\"click\",lner);},10);};'&gt;"+Utils.htmlentities(Account.state.first_name)+"&lt;/div&gt; \
	      &lt;div id='account_dropdown' class='hidden'&gt;\
	      &lt;a href='/settings.php' &gt;"+Utils.htmlentities(Translations.translate('Settings'))+"&lt;/a&gt;\
        &lt;a href='#' onclick='Account.promptProfile();return false;'&gt;"+Utils.htmlentities(Translations.translate('Profile'))+"&lt;/a&gt;\
        &lt;a href='#' onclick='Account.logout();return false;'&gt;"+Utils.htmlentities(Translations.translate('Logout'))+"&lt;/a&gt;\
	      &lt;/div&gt;\
	      ";
	      Account.Notifications.load(function(response) {
          var unread_holder = document.getElementById('unread_count');
          if(unread_holder) {
            var ucount = Account.Notifications.unviewed_count;
            unread_holder.innerHTML = ucount;
          }
          var dropdown = document.getElementById('notifications_dropdown');
          if(dropdown) {
            Account.Notifications.render(dropdown);
          }
          var notifications = document.getElementById('notifications');
          if(notifications) {
            notifications.style.display = '';
          }
        });
	    }
	    else {
	      container.innerHTML = "\
      &lt;div class='button_action green' onclick='Account.promptLogin();return false;'&gt;"+Utils.htmlentities(Translations.translate('Sign In'))+"&lt;/div&gt; \
        ";
	    }
	  }
  }
  Account.addOnStateChangeListener(updateLogin);
  updateLogin();
})();
  </script>
  <link href="http://sftimes.co/css/article_modern3.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript">
   Page.article = new Article({"id":"551","headline":"Seems Like A Normal Painting. When I Looked Closer, I Was Blown Away.","icon_url":"http:\/\/sftimes.s3.amazonaws.com\/1\/4\/5\/7\/1457148fb20f0c5855e12eda19c8e6ec.jpg","blurb":"This latest trend is one you don't want to miss. ","og_url":"http:\/\/sftimes.co\/?id=551&amp;src=share_fb_new_551","twitter_url":"http:\/\/twitter.com\/intent\/tweet?text=Seems+Like+A+Normal+Painting.+When+I+Looked+Closer%2C+I+Was+Blown+Away.+%28via+%40theSFGlobe%29&amp;url=http%3A%2F%2Fsftimes.co%2F%3Fid%3D551%26src%3Dtwt_551","fb_url":"http:\/\/www.facebook.com\/sharer.php?u=http%3A%2F%2Fsftimes.co%2F%3Fid%3D551%26src%3Dshare_fb_new_551","short_url":"http:\/\/sfglo.be\/Uc3HJ","url":"http:\/\/sftimes.co\/?id=551","tid":false,"cid":false,"cohort":0,"language":"en","tester":null});
Page.pageid = "578850155535919";
Page.subpageid = false;
Page.has_liked = null;
Page.likemore = true;
Page.likelink = "http://www.facebook.com/578850155535919";
Page.likehtml = "&lt;div id=\"popup-578850155535919\" class=\"fb-like\" data-href=\"http:\/\/www.facebook.com\/578850155535919\" data-layout=\"button\" data-action=\"like\" data-show-faces=\"false\" data-send=\"false\" data-share=\"false\"&gt;&lt;\/div&gt;";
Page.scheme = "http://";
Page.source = "fb";
Page.is_mobile = 0;
Page.design = 'modern';
Page.trackgroup = false;
Page.lastsource = "share_fb_new_551Kattya";
Page.depth = JSON.decode(window.localStorage.getItem("depth"));
  </script>
  <a href="mailto: ?Subject=Fwd%3A%20seems%20like%20a%20normal%20painting.%20when%20i%20looked%20closer%2C%20i%20was%20blown%20away.&amp;body=%20%20%20%20%0D%0A%22Seems%20Like%20A%20Normal%20Painting.%20When%20I%20Looked%20Closer%2C%20I%20Was%20Blown%20Away.%22%0D%0ARead%20the%20story%20at%3A%20http%3A%2F%2Fsftimes.co%2F%3Fid%3D551%26btn%3Demail%0D%0A%0D%0AIf%20you%20found%20this%20interesting%2C%20please%20share%21" id="email_link" style="display:none;" target="_top">
  </a>
  <div class="main" itemscope="" itemtype="http://schema.org/Article" style="width:1030px;padding:20px;padding-top:0px;">
   <style type="text/css">
    .dropdown {
  -webkit-transform: translate3d(0,0,0);
  transform: translate3d(0,0,0);
  -webkit-transition: top 0.3s;
  transition: top 0.3s;
  position:fixed;
  left:50%;
  width:320px;
  margin-left:-160px;
}

.dropdown.off {
  top: -400px;
}

.dropdown.on {
  top: 10%;
}
   </style>
   <div class="dropdown off" id="dropdown" style="text-align:center;border:1px #e6e6e6 solid;background-color:white;z-index:1000000;padding:10px;box-shadow: 0px 0px 10px black;">
    <div style="font-family:Lora;font-size:22px;margin-bottom:10px;padding-top:10px;padding-bottom:5px;">
     Like this story? Please share!
    </div>
    <div style="background-color:white;width:90%;display:inline-block;border:1px #e6e6e6 solid;margin-bottom:5px;margin-top:0px;">
     <div style='border:1px #e6e6e6 solid;padding-bottom:50%;display:block;background-image:url("http://sftimes.s3.amazonaws.com/1/4/5/7/1457148fb20f0c5855e12eda19c8e6ec.jpg");background-size:cover;background-position:center center;'>
     </div>
     <div style="padding:10px;padding-top:5px;font-family:Lora;font-size:16px;text-align:left;color:#484848;">
      Seems Like A Normal Painting. When I Looked Closer, I Was Blown Away.
     </div>
     <div style="display:none;padding:10px;padding-top:0px;font-family:Helvetica;font-size:12px;text-align:left;">
      This latest trend is one you don't want to miss.
     </div>
    </div>
    <div style="text-align:right;display:inline-block;width:90%;position:relative;padding-bottom:10px;">
     <div onclick="document.getElementById('dropdown').className = 'dropdown off';Page.trackAction('close','share');if (document.getElementById('vote_box')) {document.getElementById('vote_box').className = 'dropdown box visible';}" style='cursor:pointer;display:inline-block;padding:10px;padding-left:15px;padding-right:15px;font-size:20px;border-radius:5px;color:gray;font-size:16px;font-weight:bold;font-family:"Helvetica Neue", Helvetica, Arial, "lucida grande", tahoma;position:absolute;left:0px;top:0px;border:1px #e6e6e6 solid;background-color:#fefefe;'>
      Close
     </div>
     <div onclick="Page.shareByFacebook('popup_text');document.getElementById('dropdown').className = 'dropdown off';Page.trackAction('close','like');" style='cursor:pointer;display:inline-block;padding:10px;padding-left:15px;padding-right:15px;font-size:20px;background-color:#3b5998;border-radius:5px;color:white;border:1px gray solid;font-size:16px;font-weight:bold;font-family:"Helvetica Neue", Helvetica, Arial, "lucida grande", tahoma;'>
      Share
     </div>
    </div>
   </div>
   <div class="dropdown off" id="likedropdown" style="left:50%;margin-left:-250px;width:500px;border:1px #e6e6e6 solid;background-color:white;z-index:1000000;padding:10px;box-shadow: 0px 0px 10px black;">
    <div style="font-family:Lora;font-size:20px;">
     Please like us to get more great stories like this
    </div>
    <div style="text-align:center;margin-top:10px;">
     <div onclick="document.getElementById('likedropdown').className = 'dropdown off';" style='vertical-align:top;cursor:pointer;display:inline-block;padding:10px;padding-left:15px;padding-right:15px;font-size:20px;background-color:white;border-radius:5px;color:gray;border:1px #e6e6e6 solid;font-size:12px;font-weight:bold;font-family:"Helvetica Neue", Helvetica, Arial, "lucida grande", tahoma;'>
      Close
     </div>
     <div style='display:inline-block;font-size:20px;padding-left:10px;background-color:white;border-radius:5px;color:white;border:1px #e6e6e6 solid;font-size:12px;font-weight:bold;font-family:"Helvetica Neue", Helvetica, Arial, "lucida grande", tahoma;'>
      <img src="/img/sfglogo.png" style="width:32px;height:32px;margin-top:-8px;" valign="middle"/>
      <div style="display:inline-block;padding:7px;">
       <div class="fb-like" data-action="like" data-href="http://www.facebook.com/578850155535919" data-layout="button_count" data-send="false" data-share="false" data-show-faces="false" id="dropdown-578850155535919">
       </div>
      </div>
     </div>
    </div>
   </div>
   <div style="background-color:white;padding-bottom:10px;padding-top:10px;text-align:center;min-width:970px;width:100%;">
    <div style="display:inline-block;width:970px;height:90px;">
     <script type="text/javascript">
      google_ad_client = "ca-pub-9780360037882978";
    google_ad_slot = "9991808593";
    google_ad_width = 970;
    google_ad_height = 90;
     </script>
     <!-- SFG Desktop AdSense 970x90 Primary Breakout -->
     <script src="//pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
     </script>
    </div>
   </div>
   <div style="margin-top:10px;height:400px;background-image:url(http://sftimes.s3.amazonaws.com/e/e/1/5/ee151d5d2c49403414a4511d80cb1472.jpg);background-position: center center;background-size:cover;">
   </div>
   <meta content="http://sftimes.s3.amazonaws.com/e/e/1/5/ee151d5d2c49403414a4511d80cb1472.jpg" itemprop="image"/>
   <h1 itemprop="name" style="font-weight:normal;margin-bottom:0px;margin-top:20px;font-family:Lora;font-size:32px;color:black;padding-bottom:20px;border-bottom:1px #e6e6e6 solid;">
    Seems Like A Normal Painting. When I Looked Closer, I Was Blown Away.
   </h1>
   <div content="2015-06-30" itemprop="datePublished" style="font-family:Lora;font-size:14px;margin-top:10px;color:#484848;">
    June 30, 2015
   </div>
   <center>
    <div class="main_content" style="margin-left:-10px;">
     <table cellpadding="0" cellspacing="0">
      <tr>
       <td style="text-align:center;" valign="top">
        <div class="left_content">
         <span class="articletext intro" itemprop="articleBody">
          <p>
           The following images may seem like beautiful artworks but actually feature the latest masterpieces in body painting.
          </p>
          <div>
           <div id="ad_in_p" style="text-align:center;">
            <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">
            </script>
            <!-- SFG Desktop In-Paragraph 300x250 -->
            <ins class="adsbygoogle" data-ad-client="ca-pub-9780360037882978" data-ad-slot="4414008196" style="display:inline-block;width:300px;height:250px">
            </ins>
            <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
           </div>
          </div>
          While body painting has existed for a long time (e.g. consider the traditional Indian hand painting called henna), over recent years, the art form has become increasingly mainstream and popular. For example, body painting is now seen not only done in an artist's studio but also more casually in various urban landscapes.
         </span>
         <div style="height:20px;">
         </div>
         <div style="margin-bottom:0px;text-align:left;display:none;">
          <div class="btn_share btn_fb" onclick='Page.shareByFacebook("top");' style="width:200px;display:inline-block;padding:10px;padding-right:15px;margin-right:5px;border-radius:0px;">
           <img border="0" src="http://sftimes.co/img/icon_fb.png" style="margin-right:4px" width="16"/>
           Share on Facebook
          </div>
          <div class="btn_share btn_twitter" onclick='Page.shareByTwitter("top");' style="width:200px;display:inline-block;padding:10px;padding-right:15px;border-radius:0px;">
           <img border="0" src="http://sftimes.co/img/icon_twitter.png" style="margin-right:4px" width="16"/>
           Share on Twitter
          </div>
          <div style="display:inline-block;padding:10px;">
           <div class="fb-like" data-action="like" data-href="http://www.facebook.com/578850155535919" data-layout="button_count" data-send="false" data-share="false" data-show-faces="false" id="top-578850155535919">
           </div>
          </div>
         </div>
         <span class="articletext" itemprop="articleBody" style="margin-bottom:20px;">
          <div>
           Please note that often times, it's not immediately obvious how the human form is integrated in the following artworks. This is a testament to the skill of the artist who created it.
           <br/>
           <br/>
           1. Natalie Fletcher
          </div>
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/7/4/3/d/743de57f801521a8ed0b7b9d2f721b48.jpg" width="98%"/>
          </div>
          <div>
           2. Ray Massey
          </div>
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/6/5/f/c/65fc477af92bd5105aa15822b35a14a0.jpg" width="98%"/>
          </div>
          <div>
           3. Snake body art
          </div>
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/8/c/a/4/8ca4b61c021800cf2446159242e645ae.jpg" width="98%"/>
          </div>
          <div>
           4. Johannes Stotter - The following frog body art was created using 5 people.
          </div>
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/8/b/3/b/8b3b5d62091abdef6282fd18bc0afec4.jpg" width="98%"/>
          </div>
          <div>
           5. Johannes Stotter - "Autumn"
          </div>
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/7/f/4/5/7f453cfddb9e1ec864e10ff3d065fd6e.jpg" width="98%"/>
          </div>
          <div>
           6. Urban graffiti
          </div>
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/7/0/c/3/70c31286e089fc7750a31710840a4ac4.jpg" width="98%"/>
          </div>
          7. Graffiti on this girl's back
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/e/c/e/a/ecea54b21e85529ea29647879567559d.jpg" width="98%"/>
          </div>
          8. Double feature spotted at World Bodypainting Festival 2013
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/5/8/9/8/58987f02ba6d27388ee4c8eca70e8c16.jpg" width="98%"/>
           <div class="credit_citation">
            <a href="http://julie-boehm.com/bodypaintings/" target="_blank">
             Julie Boehm
            </a>
           </div>
          </div>
          9.
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/c/b/8/c/cb8ccf2faf72cc6b26fa6b10c6288dfe.jpg" width="98%"/>
          </div>
          10.
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/4/c/1/2/4c129b6d6191900146453966ec693647.jpg" width="98%"/>
          </div>
          11.
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/e/c/e/7/ece7954244f412b71768b1a50d8a4b6b.jpg" width="98%"/>
          </div>
          12. Halloween costume made with body art
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/0/5/a/3/05a326f4f958912bc9810c2ed19eed3d.jpg" width="98%"/>
          </div>
          13. Starry night
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/9/c/5/f/9c5fab61b770b321d5c9520b61ae1c51.jpg" width="98%"/>
          </div>
          14. Camouflage
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/5/7/0/f/570fae18019c506d99f259b3930db311.jpg" width="98%"/>
          </div>
          15. Henna hand painting, typically drawn on brides
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/1/5/1/4/15148f3185737b9f671a120a13325331.jpg" width="98%"/>
          </div>
          16. Tribal body painting from Africa
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/9/8/e/4/98e4ca37a050b104c4c30fd2e5c69771.jpg" width="98%"/>
          </div>
          17. Make up body paint
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/4/0/d/c/40dccf36cfad4a67e3bee80a69b90ab7.jpg" width="98%"/>
          </div>
          18. Lotus by Trina Merry
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/f/4/2/8/f428dc87c1e0ca2d1f3644d236ce7c85.jpg" width="98%"/>
          </div>
          19. Hand body painting
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/6/1/6/f/616f080396bac2952baa29e9163789e8.jpg" width="98%"/>
          </div>
          20. Corset
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/9/6/d/b/96db787d1ddb14449a17e14fb8bbc0bc.jpg" width="98%"/>
          </div>
          21. Sagittarius
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/a/8/3/d/a83d09fb2f53e5341b99c78d12ee4465.jpg" width="98%"/>
          </div>
          22. Tim Engle
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/8/8/d/e/88de3052d6cc2dd74b9479af59cb8876.jpg" width="98%"/>
          </div>
          23. JZino
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/e/9/8/5/e98557a165196e17e448f12c9a60a8c7.jpg" width="98%"/>
          </div>
          24. Gesine Marwedel
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/8/2/1/d/821d4d9b48692ca07f26b8e23a2aef22.jpg" width="98%"/>
          </div>
          25. Emma Hack
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/e/2/b/5/e2b515e1f7eac08d98bb4f3b33e27691.jpg" width="98%"/>
          </div>
          26. Craig Tracy
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/9/7/5/d/975dcf98d3b9974d5fd1d073b9770d87.jpg" width="98%"/>
          </div>
          27. Gesine Marwedel
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/d/2/d/9/d2d9fa022b4501719f763c85dfb52ca3.jpg" width="98%"/>
          </div>
          28. Cheryl Lipstreu
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/b/b/7/a/bb7a22df1e810a18b1051d269bc6435a.jpg" width="98%"/>
          </div>
          29. Alexa Meade
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/d/9/d/4/d9d47ca5e819b66d48b05a512629529e.jpg" width="98%"/>
          </div>
          30.
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/1/8/9/6/1896560467075cd64fcffc6981d1cf4b.jpg" width="98%"/>
          </div>
          31.
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/7/8/1/6/78169dffe720eeb488c9a998322f8ffd.jpg" width="98%"/>
          </div>
          32. Craig Tracy
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/4/a/e/a/4aea88246d4faf10d2b558ac3f0be352.jpg" width="98%"/>
          </div>
          33. Typography by Anastasia Durasova
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/3/2/c/6/32c6395f205f350c57ae47b096a7e284.jpg" width="98%"/>
          </div>
          34. Gesine Marwedel
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/a/1/1/7/a117f0c36d81606d402f6b1f1e54db68.jpg" width="98%"/>
          </div>
          35.
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/b/6/9/4/b694cbc6ff57947b4bc412e151186891.jpg" width="98%"/>
          </div>
          36.
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/0/f/d/e/0fde1b3c859d75e5568007b40ab05790.jpg" width="98%"/>
          </div>
          37. Gesine Marwedel
          <div class="article_pic">
           <img alt="" border="0" src="http://sftimes.s3.amazonaws.com/e/6/5/7/e657bff5317852802cde08cd8b75c3f1.jpg" width="98%"/>
          </div>
         </span>
         <div class="credits" style="display:block;text-align:right;font-family:Lora;font-size:13px;margin-bottom:3px;margin-top:2px;">
          
          <a href="http://www.cuded.com/2014/03/55-beautiful-body-paintings/" target="_blank">
           Cuded
          </a>
         </div>
         <div style="text-align:left;margin-bottom:5px;margin-top:0px;">
          <table cellpadding="0" cellspacing="0" style="width:100%;">
           <tr>
            <td style="width:350px;">
             <div class="btn_share btn_fb" onclick='Page.shareByFacebook("bottom");' style="vertical-align:top;font-size:18px;width:200px;display:inline-block;padding:10px;padding-right:15px;margin-right:3px;border-radius:2px;">
              <img border="0" src="http://sftimes.co/img/icon_fb.png" style="margin-right:4px" width="16"/>
              Share on Facebook
             </div>
             <div class="btn_share btn_twitter" onclick='Page.shareByTwitter("bottom");' style="vertical-align:top;font-size:18px;width:100px;display:inline-block;padding:10px;padding-right:15px;margin-right:3px;border-radius:0px;display:none;">
              <img border="0" src="http://sftimes.co/img/icon_twitter.png" style="margin-right:4px" width="16"/>
              Tweet
             </div>
             <style type="text/css">
              .commentscontainer {
}

.commentscontainer.hidden {
	display:none;
}
             </style>
             <div class="btn_share" onclick="Utils.toggleClass(document.getElementById('commentscontainer_551'),'hidden');" style="border-radius:2px;background-color:#f8f8f8;color:#484848;border:1px #e6e6e6 solid;vertical-align:top;font-size:18px;width:200px;display:inline-block;padding:10px;padding-right:15px;margin-right:3px;">
              33 Comments
             </div>
             <div class="commentscontainer hidden" id="commentscontainer_551" style="z-index:3000000;position:fixed;left:0px;top:0px;width:100%;height:100%;background-color:rgba(0,0,0,0.4);">
              <div onclick="Utils.toggleClass(document.getElementById('commentscontainer_551'),'hidden');" style="position:absolute;top:0px;left:0px;width:100%;height:100%;">
              </div>
              <div style="z-index:1000;width:1024px;position:absolute;top:10%;left:50%;margin-left:-512px;height:50px;background-color:#e6e6e6;margin-top:-50px;">
               <div style="margin:10px;margin-top:13px;font-size:18px;font-family:Georgia;">
                Comments
                <i>
                 Seems Like A Normal Painting. When I Looked Closer, I Was Blown Away.
                </i>
               </div>
               <div onclick="Utils.toggleClass(document.getElementById('commentscontainer_551'),'hidden');" style="cursor:pointer;position:absolute;right:10px;top:0px;font-size:40px;">
                
               </div>
              </div>
              <div style="overflow-y:auto;overflow-scrolling:touch;-webkit-overflow-scrolling:touch;position:absolute;left:50%;margin-left:-512px;top:10%;height:80%;width:1024px;background-color:#f8f8f8;">
               <div id="comments_551" style="margin:10px;">
               </div>
              </div>
             </div>
             <script type="text/javascript">
              (function(object,container) {
  var ajax = new Ajax();
  ajax.responseType = Ajax.JSON;
  ajax.ondone = function(response) {
    if(response.votes) {
      Comments.setVotes(response.votes);
    }
    if(response.comments) {
      Comments.loadComments(object,response.comments,container,"");
    }
  }
  ajax.post("http://sftimes.co/ajax/comments.php",{'method':'get','object':object});
})("551",document.getElementById('comments_551'));
             </script>
             <div style="vertical-align:top;display:inline-block;width:50px;height:20px;padding:10px;position:relative;z-index:101;">
              <div class="fb-like" data-action="like" data-href="http://www.facebook.com/578850155535919" data-layout="button_count" data-send="false" data-share="false" data-show-faces="false" id="bottom-578850155535919">
              </div>
             </div>
             <span class="credits" id="creditsbox_element" style="height:0px;overflow:hidden;">
             </span>
            </td>
           </tr>
          </table>
         </div>
         <div id="test_articles" style="margin-bottom:20px;">
         </div>
         <script type="text/javascript">
          function showTestArticles(domId) {
  var dom = document.getElementById(domId);
  var ajax = new Ajax();
  ajax.responseType = Ajax.JSON;
  ajax.ondone = function(data) {
    dom.innerHTML = data;
  }
  ajax.post("http://sftimes.co/ajax/test_article.php", {'tester':'en','action':'get_tester_xpromo'} );
  Page.trackAction('viewtestarticles');
}

var testArticlesLoaded = false;
window.addEventListener('scroll', function() {
  //return false;
  var coords = Utils.getCoordinates(document.getElementById('test_articles'));
  if (!testArticlesLoaded &amp;&amp; coords.top &lt; Math.max(document.body.scrollTop,window.scrollY)+400) {
    testArticlesLoaded = true;
    showTestArticles('test_articles');
  }
});
         </script>
         <script src="http://sftimes.co/js/infini_scroller.js?1426645379" type="text/javascript">
         </script>
         <div id="content_container" style="position:relative;">
         </div>
         <div class="article">
          <div class="content">
           <div id="content_end" style="text-align:center;">
            <img height="40" src="data:image/gif;base64,R0lGODlhQgBCAPMAAP///wAAAExMTHp6etzc3KCgoPj4+BwcHMLCwgAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAQgBCAAAE/xDISau9VBzMu/8VcRTWsVXFYYBsS4knZZYH4d6gYdpyLMErnBAwGFg0pF5lcBBYCMEhR3dAoJqVWWZUMRB4Uk5KEAUAlRMqGOCFhjsGjbFnnWgliLukXX5b8jUUTEkSWBNMc3tffVIEA4xyFAgCdRiTlWxfFl6MH0xkITthfF1fayxxTaeDo5oUbW44qaBpCJ0tBrmvprc5GgKnfqWLb7O9xQQIscUamMJpxC4pBYxezxi6w8ESKU3O1y5eyts/Gqrg4cnKx3jmj+gebevsaQXN8HDJyy3J9OCc+AKycCVQWLZfAwqQK5hPXR17v5oMWMhQEYKLFwmaQTDgl5OKHP8cQjlGQCHIKftOqlzJsqVLPwJiNokZ86UkjDg5emxyIJHNnDhtCh1KtGjFkt9WAgxZoGNMny0RFMC4DyJNASZtips6VZkEp1P9qZQ3VZFROGLPfiiZ1mDKHBApwisZFtWkmNSUIlXITifWtv+kTl0IcUBSlgYEk2tqa9PhZ2/Fyd3UcfIQAwXy+jHQ8R0+zHVHdQZ8A7RmIZwFeN7TWMpS1plJsxmNwnAYqc4Sx8Zhb/WPyqMynwL9eMrpQwlfTOxQco1gx7IvOPLNmEJmSbbrZf3c0VmRNUVeJZe0Gx9H35x9h6+HXjj35dgJfYXK8RTd6B7K1vZO/3qFi2MV0cccemkkhJ8w01lA4ARNHegHUgpCBYBUDgbkHzwRAAAh+QQJCgAAACwAAAAAQgBCAAAE/xDISau9VAjMu/8VIRTWcVjFYYBsSxFmeVYm4d6gYa5U/O64oGQwsAwOpN5skipWiEKPQXBAVJq0pYTqnCB8UU5KwJPAVEqK7mCbrLvhyxRZobYlYMD5CYxzvmwUR0lbGxNHcGtWfnoDZYd0EyKLGAgClABHhi8DmCxjj3o1YYB3Em84UxqmACmEQYghJmipVGRqCKE3BgWPa7RBqreMGGfAQnPDxGomymGqnsuAuh4FI7oG0csAuRYGBgTUrQca2ts5BAQIrC8aBwPs5xzg6eEf1lzi8qf06foVvMrtm7fO3g11/+R9SziwoZ54DoPx0CBgQAGIEefRWyehwACKGv/gZeywcV3BFwg+hhzJIV3Bbx0IXGSJARxDmjhz6tzJs4NKkBV7SkJAtOi6nyDh8FRnlChGoVCjSp0aRqY5ljZjplSpNKdRfxQ8Jp3ZE1xTjpkqFuhGteQicFQ1xmWEEGfWXWKfymPK9kO2jxZvLstW1GBLwI54EiaqzxoRvSPVrYWYsq8byFWxqcOs5vFApoKlEEm8L9va0DVHo06F4HQUA6pxrQZoGIBpyy1gEwlVuepagK1xg/BIWpLn1wV6ASfrgpcuj5hkPpVOIbi32lV3V+8U9pVVNck5ByPiyeMjiy+Sh3C9L6VyN9qZJEruq7X45seNe0Jfnfkp+u1F4xEjKx6tF006NPFS3BCv2AZgTwTwF1ZX4QnFSzQSSvLeXOrtEwEAIfkECQoAAAAsAAAAAEIAQgAABP8QyEmrvVQIzLv/FSEU1nFYhWCAbEsRx1aZ5UG4OGgI9ny+plVuCBiQKoORr1I4DCyDJ7GzEyCYziVlcDhOELRpJ6WiGGJCSVhy7k3aXvGlGgfwbpM1ACabNMtyHGCAEk1xSRRNUmwmV4F7BXhbAot7ApIXCJdbMRYGA44uZGkSIptTMG5vJpUsVQOYAIZiihVtpzhVhAAGCKQ5vaQiQVOfGr+PZiYHyLlJu8mMaI/GodESg7EfKQXIBtrXvp61F2Sg10RgrBwEz7DoLcONH5oa3fBUXKzNc2TW+Fic8OtAQBzAfv8OKgwBbmEOBHiSRIHo0AWBFMuwPdNgpGFFAJr/li3D1KuAu48YRBIgMHAPRZSeDLSESbOmzZs4oVDaKTFnqZVAgUbhSamVzYJIIb70ybSp06eBkOb81rJklCg5k7IkheBq0UhTgSpdKeFqAYNOZa58+Q0qBpluAwWDSRWYyXcoe0Gc+abrRL7XviGAyNLDxSj3bArey+EuWJ+LG3ZF+8YjNW9Ac5m0LEYv4A8GTCaGp5fykNBGPhNZrHpcajOFi8VmM9i0K9G/EJwVI9VM7dYaR7Pp2Fn3L8GcLxREZtJaaMvLXwz2NFvOReG6Mel+sbvvUtKbmQgvECf0v4K2k+kWHnp8eeO+v0f79PhLdz91sts6C5yFfJD3FVIHHnoWkPVRe7+Qt196eSkongXw4fQcCnW41F9F0+ETAQAh+QQJCgAAACwAAAAAQgBCAAAE/xDISau9dAjMu/8VISCWcFiFYIBsS4lbJcSUSbg4aMxrfb68nFBSKFg0xhpNgjgMUM9hZye4URCC6MRUGRxI18NSesEOehIqGjCjUK1pU5KMMSBlVd9LXCmI13QWMGspcwADWgApiTtfgRIEBYCHAoYEA2AYWHCHThZ2nCyLgG9kIgehp4ksdlmAKZlCfoYAjSpCrWduCJMuBrxAf1K5vY9xwmTExp8mt4GtoctNzi0FmJMG0csAwBUGs5pZmNtDWAeeGJdZBdrk6SZisZoaA5LuU17n9jpm7feK53Th+FXs3zd//xJOyKbQGAIriOp1a9giErwYCCJGZEexQ8ZzIP8PGPplDRGtjj7OVUJI4CHKeQhfypxJs6bNDyU11rs5IaTPnBpP0oTncwzPo0iTKjXWMmbDjPK8IShikmfIlVeslSwwseZHn1G0sitY0yLINGSVEnC6lFVXigbi5iDJ8WW2tWkXTpWYd9tdvGkjFXlrdy1eDlOLsG34t9hUwgwTyvV2d6Big4efDe6LqylnDt+KfO6cGddmNwRGf5qcxrNp0SHqDmnqzbBqblxJwR7WklTvuYQf7yJL8IXL2rfT5c7KCUEs2gt/G5waauoa57vk/Ur9L1LXb12x6/0OnVxoQC3lcQ1xXC93d2stOK8ur3x0u9YriB+ffBl4+Sc5158LMdvJF1Vpbe1HTgQAIfkECQoAAAAsAAAAAEIAQgAABP8QyEmrvXQMzLv/lTEUliBYxWCAbEsRwlaZpUC4OCgKK0W/pl5uWCBVCgLE7ERBxFDGYUc0UDYFUclvMkhWnExpB6ERAgwx8/Zsuk3Qh6z4srNybb4wAKYHIHlzHjAqFEh2ABqFWBRoXoESBAVmEkhZBANuGJeHXTKMmDkphC8amUN8pmxPOAaik4ZzSJ4ScIA5VKO0BJOsCGaNtkOtZY9TAgfBUri8xarJYsOpzQAIyMxjVbwG0tN72gVxGGSl3VJOB+GaogXc5ZoD6I7YGpLuU/DI9Trj7fbUyLlaGPDlD0OrfgUTnkGosAUCNymKEGzYIhI+JghE0dNH8QKZY+j/8jEikJFeRwwgD4xAOJChwowuT8qcSbOmzQ5FRugscnNCypD5IkYc0VML0JB9iipdyrQptIc9yRyysC1jETkzU2IxZfVqgYk2yRxNdxUB2KWRUtK65nSX02Lb2NoTETOE1brNwFljse2q25MiQnLUZPWsTBghp76QiLegXpXi2GlrnANqCHCz9g3uVu0AZYMZDU8zEFKuZtHdSKP7/Cb0r7/KDPwCaRr010kkWb8hkEq15xyRDA/czIr3JNWZdcCeYNbUQLlxX/CmCgquWTO5XxzKvnt5ueGprjc5tC0Vb+/TSJ4deNbsyPXG54rXHn4qyeMPa5+Sxp351JZU6SbMGXz+2YWeTOxZ4F4F9/UE4BeKRffWHgJ6EAEAIfkECQoAAAAsAAAAAEIAQgAABP8QyEmrvXQMzLv/lTEglmYhgwGuLEWYlbBVg0C0OCim9DwZMlVuCECQKoVRzCdBCAqWApTY2d0oqOkENkkeJ04m9fIqCCW7M0BGEQnUbu34YvD2rhIugMDGBucdLzxgSltMWW0CAl9zBAhqEnYTBAV4ZAOWBU8WdZYrWZBWY3w2IYpyK3VSkCiMOU6uboM4dQNmbQSQtI+Jf0Sqt4Acsp45tcHCpr5zqsXJfLOfBbwhzsl7unWbFwhSlddUTqcclN664IE1iq5k3tTow5qn53Td3/AcCAdP9FXv+JwQWANIEFfBZAIjSRHY7yAGSuoESHDkbWFDhy8U7dsnxwBFbw7/O2iUgYxOrpDk7qFcybKly5cIK7qDSUHjgY37uumcNo3mBAE3gQaV6LOo0aNI4XkcGFJnFUc62bEUesCWJYpR/7nMeDPoFCNGTiatBZSogYtHCTBN2sIjWnAi1po08vaavqpy0UBlyFJE15L1wNaF9yKo1ImCjTq5KWYS3xCDh2gFUOcAqg8G6AK8G3lY2M4sgOzL+/QxQANBSQf+dxZ0m5KiD7jObBqx6gsDqlbgMzqHI7E/avu+6Yp3Y8zAHVty20ETo7IWXtz2l1zt1Uz72ty8fM2jVrVq1GK5ieSmaxC/4TgKv/zmcqDHAXmHZH23J6CoOONLPpG/eAoFZIdEHHz4LEWfJwSY55N30RVD3IL87VFMDdOh9B88EQAAIfkECQoAAAAsAAAAAEIAQgAABP8QyEmrvbQUzLv/lVEg1jBYyGCAbEsRw1aZ5UC4OCiq80kZplVuCECQKprjhEZJyZpPIkZUuL1iPeRAKSEIfFIOQiOUAAtlANMc/Jm4YQsVXuAtwQAYvtiOcwhkTVsZUU5uAlZ+BghpEkkvaB2AiQB1UWZVOWORP3WNOAZflABAApc6m41jcDiGh3agqT8Eny4GtK+1LHO6fmxfvbsanL4hJrBhi5nFFV7IIJOfBsF+uCEIphiAI6PMLikC2VObjN62A+E2H9sj1OYi6cQetxrd5hXYpu5y1vfj9v4CXpgmkBkBK6sQ9CvYYke6LqtGGNknEEa4i+LMHBwxgqEHdOn/ynG4RTHgJI8oU6pcyXKlkZcwW5Y4gPGiEY4JZc6gyVPAgT06gwodStQjSaFjAGokEDOoz3iUmMJUWNKfxZ7iXh6sarTOUzNcZS4sqmgsQxFKRzI1WxDBgZ8Ub0llK7DUW3kD54YtBuOtAFYT9BLFdlfbVjl7W4jslHEX08Qf3AqAPItqwFA00+o4SLcYZkRSblmeMI2yiDSf98ode1hKgZ8hnmq+wLmRXMoE3o7CDPTD0WYHmxwAPAEblwE05ajzdZsCcjzJJ7zGY+AtceaPK+im8Fb4ASQ0KXdoHvhtmu6kt5P22VvR6CXRJ6Cf4POS2wPip3yqr/17hvjSnVKXGnry+VcefkjNV6AF1gmV2ykKOgIaWRT4FFAEACH5BAkKAAAALAAAAABCAEIAAAT/EMhJq720FMy7/5VREJZmIYUBriwlbpUZD2prf289FUM4pLeghIA4jWKwCWFQrCCaQo4BpRsWoBLZBDEgUZa9aIdwreYoPxfPzMOKLdNjBrhLAgxpCpf+xpy3cll2S1giXX0SU1UST4UIXhhkVXtwgSxECIt/Qng0IW03cZkVZJBBXG6dnqGNZgaLNgYEbD+wLKK2iIkDvLm3rbqVtYhxvm9gxhdEs3DJx7BTTJHAwUJgeRdT1NUrZLyHHpiPztWGvKMgsk/kwVzDsczcHVOm8vY47PfdXo0E8fo2iBQQwGuIuCf/AHLwRpAgtjvqGin0wItgmXkJJ1oopbGjx48g/0MCPNhPZIUBAlKqJLjskct6IlE2VBnGpM2bOHN6lJXPHgqYLmQtA+pRJsFHX1r6ywgSzEoBMJbO6jmRiMwwr3SGo6p1Xtadlla88sdVDIKUq/BJLRsFj0o+ftaaXKLSTVKyOc+mtONiaiWA6NRAjXXggF1detmSKnxAsQcDAg4IcHyHMeXHKhUTsKzGsQgzKok+5ozmQM0gA0/fyXxjQOFFmw2LiV0P8gG+ILjAKnz67OEtArDIrCTaBoLCplyfTpnBtIvIv4kV5oucQuEvkmNIvoyhwGvsja0fcFF9AuTB8gwUduNd9fXSfI9PtvdQQmTq45urBqBlovoD9bxn3hd3NsVmgYATRFZcVeiJV4IAC5rEnD0RAAAh+QQJCgAAACwAAAAAQgBCAAAE/xDISau9FCHMu/+VgRBWUVhEYYBsS4lbhZyy6t6gaFNFPBmmFW4IIJAqhFEN2bNoiB6YcJL0SUy1IxUL7VSnAGmGJgHuyiZt9wJTA2bg5k++Pa/ZGnBS/dxazW5QBgRgEnsvCIUhShMzVmWMLnuFYoJBISaPOV9IkUOOmJc4gyNgBqddg6YFA3Y3pIl3HWauo5OybCa1Q6SKuCm7s4mKqLgXhBY6moa3xkQpAwPLZVXIzi1A0QWByXvW1xwi2rGbSb7gVNHkLqfn6GHf7/Lh7vM31kZGxfbYM9ED1EaM0MfPi4l/rf6cGsit4JV/PeqpcojhEMWLGDNq3Agln0cjHP8nIBz50WPIhwIGpFRJ5qTLlzBjrkEgLaSGhoYKCDjA80DIaCl7qBnQs+cAnAWhpVwZo6eAbTJ1qARYBCnMeDI7DqgHDohVNkQPtOSHICjXH2EPbL0IRIDbdRjK8hTw9V3blNMApM1LkYDKpxiI1hIxDy6kVq948u1CIOVZEI0PCHjM6y/lcHMvV3bccSfdF8FYiDBlmVfmCoK76Bzrl/MNop8pEOBZl0Pj2GgB31tbYSdVCWX5lh2aEgVUWQh4gkk9wS2P4j/eyjOwc+xONTszOH8++V0ByXrAU+D5Yidp3dcMKK7w/beE7BRYynCruQWX+GIrSGYPncfYedQd4AYZeS+Ix9FsAliwX2+4adTYfwQ+VxtG/V0TAQAh+QQJCgAAACwAAAAAQgBCAAAE/xDISau9FCHMu/+VgRCWZhGIAa4sJW6VGRdqa39vPSFFWKS3oIRAqqCKO9gEpdwhhRgDSjccxZoAzRNAKPSgHRGBmqP8XDwybwsOHa9UmcRwpnSBbU55aU3aC090gHlzYyd9c3hRillyEyJUK0SGLlNggpGCWCBSI5GWUF1bmpErUkRkBqUtUmpeq6ZHsIQAgjRtp5S0Ll6MUJ2zuD/BF6ilqrvFxzybhZ7JQl29epO60DheXmwWudbX3Dy9xI+T48kEA8M3qua7rd/wks3x0TUH9wKD9DYiXukSBe4JPCBg3j4+BdINSNekiwCBAg52SJgOUDAEAwxKBCWxo8ePIP9DwhtIUmQFigtTFnhIkqBJMyljfnlJs6bNm/Qwajz4hoNDiDRlMgpIMiPNLjEXwoCoD2e/lEO24VzSbuqHLlUJiVk34N5MiRjztaMjcEDWPHRS+irBUoBUnisXvu1KcOfGhQUxdL0Vwi6YtSL+tSDw0G8QwmYJESZ4loWBAQISg1ksoDEryJIPP6zMy/IjRo8jW6YcaS+YlV9rYW7clbMdgm9BEHYbAnJq2QPYPBxgJy8HjE/icmvaBgFjCrYpCIg4Qfij5bFxPUz98Mny3sx3iIYX0PWQ4xMeulhOJvk1A9VPRq7gEnk+I+S/ebFgWnl2CQjWz/CI/kCk9kvE9xIUAQCGd4AF0NGE3m3XnZSZVfpdEwEAIfkECQoAAAAsAAAAAEIAQgAABP8QyEmrvZQQzLv/laFZCGIRiAGuLCVuFXqmbQ2KNFWGpWr/ANGJ4JvIMghYRgnEvIoSQ7KyQzKD1Sbn6dJAj9Geq3TVhryxnCSLNSHV5gt3Iv0yUUwpXIsYlDV5RB0iX2xRgjUDBwJXc0B6UFgFZR8GB5eRL1p4PAV7K5aXeQaRNaRQep8soQelcWOeri2ssnGptbMCB26vIbGJBwOlYL0hpSKTGIqXBcVNKAXJGAiXi5TOWwjRqhUF1QK42EEE24gfBMu84hfkk+EX2u/OhOv1K8T2Zojf0vmz0NEkFNBVLZg6f3K0RVt4Z+A3hB0WejLHbsBBiF3kYdzIsaPHjyz/CBZcBJKCxJMiCwooOSHagAIvXzZjSbOmzZvitF3kyIkDuWUkS8JkCGVASgF+WEKL+dINwZcaMeoZegjnlqhWO5DDamuKqXQ8B1jUaMDhgQJczUgRO9YDgqfXEJYV28+Ct0U7O/60iMHbJyn5KIbhm0tA3jjohL0yoAtcPQN008YQQFnyKraWgzRGxQ0UnLmKbRCg7JiC0ZlA+qCOgtmG0dJGKMcFgQ52FKo10JWiPCADYQzomMDs7SszlcomBawWm3w15KSPKa8GIJsCZRdIj4cWN9D2aNvX6RhFJfawFsaMtFcI39Lw5O3OAlYwepD9GuUkzGNDf8W+ZvgefWeBEn8AGDUbQuhcRGAfxtnD3DoRAAAh+QQJCgAAACwAAAAAQgBCAAAE/xDISau9lBDMu/8VcRSWZhmEAa4shRxHuVVI2t6gAc+TSaE2nBAwGFgEoxBPApQNPbokpXAQKEMI1a/29FAPWokInFkCwwDgsnuCkSgwREY+QdF7NTTb8joskUY9SxpmBFl7EggDawCAGQd3FyhohoyTOANVen2MLXZ6BghcNwZIZBSZgUOGoJV6KwSmaAYFr54Gs6KHQ6VVnYhMrmxRAraIoaLGpEiRwEx5N5m1J83OTK92v1+Q1ry6vwAIpgLg3dS6yhPbA+nmdqJBHwaZ3OYchtA3BNP2GJf9AD0YCggMlwRTAwqUIygJXwE6BUzBEDCgGsMtoh4+NFOAXpWLHP8y1oh3YZ9FkGlIolzJsqXLlzgkwpgIcwKCAjhzPhSApCcMVTBvCtV4sqbRo0iTshFak1WHfQN6WgmaM5+EiFWqUFxIMJROnDN4UuSX1E5OMVyPGlSKaF+7bqHenogqoKi9fQ/lponIk+zFUAkVthPHc9FLwGA58K17FO9DDBH9PguoMuXjFgSi2u2SWTKvwnpx0MIZ2h/ogLQSlq5QauuW1axJpvac4/QUAW+GKGo2G3ZEwxl4ws5QZE3qzSU9R80NIHO5fUsUMX82/II4drcjFXGR8EdxgPMYoyKHCmhmoM1V9/s9iyIait6x1+mIXEjrNeKmw59SMUSR6l5UE1EjM9txN1049RUUlR771fFfUw1OEJUF38E0TzURJkLbUR31EwEAOwAAAAAAAAAAAA==" style="width:40px;height:40px;" width="40"/>
           </div>
          </div>
         </div>
         <script type="text/javascript">
          (function(end,content,search_input,dtr) {
  var scroller = new InfiniScroller(end);
  var position = 0;
  var errors = 0;
  var srch = '';
  var ads = {"adsense":3};
  var xtx = '';
  var ashown = {};
  var aall = [];
  scroller.setOffset(-2000).setRequestCallback(function() {
    var ajax = new Ajax();
    ajax.responseType = Ajax.JSON;
    var scomp = (srch &amp;&amp; Utils.trim(srch)) ? Utils.trim(srch) : '';
    var processed = false;
    ajax.ondone = ajax.ontimeout = ajax.onerror = function(response) {
      if(scomp == srch &amp;&amp; !processed &amp;&amp; params.position == position) {
        processed = true;
        if(response) {
          if(response.position) {
            position = response.position;
          }
          if(response.ads) {
            ads = response.ads;
          }
          if(response.xtx) {
            xtx = response.xtx;
            try {
              new Ajax().post("http://sftimes.co/ajax/xp_xtx.php",{"xtx":xtx});
            }catch(e){}
          }
          if(response.sp) {
            try {
              Page.sharer_params = response.sp;
            }catch(e){}
          }
          if(response.op) {
            try {
              Page.organic_params = response.op;
            }catch(e){}
          }
          if(response.results) {
            for(var i = 0 ; i &lt; response.results.length ; i++) {
              var aid = false;
              if(response.ids) {
                aid = response.ids[i];
              }
              if(aid &amp;&amp; ashown[aid]) {
                continue;
              }
              if(aid &amp;&amp; window.localStorage) {
                var xph = window.localStorage.getItem('xph');
                if(xph) {
                  xph = JSON.decode(xph);
                  if(xph) {
                    if(xph[aid]) {
                      continue;
                    }
                  }
                }
              }
              if(response.tx &amp;&amp; response.tx[i]) {
                try {
                  new Ajax().post("http://sftimes.co/ajax/xp_tx.php",{"tx":response.tx[i]});
                }catch(e){}
              }
              var div = document.createElement('div');
              div.innerHTML = response.results[i];
              
              content.appendChild(div);
              //Utils.processScriptTags(div);
              if(false &amp;&amp; aid) {
                Utils.generate_callback(function(e,a,p) {
                  var seen = false;
                  var sCheck = setInterval(function() {
                    if(Utils.isElementInView(e,0.5)) {
                      seen = true;
                      clearInterval(sCheck);
                    }
                  },100);
                },div,aid,params.position+i)();
              }
              if(aid) {
                ashown[aid] = 1;
                aall[aall.length] = aid;
                div.onclick = Utils.generate_callback(function(aid) {
                  if(window.localStorage) {
                    var xph = window.localStorage.getItem('xph');
                    if(xph) {
                      xph = JSON.decode(xph);
                    }
                    if(!xph) {
                      xph = {};
                    }
                    xph[aid] = new Date().getTime();
                    try {
                      window.localStorage.setItem('xph',JSON.encode(xph));
                    }catch(e){}
                  }
                },aid);
              }
              if(response.ap &amp;&amp; response.ap['a'+aall.length]) {
                var da = document.createElement('div');
                da.innerHTML = response.ap['a'+aall.length];
                content.appendChild(da);
                Utils.processScriptTags(da);
              }
            }
          }
          errors = 0;
          if(response.count &gt; 0) {
            scroller.requestComplete();
          }
          else {
            end.style.display = 'none';
          }
        }
        else {
          errors++;
          setTimeout(function() {
            scroller.requestComplete();
          },errors*1000);
        }
      }
    }
    var params = {
      "from":window.location.href
    }
    if(srch &amp;&amp; Utils.trim(srch).length &gt; 0) {
      params.search = Utils.trim(srch);
    }
    params.position = position;
    if(ads) {
      params.ads = JSON.encode(ads);
    }
    if(xtx) {
      params.xtx = xtx;
    }
    if(dtr) {
      params.dtr = 1;
    }
    ajax.post("http://sftimes.co/ajax/get_xpromo_tracked.php",params);
  });
  
})(document.getElementById('content_end'),document.getElementById('content_container'),false,0);
         </script>
         <div>
          <span>
           <script type="text/javascript">
            &lt;!--
google_ad_client = "ca-pub-7200731081367426";
/* SFG Desktop 728x90 Bottom */
google_ad_slot = "2459598837";
google_ad_width = 728;
google_ad_height = 90;
//--&gt;
           </script>
           <script src="//pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
           </script>
          </span>
         </div>
        </div>
       </td>
       <td style="text-align:center;width:250px;" valign="top">
        <div class="right_content">
         <div style="height:8px;">
         </div>
         <a href="http://sftimes.co/2015/05/18/amateur-filmmaker-records-amazing-monstrous-whirlpool/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/05/18/amateur-filmmaker-records-amazing-monstrous-whirlpool/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/2/2/4/c/224ce2245af7dc7835ba837a118824f2.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Filmmaker Catches Unusual Whirlpool On Camera, Keep Your Eyes On The Middle
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Nature
             <span>
              
             </span>
             May 18
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/01/05/man-builds-remarkable-280-square-foot-house/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/01/05/man-builds-remarkable-280-square-foot-house/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/9/5/4/9/9549067cb8314843b8332ab65dfafce2.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            This House Looks Plain, But Wait Till You See The Interior
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             January 5
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/10/coca-cola-campaign-aims-to-remove-labels/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/10/coca-cola-campaign-aims-to-remove-labels/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/c/e/e/9/cee9bb4f266fb1163a61651d091d640a.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            6 Strangers Sit In The Dark. When The Lights Come On, They Are Flabbergasted
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Impact
             <span>
              
             </span>
             July 10
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/04/06/truck-transforms-into-a-comfy-castle/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="xpromo_link_tracker('http://sftimes.co/2015/04/06/truck-transforms-into-a-comfy-castle/?src=sidexpromo&amp;pid=551&amp;eid=551','39107','sidebar','1');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/b/a/d/9/bad9f2402241a577878fc732031766b5.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            When You See The Inside Of This Old Truck, You'll Want To Stay Forever
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             April 6
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/the-journey-of-a-found-starling-from-birth-to-1-year/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/the-journey-of-a-found-starling-from-birth-to-1-year/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/2/c/4/8/2c48b61cb5f1c99a8d06378494670b39.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Woman Finds An Abandoned Egg. This Is What A Year Of Love And Devotion Does
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Nature
             <span>
              
             </span>
             July 13
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/make-a-sporty-top-from-a-pair-of-mens-briefs/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/make-a-sporty-top-from-a-pair-of-mens-briefs/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/b/3/b/7/b3b7f3cc2bfc2f3c5d18315a6c507096.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Take Scissors To A Pair Of Underwear And End Up With Something Unexpected
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/13/a-behind-the-scenes-look-at-a-mcdonalds-food-plant/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/13/a-behind-the-scenes-look-at-a-mcdonalds-food-plant/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/6/c/3/4/6c34ef7d3e851a62f3bbc204384b0e98.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            McDonald's Plant Invited Cameras In For The First Time. The Footage Is Gripping
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Health
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/mother-horrified-after-finding-this-in-a-starbucks-bathroom/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/mother-horrified-after-finding-this-in-a-starbucks-bathroom/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/4/3/4/0/434081b9ae765c2d4f6c64f605db3759.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Mom Notices Something In The Starbucks Bathroom That Leaves Her Mortified
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             News
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/04/06/woman-shows-off-gorgeous-140-square-foot-tiny-home/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/04/06/woman-shows-off-gorgeous-140-square-foot-tiny-home/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/8/0/d/7/80d7803c7bb7c1bf04458f5b8f098bad.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Her Tiny Home Is Just 140 Square Feet, But Wait Till You Peek Inside
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             April 7
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/06/12/compact-camper-is-perfect-for-traveling/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/06/12/compact-camper-is-perfect-for-traveling/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/7/3/b/6/73b66958c29e4cff40f8c65f80e3b65a.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            This Camper Looks Small, But When You Pull The Handle, It Completely Transforms
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             June 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/02/27/pub-sheds-are-a-growing-trend-worth-seeing/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="xpromo_link_tracker('http://sftimes.co/2015/02/27/pub-sheds-are-a-growing-trend-worth-seeing/?src=sidexpromo&amp;pid=551&amp;eid=551','35958','sidebar','1');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/a/2/f/8/a2f8f2de25a2ccbad1252cd462927f27.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Wait'll You See The Inside Of This Simple Backyard Shed. It's Not What You Think
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             February 27
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/05/18/amateur-filmmaker-records-amazing-monstrous-whirlpool/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/05/18/amateur-filmmaker-records-amazing-monstrous-whirlpool/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/2/2/4/c/224ce2245af7dc7835ba837a118824f2.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Filmmaker Catches Unusual Whirlpool On Camera, Keep Your Eyes On The Middle
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Nature
             <span>
              
             </span>
             May 18
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/01/05/man-builds-remarkable-280-square-foot-house/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/01/05/man-builds-remarkable-280-square-foot-house/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/9/5/4/9/9549067cb8314843b8332ab65dfafce2.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            This House Looks Plain, But Wait Till You See The Interior
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             January 5
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/10/coca-cola-campaign-aims-to-remove-labels/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/10/coca-cola-campaign-aims-to-remove-labels/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/c/e/e/9/cee9bb4f266fb1163a61651d091d640a.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            6 Strangers Sit In The Dark. When The Lights Come On, They Are Flabbergasted
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Impact
             <span>
              
             </span>
             July 10
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/04/06/truck-transforms-into-a-comfy-castle/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="xpromo_link_tracker('http://sftimes.co/2015/04/06/truck-transforms-into-a-comfy-castle/?src=sidexpromo&amp;pid=551&amp;eid=551','39107','sidebar','1');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/b/a/d/9/bad9f2402241a577878fc732031766b5.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            When You See The Inside Of This Old Truck, You'll Want To Stay Forever
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             April 6
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/the-journey-of-a-found-starling-from-birth-to-1-year/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/the-journey-of-a-found-starling-from-birth-to-1-year/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/2/c/4/8/2c48b61cb5f1c99a8d06378494670b39.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Woman Finds An Abandoned Egg. This Is What A Year Of Love And Devotion Does
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Nature
             <span>
              
             </span>
             July 13
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/make-a-sporty-top-from-a-pair-of-mens-briefs/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/make-a-sporty-top-from-a-pair-of-mens-briefs/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/b/3/b/7/b3b7f3cc2bfc2f3c5d18315a6c507096.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Take Scissors To A Pair Of Underwear And End Up With Something Unexpected
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/13/a-behind-the-scenes-look-at-a-mcdonalds-food-plant/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/13/a-behind-the-scenes-look-at-a-mcdonalds-food-plant/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/6/c/3/4/6c34ef7d3e851a62f3bbc204384b0e98.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            McDonald's Plant Invited Cameras In For The First Time. The Footage Is Gripping
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Health
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/mother-horrified-after-finding-this-in-a-starbucks-bathroom/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/mother-horrified-after-finding-this-in-a-starbucks-bathroom/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/4/3/4/0/434081b9ae765c2d4f6c64f605db3759.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Mom Notices Something In The Starbucks Bathroom That Leaves Her Mortified
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             News
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/04/06/woman-shows-off-gorgeous-140-square-foot-tiny-home/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/04/06/woman-shows-off-gorgeous-140-square-foot-tiny-home/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/8/0/d/7/80d7803c7bb7c1bf04458f5b8f098bad.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Her Tiny Home Is Just 140 Square Feet, But Wait Till You Peek Inside
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             April 7
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/06/12/compact-camper-is-perfect-for-traveling/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/06/12/compact-camper-is-perfect-for-traveling/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/7/3/b/6/73b66958c29e4cff40f8c65f80e3b65a.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            This Camper Looks Small, But When You Pull The Handle, It Completely Transforms
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             June 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/02/27/pub-sheds-are-a-growing-trend-worth-seeing/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="xpromo_link_tracker('http://sftimes.co/2015/02/27/pub-sheds-are-a-growing-trend-worth-seeing/?src=sidexpromo&amp;pid=551&amp;eid=551','35958','sidebar','1');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/a/2/f/8/a2f8f2de25a2ccbad1252cd462927f27.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Wait'll You See The Inside Of This Simple Backyard Shed. It's Not What You Think
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             February 27
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/05/18/amateur-filmmaker-records-amazing-monstrous-whirlpool/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/05/18/amateur-filmmaker-records-amazing-monstrous-whirlpool/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/2/2/4/c/224ce2245af7dc7835ba837a118824f2.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Filmmaker Catches Unusual Whirlpool On Camera, Keep Your Eyes On The Middle
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Nature
             <span>
              
             </span>
             May 18
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/01/05/man-builds-remarkable-280-square-foot-house/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/01/05/man-builds-remarkable-280-square-foot-house/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/9/5/4/9/9549067cb8314843b8332ab65dfafce2.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            This House Looks Plain, But Wait Till You See The Interior
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             January 5
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/10/coca-cola-campaign-aims-to-remove-labels/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/10/coca-cola-campaign-aims-to-remove-labels/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/c/e/e/9/cee9bb4f266fb1163a61651d091d640a.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            6 Strangers Sit In The Dark. When The Lights Come On, They Are Flabbergasted
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Impact
             <span>
              
             </span>
             July 10
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/04/06/truck-transforms-into-a-comfy-castle/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="xpromo_link_tracker('http://sftimes.co/2015/04/06/truck-transforms-into-a-comfy-castle/?src=sidexpromo&amp;pid=551&amp;eid=551','39107','sidebar','1');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/b/a/d/9/bad9f2402241a577878fc732031766b5.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            When You See The Inside Of This Old Truck, You'll Want To Stay Forever
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             April 6
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/the-journey-of-a-found-starling-from-birth-to-1-year/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/the-journey-of-a-found-starling-from-birth-to-1-year/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/2/c/4/8/2c48b61cb5f1c99a8d06378494670b39.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Woman Finds An Abandoned Egg. This Is What A Year Of Love And Devotion Does
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Nature
             <span>
              
             </span>
             July 13
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/make-a-sporty-top-from-a-pair-of-mens-briefs/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/make-a-sporty-top-from-a-pair-of-mens-briefs/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/b/3/b/7/b3b7f3cc2bfc2f3c5d18315a6c507096.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Take Scissors To A Pair Of Underwear And End Up With Something Unexpected
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/13/a-behind-the-scenes-look-at-a-mcdonalds-food-plant/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/13/a-behind-the-scenes-look-at-a-mcdonalds-food-plant/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/6/c/3/4/6c34ef7d3e851a62f3bbc204384b0e98.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            McDonald's Plant Invited Cameras In For The First Time. The Footage Is Gripping
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Health
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/07/12/mother-horrified-after-finding-this-in-a-starbucks-bathroom/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/07/12/mother-horrified-after-finding-this-in-a-starbucks-bathroom/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/4/3/4/0/434081b9ae765c2d4f6c64f605db3759.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Mom Notices Something In The Starbucks Bathroom That Leaves Her Mortified
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             News
             <span>
              
             </span>
             July 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/04/06/woman-shows-off-gorgeous-140-square-foot-tiny-home/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/04/06/woman-shows-off-gorgeous-140-square-foot-tiny-home/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/8/0/d/7/80d7803c7bb7c1bf04458f5b8f098bad.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Her Tiny Home Is Just 140 Square Feet, But Wait Till You Peek Inside
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             April 7
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/06/12/compact-camper-is-perfect-for-traveling/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="navigate_wrapper('http://sftimes.co/2015/06/12/compact-camper-is-perfect-for-traveling/?src=sidexpromo&amp;pid=551&amp;eid=551');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/7/3/b/6/73b66958c29e4cff40f8c65f80e3b65a.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            This Camper Looks Small, But When You Pull The Handle, It Completely Transforms
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             June 14
            </div>
           </div>
          </div>
         </a>
         <a href="http://sftimes.co/2015/02/27/pub-sheds-are-a-growing-trend-worth-seeing/?src=sidexpromo&amp;pid=551&amp;eid=551" onclick="return false;" style="display:block;text-decoration:none;color:black;margin-bottom:20px;">
          <div onclick="xpromo_link_tracker('http://sftimes.co/2015/02/27/pub-sheds-are-a-growing-trend-worth-seeing/?src=sidexpromo&amp;pid=551&amp;eid=551','35958','sidebar','1');return false;">
           <img border="0" data-pin-no-hover="true" src="http://sftimes.s3.amazonaws.com/a/2/f/8/a2f8f2de25a2ccbad1252cd462927f27.jpg" style="width:100%;display:block;"/>
           <div style='border:1px #e6e6e6 solid;border-top:0px none;text-align:left;font-family:Georgia, "lucida grande", tahoma, verdana, arial, sans-serif;font-size:16px;font-weight:500;padding:8px;background-color:white;'>
            Wait'll You See The Inside Of This Simple Backyard Shed. It's Not What You Think
            <div class="publish_date" style="margin-top:5px;text-align:center;">
             Home
             <span>
              
             </span>
             February 27
            </div>
           </div>
          </div>
         </a>
        </div>
       </td>
      </tr>
     </table>
    </div>
   </center>
   <script type="text/javascript">
    var depth = JSON.decode(window.localStorage.getItem("depth"));
if (!depth) {
  depth = 0;
}
   </script>
   <script type="text/javascript">
    depth = 1;
   </script>
   <script type="text/javascript">
    window.localStorage.setItem("depth",JSON.encode(depth));
  Page.trackAction("depth",depth+"_deep");
   </script>
   <script type="text/javascript">
    var viewed = JSON.decode(window.localStorage.getItem("viewed"));
if (!viewed) {
  viewed = {};
}

if (false &amp;&amp; !viewed["551"]) {
  var data = JSON.decode(window.localStorage.getItem("recent"));
  if (!data) {
    data = [];
  }
  var viewdata = {
      id:"551",
      src:"organic",
      time:"1436904343"
    };
  data.push(viewdata);
  var value = JSON.encode(data);
  if (data.length &gt; 1) {
    // send to server
    var ajax = new Ajax();
  	ajax.responseType = Ajax.JSON;
  	var params = {"data":value,"visitor_id":"5369043437244751244"};
  	ajax.post("/ajax/affinity.php", params);
    // clear data
    data = [];
    value = JSON.encode(data);
  }
  window.localStorage.setItem("recent",value);
  
  
}


viewed["551"] = true;
window.localStorage.setItem("viewed",JSON.encode(viewed));
   </script>
  </div>
  <script type="text/javascript">
   (function() {
  var s = document.createElement('script');
  s.src = "//assets.pinterest.com/js/pinit.js";
  s.setAttribute("data-pin-hover","true");
  s.async = true;
  s.defer = true;
  document.body.appendChild(s);
})();
  </script>
  <div style="clear:both;">
  </div>
  <div style="position:relative;background-color:#272727;height:420px;margin-top:30px;padding:30px;padding-right:100px;padding-left:100px;">
   <div style="padding:5px;margin-bottom:25px;color:white;font-family:Lato;line-height:25px;font-size:15px;">
    <div style="vertical-align:top;display:inline-block;width:200px;">
     <div style="font-family:Lora;font-size:18px;line-height:35px;margin-left:-3px;">
      Company
     </div>
     <div>
      <a href="http://sftimes.co/about.php" style="color:white;">
       About Us
      </a>
     </div>
     <div>
      <a href="http://sftimes.co/terms.php" style="color:white;">
       Terms of Service
      </a>
     </div>
     <div>
      <a href="http://sftimes.co/privacy.php" style="color:white;">
       Privacy Policy
      </a>
     </div>
     <div>
      <a href="http://sftimes.co/about.php#contactus" style="color:white;">
       Contact Us
      </a>
     </div>
    </div>
    <div style="vertical-align:top;display:inline-block;width:280px;">
     <center>
      <div style="font-family:Lora;font-size:18px;line-height:35px;">
       What We Love
      </div>
      <span style="margin-right:5px">
       <a href="?category=family" style="color:white">
        Family
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=science" style="color:white">
        Science
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=nature" style="color:white">
        Nature
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=talent" style="color:white">
        Talent
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <br/>
      <span style="margin-right:5px">
       <a href="?category=impact" style="color:white">
        Impact
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=world news" style="color:white">
        World
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=art" style="color:white">
        Art
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=humor" style="color:white">
        Humor
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <br/>
      <span style="margin-right:5px">
       <a href="?category=home" style="color:white">
        Home
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=stories" style="color:white">
        Stories
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=travel" style="color:white">
        Travel
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=news" style="color:white">
        U.S.
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <br/>
      <span style="margin-right:5px">
       <a href="?category=technology" style="color:white">
        Technology
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
      <span style="margin-right:5px">
       <a href="?category=health" style="color:white">
        Health
       </a>
      </span>
      <span style="margin-right:5px;color:#555555;">
      </span>
     </center>
    </div>
    <div style="vertical-align:top;display:inline-block;width:120px;text-align:right;float:right;">
     <script src="https://apis.google.com/js/platform.js">
     </script>
     <div class="g-ytsubscribe" data-channel="sfglobe">
     </div>
    </div>
    <div style="vertical-align:top;display:inline-block;width:200px;float:right;">
     <a class="twitter-follow-button" data-show-count="false" data-show-screen-name="true" data-size="large" href="https://twitter.com/theSFGlobe">
      Follow @theSFGlobe
     </a>
     <script>
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
     </script>
    </div>
    <div style="vertical-align:top;display:inline-block;width:100px;float:right;">
     <div class="fb-like" data-action="like" data-href="https://www.facebook.com/thesfglobe" data-layout="box_count" data-share="false" data-show-faces="false">
     </div>
    </div>
   </div>
   <div style="border-top:1px #f8f8f8 solid;padding-top:15px;position:relative;">
    <div style="font-size:50px;color:white;position:absolute;left:0px;top:13px;color:white;">
     SFG
    </div>
    <div style="line-height:20px;text-align:right;color:#f8f8f8;font-family:Lato;font-size:14px;position:absolute;right:80px;top:25px;">
     Copyright  2014 SFG Media Group, LLC.  All rights reserved
     <br/>
     Made with love in San Francisco
     <span style="font-size:12px;">
      
     </span>
    </div>
    <div style='color:#272727;position:absolute;right:0px;line-height:20px;padding:3px;font-size:15px;font-family:"Playfair Display";background-color:#f8f8f8;border-radius:50%;display;inline-block;width:55px;height:55px;text-align:center;'>
     <div style="margin-top:2px;">
      We
      <span style="color:red;font-size:20px;top:3px;position:relative;">
       
      </span>
      <br/>
      <span style="font-size:30px;">
       SF
      </span>
     </div>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   if(typeof FB != 'undefined' &amp;&amp; FB.Canvas &amp;&amp; FB.Canvas.setAutoGrow) {
    FB.Canvas.setAutoGrow();
  }
  else {
    window.fbAsyncInit = function() {
      FB.Canvas.setAutoGrow();
    }
  }
  </script>
 </body>
</html>